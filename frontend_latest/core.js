/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/common/auth/token_storage.ts":
/*!******************************************!*\
  !*** ./src/common/auth/token_storage.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"askWrite\": () => (/* binding */ askWrite),\n/* harmony export */   \"saveTokens\": () => (/* binding */ saveTokens),\n/* harmony export */   \"enableWrite\": () => (/* binding */ enableWrite),\n/* harmony export */   \"loadTokens\": () => (/* binding */ loadTokens)\n/* harmony export */ });\n/* harmony import */ var _url_search_params__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../url/search-params */ \"./src/common/url/search-params.ts\");\n\nconst storage = window.localStorage || {};\n// So that core.js and main app hit same shared object.\nlet tokenCache = window.__tokenCache;\n\nif (!tokenCache) {\n  tokenCache = window.__tokenCache = {\n    tokens: undefined,\n    writeEnabled: undefined\n  };\n}\n\nfunction askWrite() {\n  return tokenCache.tokens !== undefined && tokenCache.writeEnabled === undefined;\n}\nfunction saveTokens(tokens) {\n  tokenCache.tokens = tokens;\n\n  if (!tokenCache.writeEnabled && (0,_url_search_params__WEBPACK_IMPORTED_MODULE_0__.extractSearchParam)(\"storeToken\") === \"true\") {\n    tokenCache.writeEnabled = true;\n  }\n\n  if (tokenCache.writeEnabled) {\n    try {\n      storage.hassTokens = JSON.stringify(tokens);\n    } catch (err) {// write failed, ignore it. Happens if storage is full or private mode.\n    }\n  }\n}\nfunction enableWrite() {\n  tokenCache.writeEnabled = true;\n\n  if (tokenCache.tokens) {\n    saveTokens(tokenCache.tokens);\n  }\n}\nfunction loadTokens() {\n  if (tokenCache.tokens === undefined) {\n    try {\n      // Delete the old token cache.\n      delete storage.tokens;\n      const tokens = storage.hassTokens;\n\n      if (tokens) {\n        tokenCache.tokens = JSON.parse(tokens);\n        tokenCache.writeEnabled = true;\n      } else {\n        tokenCache.tokens = null;\n      }\n    } catch (err) {\n      tokenCache.tokens = null;\n    }\n  }\n\n  return tokenCache.tokens;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL2F1dGgvdG9rZW5fc3RvcmFnZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBRUE7QUFhQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTs7QUFFQTtBQUNBO0FBR0E7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9hdXRoL3Rva2VuX3N0b3JhZ2UudHM/ODVmYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBdXRoRGF0YSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IGV4dHJhY3RTZWFyY2hQYXJhbSB9IGZyb20gXCIuLi91cmwvc2VhcmNoLXBhcmFtc1wiO1xuXG5jb25zdCBzdG9yYWdlID0gd2luZG93LmxvY2FsU3RvcmFnZSB8fCB7fTtcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBfX3Rva2VuQ2FjaGU6IHtcbiAgICAgIC8vIHVuZGVmaW5lZDogd2UgaGF2ZW4ndCBsb2FkZWQgeWV0XG4gICAgICAvLyBudWxsOiBub25lIHN0b3JlZFxuICAgICAgdG9rZW5zPzogQXV0aERhdGEgfCBudWxsO1xuICAgICAgd3JpdGVFbmFibGVkPzogYm9vbGVhbjtcbiAgICB9O1xuICB9XG59XG5cbi8vIFNvIHRoYXQgY29yZS5qcyBhbmQgbWFpbiBhcHAgaGl0IHNhbWUgc2hhcmVkIG9iamVjdC5cbmxldCB0b2tlbkNhY2hlID0gd2luZG93Ll9fdG9rZW5DYWNoZTtcbmlmICghdG9rZW5DYWNoZSkge1xuICB0b2tlbkNhY2hlID0gd2luZG93Ll9fdG9rZW5DYWNoZSA9IHtcbiAgICB0b2tlbnM6IHVuZGVmaW5lZCxcbiAgICB3cml0ZUVuYWJsZWQ6IHVuZGVmaW5lZCxcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFza1dyaXRlKCkge1xuICByZXR1cm4gKFxuICAgIHRva2VuQ2FjaGUudG9rZW5zICE9PSB1bmRlZmluZWQgJiYgdG9rZW5DYWNoZS53cml0ZUVuYWJsZWQgPT09IHVuZGVmaW5lZFxuICApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2F2ZVRva2Vucyh0b2tlbnM6IEF1dGhEYXRhIHwgbnVsbCkge1xuICB0b2tlbkNhY2hlLnRva2VucyA9IHRva2VucztcblxuICBpZiAoIXRva2VuQ2FjaGUud3JpdGVFbmFibGVkICYmIGV4dHJhY3RTZWFyY2hQYXJhbShcInN0b3JlVG9rZW5cIikgPT09IFwidHJ1ZVwiKSB7XG4gICAgdG9rZW5DYWNoZS53cml0ZUVuYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHRva2VuQ2FjaGUud3JpdGVFbmFibGVkKSB7XG4gICAgdHJ5IHtcbiAgICAgIHN0b3JhZ2UuaGFzc1Rva2VucyA9IEpTT04uc3RyaW5naWZ5KHRva2Vucyk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIC8vIHdyaXRlIGZhaWxlZCwgaWdub3JlIGl0LiBIYXBwZW5zIGlmIHN0b3JhZ2UgaXMgZnVsbCBvciBwcml2YXRlIG1vZGUuXG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVXcml0ZSgpIHtcbiAgdG9rZW5DYWNoZS53cml0ZUVuYWJsZWQgPSB0cnVlO1xuICBpZiAodG9rZW5DYWNoZS50b2tlbnMpIHtcbiAgICBzYXZlVG9rZW5zKHRva2VuQ2FjaGUudG9rZW5zKTtcbiAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGxvYWRUb2tlbnMoKSB7XG4gIGlmICh0b2tlbkNhY2hlLnRva2VucyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIERlbGV0ZSB0aGUgb2xkIHRva2VuIGNhY2hlLlxuICAgICAgZGVsZXRlIHN0b3JhZ2UudG9rZW5zO1xuICAgICAgY29uc3QgdG9rZW5zID0gc3RvcmFnZS5oYXNzVG9rZW5zO1xuICAgICAgaWYgKHRva2Vucykge1xuICAgICAgICB0b2tlbkNhY2hlLnRva2VucyA9IEpTT04ucGFyc2UodG9rZW5zKTtcbiAgICAgICAgdG9rZW5DYWNoZS53cml0ZUVuYWJsZWQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdG9rZW5DYWNoZS50b2tlbnMgPSBudWxsO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICB0b2tlbkNhY2hlLnRva2VucyA9IG51bGw7XG4gICAgfVxuICB9XG4gIHJldHVybiB0b2tlbkNhY2hlLnRva2Vucztcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/common/auth/token_storage.ts\n");

/***/ }),

/***/ "./src/common/url/search-params.ts":
/*!*****************************************!*\
  !*** ./src/common/url/search-params.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"extractSearchParamsObject\": () => (/* binding */ extractSearchParamsObject),\n/* harmony export */   \"extractSearchParam\": () => (/* binding */ extractSearchParam),\n/* harmony export */   \"createSearchParam\": () => (/* binding */ createSearchParam),\n/* harmony export */   \"addSearchParam\": () => (/* binding */ addSearchParam),\n/* harmony export */   \"removeSearchParam\": () => (/* binding */ removeSearchParam)\n/* harmony export */ });\nconst extractSearchParamsObject = () => {\n  const query = {};\n  const searchParams = new URLSearchParams(location.search);\n\n  for (const [key, value] of searchParams.entries()) {\n    query[key] = value;\n  }\n\n  return query;\n};\nconst extractSearchParam = param => {\n  const urlParams = new URLSearchParams(window.location.search);\n  return urlParams.get(param);\n};\nconst createSearchParam = params => {\n  const urlParams = new URLSearchParams();\n  Object.entries(params).forEach(([key, value]) => {\n    urlParams.append(key, value);\n  });\n  return urlParams.toString();\n};\nconst addSearchParam = params => {\n  const urlParams = new URLSearchParams(window.location.search);\n  Object.entries(params).forEach(([key, value]) => {\n    urlParams.set(key, value);\n  });\n  return urlParams.toString();\n};\nconst removeSearchParam = param => {\n  const urlParams = new URLSearchParams(window.location.search);\n  urlParams.delete(param);\n  return urlParams.toString();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3VybC9zZWFyY2gtcGFyYW1zLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi91cmwvc2VhcmNoLXBhcmFtcy50cz8wMWM0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBleHRyYWN0U2VhcmNoUGFyYW1zT2JqZWN0ID0gKCk6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPT4ge1xuICBjb25zdCBxdWVyeSA9IHt9O1xuICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG4gIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIHNlYXJjaFBhcmFtcy5lbnRyaWVzKCkpIHtcbiAgICBxdWVyeVtrZXldID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHF1ZXJ5O1xufTtcblxuZXhwb3J0IGNvbnN0IGV4dHJhY3RTZWFyY2hQYXJhbSA9IChwYXJhbTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIHJldHVybiB1cmxQYXJhbXMuZ2V0KHBhcmFtKTtcbn07XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVTZWFyY2hQYXJhbSA9IChwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKCk7XG4gIE9iamVjdC5lbnRyaWVzKHBhcmFtcykuZm9yRWFjaCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgdXJsUGFyYW1zLmFwcGVuZChrZXksIHZhbHVlKTtcbiAgfSk7XG4gIHJldHVybiB1cmxQYXJhbXMudG9TdHJpbmcoKTtcbn07XG5cbmV4cG9ydCBjb25zdCBhZGRTZWFyY2hQYXJhbSA9IChwYXJhbXM6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4pOiBzdHJpbmcgPT4ge1xuICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpO1xuICBPYmplY3QuZW50cmllcyhwYXJhbXMpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIHVybFBhcmFtcy5zZXQoa2V5LCB2YWx1ZSk7XG4gIH0pO1xuICByZXR1cm4gdXJsUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlU2VhcmNoUGFyYW0gPSAocGFyYW06IHN0cmluZyk6IHN0cmluZyA9PiB7XG4gIGNvbnN0IHVybFBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7XG4gIHVybFBhcmFtcy5kZWxldGUocGFyYW0pO1xuICByZXR1cm4gdXJsUGFyYW1zLnRvU3RyaW5nKCk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/url/search-params.ts\n");

/***/ }),

/***/ "./src/data/auth.ts":
/*!**************************!*\
  !*** ./src/data/auth.ts ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"hassUrl\": () => (/* binding */ hassUrl),\n/* harmony export */   \"getSignedPath\": () => (/* binding */ getSignedPath),\n/* harmony export */   \"fetchAuthProviders\": () => (/* binding */ fetchAuthProviders),\n/* harmony export */   \"createAuthForUser\": () => (/* binding */ createAuthForUser),\n/* harmony export */   \"adminChangePassword\": () => (/* binding */ adminChangePassword)\n/* harmony export */ });\nconst hassUrl = `${location.protocol}//${location.host}`;\nconst getSignedPath = (hass, path) => hass.callWS({\n  type: \"auth/sign_path\",\n  path\n});\nconst fetchAuthProviders = () => fetch(\"/auth/providers\", {\n  credentials: \"same-origin\"\n});\nconst createAuthForUser = async (hass, userId, username, password) => hass.callWS({\n  type: \"config/auth_provider/homeassistant/create\",\n  user_id: userId,\n  username,\n  password\n});\nconst adminChangePassword = async (hass, userId, password) => hass.callWS({\n  type: \"config/auth_provider/homeassistant/admin_change_password\",\n  user_id: userId,\n  password\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9hdXRoLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBc0JBO0FBRUE7QUFHQTtBQUFBO0FBQUE7QUFFQTtBQUVBO0FBREE7QUFJQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTtBQU1BO0FBQ0E7QUFDQTtBQUhBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9hdXRoLnRzP2NkNWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEF1dGhVcmxTZWFyY2hQYXJhbXMge1xuICBjbGllbnRfaWQ/OiBzdHJpbmc7XG4gIHJlZGlyZWN0X3VyaT86IHN0cmluZztcbiAgc3RhdGU/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXV0aFByb3ZpZGVyIHtcbiAgbmFtZTogc3RyaW5nO1xuICBpZDogc3RyaW5nO1xuICB0eXBlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ3JlZGVudGlhbCB7XG4gIHR5cGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaWduZWRQYXRoIHtcbiAgcGF0aDogc3RyaW5nO1xufVxuXG5leHBvcnQgY29uc3QgaGFzc1VybCA9IGAke2xvY2F0aW9uLnByb3RvY29sfS8vJHtsb2NhdGlvbi5ob3N0fWA7XG5cbmV4cG9ydCBjb25zdCBnZXRTaWduZWRQYXRoID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBwYXRoOiBzdHJpbmdcbik6IFByb21pc2U8U2lnbmVkUGF0aD4gPT4gaGFzcy5jYWxsV1MoeyB0eXBlOiBcImF1dGgvc2lnbl9wYXRoXCIsIHBhdGggfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaEF1dGhQcm92aWRlcnMgPSAoKSA9PlxuICBmZXRjaChcIi9hdXRoL3Byb3ZpZGVyc1wiLCB7XG4gICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBjcmVhdGVBdXRoRm9yVXNlciA9IGFzeW5jIChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIHVzZXJuYW1lOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbikgPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2F1dGhfcHJvdmlkZXIvaG9tZWFzc2lzdGFudC9jcmVhdGVcIixcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgdXNlcm5hbWUsXG4gICAgcGFzc3dvcmQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgYWRtaW5DaGFuZ2VQYXNzd29yZCA9IGFzeW5jIChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgdXNlcklkOiBzdHJpbmcsXG4gIHBhc3N3b3JkOiBzdHJpbmdcbikgPT5cbiAgaGFzcy5jYWxsV1M8dm9pZD4oe1xuICAgIHR5cGU6IFwiY29uZmlnL2F1dGhfcHJvdmlkZXIvaG9tZWFzc2lzdGFudC9hZG1pbl9jaGFuZ2VfcGFzc3dvcmRcIixcbiAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgcGFzc3dvcmQsXG4gIH0pO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/auth.ts\n");

/***/ }),

/***/ "./src/data/collection.ts":
/*!********************************!*\
  !*** ./src/data/collection.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getOptimisticCollection\": () => (/* binding */ getOptimisticCollection)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\n\n/**\n * Create an optimistic collection that includes a save function.\n * When the collection is saved, the collection is optimistically updated.\n * The update is reversed when the update failed.\n */\nconst getOptimisticCollection = (saveCollection, conn, key, fetchCollection, subscribeUpdates) => {\n  const updateKey = `${key}-optimistic`;\n  const collection = (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, key, fetchCollection, async (_conn, store) => {\n    // Subscribe to original updates\n    const subUpResult = subscribeUpdates ? subscribeUpdates(conn, store) : undefined; // Store the store\n\n    conn[updateKey] = store; // Unsub function to undo both\n\n    return () => {\n      if (subUpResult) {\n        subUpResult.then(unsub => unsub());\n      }\n\n      conn[updateKey] = undefined;\n    };\n  });\n  return { ...collection,\n\n    async save(data) {\n      const store = conn[updateKey];\n      let current; // Can be undefined if currently no subscribers\n\n      if (store) {\n        current = store.state;\n        store.setState(data, true);\n      }\n\n      try {\n        return await saveCollection(conn, data);\n      } catch (err) {\n        if (store) {\n          store.setState(current, true);\n        }\n\n        throw err;\n      }\n    }\n\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9jb2xsZWN0aW9uLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7O0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBVUE7QUFFQTtBQUtBO0FBQ0E7O0FBSUE7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBcEJBO0FBc0JBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9jb2xsZWN0aW9uLnRzP2IzYzciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29sbGVjdGlvbixcbiAgQ29ubmVjdGlvbixcbiAgZ2V0Q29sbGVjdGlvbixcbiAgVW5zdWJzY3JpYmVGdW5jLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBTdG9yZSB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zdG9yZVwiO1xuXG5pbnRlcmZhY2UgT3B0aW1pc3RpY0NvbGxlY3Rpb248VD4gZXh0ZW5kcyBDb2xsZWN0aW9uPFQ+IHtcbiAgc2F2ZShkYXRhOiBUKTogUHJvbWlzZTx1bmtub3duPjtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gb3B0aW1pc3RpYyBjb2xsZWN0aW9uIHRoYXQgaW5jbHVkZXMgYSBzYXZlIGZ1bmN0aW9uLlxuICogV2hlbiB0aGUgY29sbGVjdGlvbiBpcyBzYXZlZCwgdGhlIGNvbGxlY3Rpb24gaXMgb3B0aW1pc3RpY2FsbHkgdXBkYXRlZC5cbiAqIFRoZSB1cGRhdGUgaXMgcmV2ZXJzZWQgd2hlbiB0aGUgdXBkYXRlIGZhaWxlZC5cbiAqL1xuXG5leHBvcnQgY29uc3QgZ2V0T3B0aW1pc3RpY0NvbGxlY3Rpb24gPSA8U3RhdGVUeXBlPihcbiAgc2F2ZUNvbGxlY3Rpb246IChjb25uMjogQ29ubmVjdGlvbiwgZGF0YTogU3RhdGVUeXBlKSA9PiBQcm9taXNlPHVua25vd24+LFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBrZXk6IHN0cmluZyxcbiAgZmV0Y2hDb2xsZWN0aW9uOiAoY29ubjI6IENvbm5lY3Rpb24pID0+IFByb21pc2U8U3RhdGVUeXBlPixcbiAgc3Vic2NyaWJlVXBkYXRlcz86IChcbiAgICBjb25uMjogQ29ubmVjdGlvbixcbiAgICBzdG9yZTogU3RvcmU8U3RhdGVUeXBlPlxuICApID0+IFByb21pc2U8VW5zdWJzY3JpYmVGdW5jPlxuKTogT3B0aW1pc3RpY0NvbGxlY3Rpb248U3RhdGVUeXBlPiA9PiB7XG4gIGNvbnN0IHVwZGF0ZUtleSA9IGAke2tleX0tb3B0aW1pc3RpY2A7XG5cbiAgY29uc3QgY29sbGVjdGlvbiA9IGdldENvbGxlY3Rpb248U3RhdGVUeXBlPihcbiAgICBjb25uLFxuICAgIGtleSxcbiAgICBmZXRjaENvbGxlY3Rpb24sXG4gICAgYXN5bmMgKF9jb25uLCBzdG9yZSkgPT4ge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIG9yaWdpbmFsIHVwZGF0ZXNcbiAgICAgIGNvbnN0IHN1YlVwUmVzdWx0ID0gc3Vic2NyaWJlVXBkYXRlc1xuICAgICAgICA/IHN1YnNjcmliZVVwZGF0ZXMoY29ubiwgc3RvcmUpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgLy8gU3RvcmUgdGhlIHN0b3JlXG4gICAgICBjb25uW3VwZGF0ZUtleV0gPSBzdG9yZTtcblxuICAgICAgLy8gVW5zdWIgZnVuY3Rpb24gdG8gdW5kbyBib3RoXG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBpZiAoc3ViVXBSZXN1bHQpIHtcbiAgICAgICAgICBzdWJVcFJlc3VsdC50aGVuKCh1bnN1YikgPT4gdW5zdWIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29ublt1cGRhdGVLZXldID0gdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG4gICk7XG4gIHJldHVybiB7XG4gICAgLi4uY29sbGVjdGlvbixcbiAgICBhc3luYyBzYXZlKGRhdGE6IFN0YXRlVHlwZSkge1xuICAgICAgY29uc3Qgc3RvcmU6IFN0b3JlPFN0YXRlVHlwZT4gfCB1bmRlZmluZWQgPSBjb25uW3VwZGF0ZUtleV07XG4gICAgICBsZXQgY3VycmVudDtcblxuICAgICAgLy8gQ2FuIGJlIHVuZGVmaW5lZCBpZiBjdXJyZW50bHkgbm8gc3Vic2NyaWJlcnNcbiAgICAgIGlmIChzdG9yZSkge1xuICAgICAgICBjdXJyZW50ID0gc3RvcmUuc3RhdGU7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKGRhdGEsIHRydWUpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICByZXR1cm4gYXdhaXQgc2F2ZUNvbGxlY3Rpb24oY29ubiwgZGF0YSk7XG4gICAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgICBpZiAoc3RvcmUpIHtcbiAgICAgICAgICBzdG9yZS5zZXRTdGF0ZShjdXJyZW50IGFzIGFueSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgIH0sXG4gIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/collection.ts\n");

/***/ }),

/***/ "./src/data/external.ts":
/*!******************************!*\
  !*** ./src/data/external.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isExternal\": () => (/* binding */ isExternal)\n/* harmony export */ });\nvar _window$webkit, _window$webkit$messag;\n\nconst isExternal = window.externalApp || ((_window$webkit = window.webkit) === null || _window$webkit === void 0 ? void 0 : (_window$webkit$messag = _window$webkit.messageHandlers) === null || _window$webkit$messag === void 0 ? void 0 : _window$webkit$messag.getExternalAuth) || location.search.includes(\"external_auth=1\");//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9leHRlcm5hbC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvZXh0ZXJuYWwudHM/MTc4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaXNFeHRlcm5hbCA9XG4gIHdpbmRvdy5leHRlcm5hbEFwcCB8fFxuICB3aW5kb3cud2Via2l0Py5tZXNzYWdlSGFuZGxlcnM/LmdldEV4dGVybmFsQXV0aCB8fFxuICBsb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoXCJleHRlcm5hbF9hdXRoPTFcIik7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/external.ts\n");

/***/ }),

/***/ "./src/data/frontend.ts":
/*!******************************!*\
  !*** ./src/data/frontend.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchFrontendUserData\": () => (/* binding */ fetchFrontendUserData),\n/* harmony export */   \"saveFrontendUserData\": () => (/* binding */ saveFrontendUserData),\n/* harmony export */   \"getOptimisticFrontendUserDataCollection\": () => (/* binding */ getOptimisticFrontendUserDataCollection),\n/* harmony export */   \"subscribeFrontendUserData\": () => (/* binding */ subscribeFrontendUserData)\n/* harmony export */ });\n/* harmony import */ var _collection__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./collection */ \"./src/data/collection.ts\");\n\nconst fetchFrontendUserData = async (conn, key) => {\n  const result = await conn.sendMessagePromise({\n    type: \"frontend/get_user_data\",\n    key\n  });\n  return result.value;\n};\nconst saveFrontendUserData = async (conn, key, value) => conn.sendMessagePromise({\n  type: \"frontend/set_user_data\",\n  key,\n  value\n});\nconst getOptimisticFrontendUserDataCollection = (conn, userDataKey) => (0,_collection__WEBPACK_IMPORTED_MODULE_0__.getOptimisticCollection)((_conn, data) => saveFrontendUserData(conn, userDataKey, // @ts-ignore\ndata), conn, `_frontendUserData-${userDataKey}`, () => fetchFrontendUserData(conn, userDataKey));\nconst subscribeFrontendUserData = (conn, userDataKey, onChange) => getOptimisticFrontendUserDataCollection(conn, userDataKey).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9mcm9udGVuZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBY0E7QUFNQTtBQUdBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFFQTtBQVFBO0FBQ0E7QUFDQTtBQUhBO0FBTUE7QUFZQTtBQU9BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS9mcm9udGVuZC50cz80MzBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBnZXRPcHRpbWlzdGljQ29sbGVjdGlvbiB9IGZyb20gXCIuL2NvbGxlY3Rpb25cIjtcblxuZXhwb3J0IGludGVyZmFjZSBDb3JlRnJvbnRlbmRVc2VyRGF0YSB7XG4gIHNob3dBZHZhbmNlZD86IGJvb2xlYW47XG59XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEZyb250ZW5kVXNlckRhdGEge1xuICAgIGNvcmU6IENvcmVGcm9udGVuZFVzZXJEYXRhO1xuICB9XG59XG5cbmV4cG9ydCB0eXBlIFZhbGlkVXNlckRhdGFLZXkgPSBrZXlvZiBGcm9udGVuZFVzZXJEYXRhO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hGcm9udGVuZFVzZXJEYXRhID0gYXN5bmMgPFxuICBVc2VyRGF0YUtleSBleHRlbmRzIFZhbGlkVXNlckRhdGFLZXlcbj4oXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIGtleTogVXNlckRhdGFLZXlcbik6IFByb21pc2U8RnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV0gfCBudWxsPiA9PiB7XG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlPHtcbiAgICB2YWx1ZTogRnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV0gfCBudWxsO1xuICB9Pih7XG4gICAgdHlwZTogXCJmcm9udGVuZC9nZXRfdXNlcl9kYXRhXCIsXG4gICAga2V5LFxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRnJvbnRlbmRVc2VyRGF0YSA9IGFzeW5jIDxcbiAgVXNlckRhdGFLZXkgZXh0ZW5kcyBWYWxpZFVzZXJEYXRhS2V5XG4+KFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBrZXk6IFVzZXJEYXRhS2V5LFxuICB2YWx1ZTogRnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV1cbik6IFByb21pc2U8dm9pZD4gPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2U8dm9pZD4oe1xuICAgIHR5cGU6IFwiZnJvbnRlbmQvc2V0X3VzZXJfZGF0YVwiLFxuICAgIGtleSxcbiAgICB2YWx1ZSxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBnZXRPcHRpbWlzdGljRnJvbnRlbmRVc2VyRGF0YUNvbGxlY3Rpb24gPSA8XG4gIFVzZXJEYXRhS2V5IGV4dGVuZHMgVmFsaWRVc2VyRGF0YUtleVxuPihcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgdXNlckRhdGFLZXk6IFVzZXJEYXRhS2V5XG4pID0+XG4gIGdldE9wdGltaXN0aWNDb2xsZWN0aW9uKFxuICAgIChfY29ubiwgZGF0YSkgPT5cbiAgICAgIHNhdmVGcm9udGVuZFVzZXJEYXRhKFxuICAgICAgICBjb25uLFxuICAgICAgICB1c2VyRGF0YUtleSxcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBkYXRhXG4gICAgICApLFxuICAgIGNvbm4sXG4gICAgYF9mcm9udGVuZFVzZXJEYXRhLSR7dXNlckRhdGFLZXl9YCxcbiAgICAoKSA9PiBmZXRjaEZyb250ZW5kVXNlckRhdGEoY29ubiwgdXNlckRhdGFLZXkpXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVGcm9udGVuZFVzZXJEYXRhID0gPFVzZXJEYXRhS2V5IGV4dGVuZHMgVmFsaWRVc2VyRGF0YUtleT4oXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIHVzZXJEYXRhS2V5OiBVc2VyRGF0YUtleSxcbiAgb25DaGFuZ2U6IChzdGF0ZTogRnJvbnRlbmRVc2VyRGF0YVtVc2VyRGF0YUtleV0gfCBudWxsKSA9PiB2b2lkXG4pID0+XG4gIGdldE9wdGltaXN0aWNGcm9udGVuZFVzZXJEYXRhQ29sbGVjdGlvbihjb25uLCB1c2VyRGF0YUtleSkuc3Vic2NyaWJlKFxuICAgIG9uQ2hhbmdlXG4gICk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/frontend.ts\n");

/***/ }),

/***/ "./src/data/lovelace.ts":
/*!******************************!*\
  !*** ./src/data/lovelace.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"fetchResources\": () => (/* binding */ fetchResources),\n/* harmony export */   \"createResource\": () => (/* binding */ createResource),\n/* harmony export */   \"updateResource\": () => (/* binding */ updateResource),\n/* harmony export */   \"deleteResource\": () => (/* binding */ deleteResource),\n/* harmony export */   \"fetchDashboards\": () => (/* binding */ fetchDashboards),\n/* harmony export */   \"createDashboard\": () => (/* binding */ createDashboard),\n/* harmony export */   \"updateDashboard\": () => (/* binding */ updateDashboard),\n/* harmony export */   \"deleteDashboard\": () => (/* binding */ deleteDashboard),\n/* harmony export */   \"fetchConfig\": () => (/* binding */ fetchConfig),\n/* harmony export */   \"saveConfig\": () => (/* binding */ saveConfig),\n/* harmony export */   \"deleteConfig\": () => (/* binding */ deleteConfig),\n/* harmony export */   \"subscribeLovelaceUpdates\": () => (/* binding */ subscribeLovelaceUpdates),\n/* harmony export */   \"getLovelaceCollection\": () => (/* binding */ getLovelaceCollection),\n/* harmony export */   \"getLegacyLovelaceCollection\": () => (/* binding */ getLegacyLovelaceCollection)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\nconst fetchResources = conn => conn.sendMessagePromise({\n  type: \"lovelace/resources\"\n});\nconst createResource = (hass, values) => hass.callWS({\n  type: \"lovelace/resources/create\",\n  ...values\n});\nconst updateResource = (hass, id, updates) => hass.callWS({\n  type: \"lovelace/resources/update\",\n  resource_id: id,\n  ...updates\n});\nconst deleteResource = (hass, id) => hass.callWS({\n  type: \"lovelace/resources/delete\",\n  resource_id: id\n});\nconst fetchDashboards = hass => hass.callWS({\n  type: \"lovelace/dashboards/list\"\n});\nconst createDashboard = (hass, values) => hass.callWS({\n  type: \"lovelace/dashboards/create\",\n  ...values\n});\nconst updateDashboard = (hass, id, updates) => hass.callWS({\n  type: \"lovelace/dashboards/update\",\n  dashboard_id: id,\n  ...updates\n});\nconst deleteDashboard = (hass, id) => hass.callWS({\n  type: \"lovelace/dashboards/delete\",\n  dashboard_id: id\n});\nconst fetchConfig = (conn, urlPath, force) => conn.sendMessagePromise({\n  type: \"lovelace/config\",\n  url_path: urlPath,\n  force\n});\nconst saveConfig = (hass, urlPath, config) => hass.callWS({\n  type: \"lovelace/config/save\",\n  url_path: urlPath,\n  config\n});\nconst deleteConfig = (hass, urlPath) => hass.callWS({\n  type: \"lovelace/config/delete\",\n  url_path: urlPath\n});\nconst subscribeLovelaceUpdates = (conn, urlPath, onChange) => conn.subscribeEvents(ev => {\n  if (ev.data.url_path === urlPath) {\n    onChange();\n  }\n}, \"lovelace_updated\");\nconst getLovelaceCollection = (conn, urlPath = null) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, `_lovelace_${urlPath !== null && urlPath !== void 0 ? urlPath : \"\"}`, conn2 => fetchConfig(conn2, urlPath, false), (_conn, store) => subscribeLovelaceUpdates(conn, urlPath, () => fetchConfig(conn, urlPath, false).then(config => store.setState(config, true)))); // Legacy functions to support cast for Home Assistion < 0.107\n\nconst fetchLegacyConfig = (conn, force) => conn.sendMessagePromise({\n  type: \"lovelace/config\",\n  force\n});\n\nconst subscribeLegacyLovelaceUpdates = (conn, onChange) => conn.subscribeEvents(onChange, \"lovelace_updated\");\n\nconst getLegacyLovelaceCollection = conn => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, \"_lovelace\", conn2 => fetchLegacyConfig(conn2, false), (_conn, store) => subscribeLegacyLovelaceUpdates(conn, () => fetchLegacyConfig(conn, false).then(config => store.setState(config, true))));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9sb3ZlbGFjZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQStMQTtBQUVBO0FBREE7QUFJQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBSUE7QUFEQTtBQUlBO0FBS0E7QUFDQTtBQUZBO0FBS0E7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBRUE7QUFDQTtBQUZBO0FBS0E7QUFNQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFpQkE7QUFLQTtBQUNBO0FBRkE7O0FBS0E7O0FBS0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL2xvdmVsYWNlLnRzPzQzNjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ29ubmVjdGlvbixcbiAgZ2V0Q29sbGVjdGlvbixcbiAgSGFzc0V2ZW50QmFzZSxcbiAgSGFzc1NlcnZpY2VUYXJnZXQsXG59IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IEhBU1NEb21FdmVudCB9IGZyb20gXCIuLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcbmltcG9ydCB7IEh1aUVycm9yQ2FyZCB9IGZyb20gXCIuLi9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvaHVpLWVycm9yLWNhcmRcIjtcbmltcG9ydCB7XG4gIExvdmVsYWNlLFxuICBMb3ZlbGFjZUJhZGdlLFxuICBMb3ZlbGFjZUNhcmQsXG59IGZyb20gXCIuLi9wYW5lbHMvbG92ZWxhY2UvdHlwZXNcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZVBhbmVsQ29uZmlnIHtcbiAgbW9kZTogXCJ5YW1sXCIgfCBcInN0b3JhZ2VcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZUNvbmZpZyB7XG4gIHRpdGxlPzogc3RyaW5nO1xuICBzdHJhdGVneT86IHtcbiAgICB0eXBlOiBzdHJpbmc7XG4gICAgb3B0aW9ucz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICB9O1xuICB2aWV3czogTG92ZWxhY2VWaWV3Q29uZmlnW107XG4gIGJhY2tncm91bmQ/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGVnYWN5TG92ZWxhY2VDb25maWcgZXh0ZW5kcyBMb3ZlbGFjZUNvbmZpZyB7XG4gIHJlc291cmNlcz86IExvdmVsYWNlUmVzb3VyY2VbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZVJlc291cmNlIHtcbiAgaWQ6IHN0cmluZztcbiAgdHlwZTogXCJjc3NcIiB8IFwianNcIiB8IFwibW9kdWxlXCIgfCBcImh0bWxcIjtcbiAgdXJsOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zIHtcbiAgcmVzX3R5cGU6IExvdmVsYWNlUmVzb3VyY2VbXCJ0eXBlXCJdO1xuICB1cmw6IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgTG92ZWxhY2VEYXNoYm9hcmQgPVxuICB8IExvdmVsYWNlWWFtbERhc2hib2FyZFxuICB8IExvdmVsYWNlU3RvcmFnZURhc2hib2FyZDtcblxuaW50ZXJmYWNlIExvdmVsYWNlR2VuZXJpY0Rhc2hib2FyZCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVybF9wYXRoOiBzdHJpbmc7XG4gIHJlcXVpcmVfYWRtaW46IGJvb2xlYW47XG4gIHNob3dfaW5fc2lkZWJhcjogYm9vbGVhbjtcbiAgaWNvbj86IHN0cmluZztcbiAgdGl0bGU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZVlhbWxEYXNoYm9hcmQgZXh0ZW5kcyBMb3ZlbGFjZUdlbmVyaWNEYXNoYm9hcmQge1xuICBtb2RlOiBcInlhbWxcIjtcbiAgZmlsZW5hbWU6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZVN0b3JhZ2VEYXNoYm9hcmQgZXh0ZW5kcyBMb3ZlbGFjZUdlbmVyaWNEYXNoYm9hcmQge1xuICBtb2RlOiBcInN0b3JhZ2VcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZURhc2hib2FyZE11dGFibGVQYXJhbXMge1xuICByZXF1aXJlX2FkbWluOiBib29sZWFuO1xuICBzaG93X2luX3NpZGViYXI6IGJvb2xlYW47XG4gIGljb24/OiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG92ZWxhY2VEYXNoYm9hcmRDcmVhdGVQYXJhbXNcbiAgZXh0ZW5kcyBMb3ZlbGFjZURhc2hib2FyZE11dGFibGVQYXJhbXMge1xuICB1cmxfcGF0aDogc3RyaW5nO1xuICBtb2RlOiBcInN0b3JhZ2VcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZVZpZXdDb25maWcge1xuICBpbmRleD86IG51bWJlcjtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIHN0cmF0ZWd5Pzoge1xuICAgIHR5cGU6IHN0cmluZztcbiAgICBvcHRpb25zPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIH07XG4gIGJhZGdlcz86IEFycmF5PHN0cmluZyB8IExvdmVsYWNlQmFkZ2VDb25maWc+O1xuICBjYXJkcz86IExvdmVsYWNlQ2FyZENvbmZpZ1tdO1xuICBwYXRoPzogc3RyaW5nO1xuICBpY29uPzogc3RyaW5nO1xuICB0aGVtZT86IHN0cmluZztcbiAgcGFuZWw/OiBib29sZWFuO1xuICBiYWNrZ3JvdW5kPzogc3RyaW5nO1xuICB2aXNpYmxlPzogYm9vbGVhbiB8IFNob3dWaWV3Q29uZmlnW107XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG92ZWxhY2VWaWV3RWxlbWVudCBleHRlbmRzIEhUTUxFbGVtZW50IHtcbiAgaGFzcz86IEhvbWVBc3Npc3RhbnQ7XG4gIGxvdmVsYWNlPzogTG92ZWxhY2U7XG4gIG5hcnJvdz86IGJvb2xlYW47XG4gIGluZGV4PzogbnVtYmVyO1xuICBjYXJkcz86IEFycmF5PExvdmVsYWNlQ2FyZCB8IEh1aUVycm9yQ2FyZD47XG4gIGJhZGdlcz86IExvdmVsYWNlQmFkZ2VbXTtcbiAgaXNTdHJhdGVneTogYm9vbGVhbjtcbiAgc2V0Q29uZmlnKGNvbmZpZzogTG92ZWxhY2VWaWV3Q29uZmlnKTogdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBTaG93Vmlld0NvbmZpZyB7XG4gIHVzZXI/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTG92ZWxhY2VCYWRnZUNvbmZpZyB7XG4gIHR5cGU/OiBzdHJpbmc7XG4gIFtrZXk6IHN0cmluZ106IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBMb3ZlbGFjZUNhcmRDb25maWcge1xuICBpbmRleD86IG51bWJlcjtcbiAgdmlld19pbmRleD86IG51bWJlcjtcbiAgdmlld19sYXlvdXQ/OiBhbnk7XG4gIHR5cGU6IHN0cmluZztcbiAgW2tleTogc3RyaW5nXTogYW55O1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFRvZ2dsZUFjdGlvbkNvbmZpZyBleHRlbmRzIEJhc2VBY3Rpb25Db25maWcge1xuICBhY3Rpb246IFwidG9nZ2xlXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQ2FsbFNlcnZpY2VBY3Rpb25Db25maWcgZXh0ZW5kcyBCYXNlQWN0aW9uQ29uZmlnIHtcbiAgYWN0aW9uOiBcImNhbGwtc2VydmljZVwiO1xuICBzZXJ2aWNlOiBzdHJpbmc7XG4gIHRhcmdldD86IEhhc3NTZXJ2aWNlVGFyZ2V0O1xuICAvLyBcInNlcnZpY2VfZGF0YVwiIGlzIGtlcHQgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LiBSZXBsYWNlZCBieSBcImRhdGFcIi5cbiAgc2VydmljZV9kYXRhPzogUmVjb3JkPHN0cmluZywgdW5rbm93bj47XG4gIGRhdGE/OiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBOYXZpZ2F0ZUFjdGlvbkNvbmZpZyBleHRlbmRzIEJhc2VBY3Rpb25Db25maWcge1xuICBhY3Rpb246IFwibmF2aWdhdGVcIjtcbiAgbmF2aWdhdGlvbl9wYXRoOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXJsQWN0aW9uQ29uZmlnIGV4dGVuZHMgQmFzZUFjdGlvbkNvbmZpZyB7XG4gIGFjdGlvbjogXCJ1cmxcIjtcbiAgdXJsX3BhdGg6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBNb3JlSW5mb0FjdGlvbkNvbmZpZyBleHRlbmRzIEJhc2VBY3Rpb25Db25maWcge1xuICBhY3Rpb246IFwibW9yZS1pbmZvXCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgTm9BY3Rpb25Db25maWcgZXh0ZW5kcyBCYXNlQWN0aW9uQ29uZmlnIHtcbiAgYWN0aW9uOiBcIm5vbmVcIjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDdXN0b21BY3Rpb25Db25maWcgZXh0ZW5kcyBCYXNlQWN0aW9uQ29uZmlnIHtcbiAgYWN0aW9uOiBcImZpcmUtZG9tLWV2ZW50XCI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmFzZUFjdGlvbkNvbmZpZyB7XG4gIGFjdGlvbjogc3RyaW5nO1xuICBjb25maXJtYXRpb24/OiBDb25maXJtYXRpb25SZXN0cmljdGlvbkNvbmZpZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb25maXJtYXRpb25SZXN0cmljdGlvbkNvbmZpZyB7XG4gIHRleHQ/OiBzdHJpbmc7XG4gIGV4ZW1wdGlvbnM/OiBSZXN0cmljdGlvbkNvbmZpZ1tdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFJlc3RyaWN0aW9uQ29uZmlnIHtcbiAgdXNlcjogc3RyaW5nO1xufVxuXG5leHBvcnQgdHlwZSBBY3Rpb25Db25maWcgPVxuICB8IFRvZ2dsZUFjdGlvbkNvbmZpZ1xuICB8IENhbGxTZXJ2aWNlQWN0aW9uQ29uZmlnXG4gIHwgTmF2aWdhdGVBY3Rpb25Db25maWdcbiAgfCBVcmxBY3Rpb25Db25maWdcbiAgfCBNb3JlSW5mb0FjdGlvbkNvbmZpZ1xuICB8IE5vQWN0aW9uQ29uZmlnXG4gIHwgQ3VzdG9tQWN0aW9uQ29uZmlnO1xuXG50eXBlIExvdmVsYWNlVXBkYXRlZEV2ZW50ID0gSGFzc0V2ZW50QmFzZSAmIHtcbiAgZXZlbnRfdHlwZTogXCJsb3ZlbGFjZV91cGRhdGVkXCI7XG4gIGRhdGE6IHtcbiAgICB1cmxfcGF0aDogc3RyaW5nIHwgbnVsbDtcbiAgICBtb2RlOiBcInlhbWxcIiB8IFwic3RvcmFnZVwiO1xuICB9O1xufTtcblxuZXhwb3J0IGNvbnN0IGZldGNoUmVzb3VyY2VzID0gKGNvbm46IENvbm5lY3Rpb24pOiBQcm9taXNlPExvdmVsYWNlUmVzb3VyY2VbXT4gPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvcmVzb3VyY2VzXCIsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUmVzb3VyY2UgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHZhbHVlczogTG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zXG4pID0+XG4gIGhhc3MuY2FsbFdTPExvdmVsYWNlUmVzb3VyY2U+KHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL3Jlc291cmNlcy9jcmVhdGVcIixcbiAgICAuLi52YWx1ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgdXBkYXRlUmVzb3VyY2UgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFBhcnRpYWw8TG92ZWxhY2VSZXNvdXJjZXNNdXRhYmxlUGFyYW1zPlxuKSA9PlxuICBoYXNzLmNhbGxXUzxMb3ZlbGFjZVJlc291cmNlPih7XG4gICAgdHlwZTogXCJsb3ZlbGFjZS9yZXNvdXJjZXMvdXBkYXRlXCIsXG4gICAgcmVzb3VyY2VfaWQ6IGlkLFxuICAgIC4uLnVwZGF0ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlUmVzb3VyY2UgPSAoaGFzczogSG9tZUFzc2lzdGFudCwgaWQ6IHN0cmluZykgPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvcmVzb3VyY2VzL2RlbGV0ZVwiLFxuICAgIHJlc291cmNlX2lkOiBpZCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaERhc2hib2FyZHMgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnRcbik6IFByb21pc2U8TG92ZWxhY2VEYXNoYm9hcmRbXT4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvZGFzaGJvYXJkcy9saXN0XCIsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgY3JlYXRlRGFzaGJvYXJkID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICB2YWx1ZXM6IExvdmVsYWNlRGFzaGJvYXJkQ3JlYXRlUGFyYW1zXG4pID0+XG4gIGhhc3MuY2FsbFdTPExvdmVsYWNlRGFzaGJvYXJkPih7XG4gICAgdHlwZTogXCJsb3ZlbGFjZS9kYXNoYm9hcmRzL2NyZWF0ZVwiLFxuICAgIC4uLnZhbHVlcyxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVEYXNoYm9hcmQgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFBhcnRpYWw8TG92ZWxhY2VEYXNoYm9hcmRNdXRhYmxlUGFyYW1zPlxuKSA9PlxuICBoYXNzLmNhbGxXUzxMb3ZlbGFjZURhc2hib2FyZD4oe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvZGFzaGJvYXJkcy91cGRhdGVcIixcbiAgICBkYXNoYm9hcmRfaWQ6IGlkLFxuICAgIC4uLnVwZGF0ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlRGFzaGJvYXJkID0gKGhhc3M6IEhvbWVBc3Npc3RhbnQsIGlkOiBzdHJpbmcpID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL2Rhc2hib2FyZHMvZGVsZXRlXCIsXG4gICAgZGFzaGJvYXJkX2lkOiBpZCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBmZXRjaENvbmZpZyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgdXJsUGF0aDogc3RyaW5nIHwgbnVsbCxcbiAgZm9yY2U6IGJvb2xlYW5cbik6IFByb21pc2U8TG92ZWxhY2VDb25maWc+ID0+XG4gIGNvbm4uc2VuZE1lc3NhZ2VQcm9taXNlKHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL2NvbmZpZ1wiLFxuICAgIHVybF9wYXRoOiB1cmxQYXRoLFxuICAgIGZvcmNlLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHNhdmVDb25maWcgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIHVybFBhdGg6IHN0cmluZyB8IG51bGwsXG4gIGNvbmZpZzogTG92ZWxhY2VDb25maWdcbik6IFByb21pc2U8dm9pZD4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwibG92ZWxhY2UvY29uZmlnL3NhdmVcIixcbiAgICB1cmxfcGF0aDogdXJsUGF0aCxcbiAgICBjb25maWcsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZGVsZXRlQ29uZmlnID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICB1cmxQYXRoOiBzdHJpbmcgfCBudWxsXG4pOiBQcm9taXNlPHZvaWQ+ID0+XG4gIGhhc3MuY2FsbFdTKHtcbiAgICB0eXBlOiBcImxvdmVsYWNlL2NvbmZpZy9kZWxldGVcIixcbiAgICB1cmxfcGF0aDogdXJsUGF0aCxcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVMb3ZlbGFjZVVwZGF0ZXMgPSAoXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIHVybFBhdGg6IHN0cmluZyB8IG51bGwsXG4gIG9uQ2hhbmdlOiAoKSA9PiB2b2lkXG4pID0+XG4gIGNvbm4uc3Vic2NyaWJlRXZlbnRzPExvdmVsYWNlVXBkYXRlZEV2ZW50PigoZXYpID0+IHtcbiAgICBpZiAoZXYuZGF0YS51cmxfcGF0aCA9PT0gdXJsUGF0aCkge1xuICAgICAgb25DaGFuZ2UoKTtcbiAgICB9XG4gIH0sIFwibG92ZWxhY2VfdXBkYXRlZFwiKTtcblxuZXhwb3J0IGNvbnN0IGdldExvdmVsYWNlQ29sbGVjdGlvbiA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgdXJsUGF0aDogc3RyaW5nIHwgbnVsbCA9IG51bGxcbikgPT5cbiAgZ2V0Q29sbGVjdGlvbihcbiAgICBjb25uLFxuICAgIGBfbG92ZWxhY2VfJHt1cmxQYXRoID8/IFwiXCJ9YCxcbiAgICAoY29ubjIpID0+IGZldGNoQ29uZmlnKGNvbm4yLCB1cmxQYXRoLCBmYWxzZSksXG4gICAgKF9jb25uLCBzdG9yZSkgPT5cbiAgICAgIHN1YnNjcmliZUxvdmVsYWNlVXBkYXRlcyhjb25uLCB1cmxQYXRoLCAoKSA9PlxuICAgICAgICBmZXRjaENvbmZpZyhjb25uLCB1cmxQYXRoLCBmYWxzZSkudGhlbigoY29uZmlnKSA9PlxuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKGNvbmZpZywgdHJ1ZSlcbiAgICAgICAgKVxuICAgICAgKVxuICApO1xuXG4vLyBMZWdhY3kgZnVuY3Rpb25zIHRvIHN1cHBvcnQgY2FzdCBmb3IgSG9tZSBBc3Npc3Rpb24gPCAwLjEwN1xuY29uc3QgZmV0Y2hMZWdhY3lDb25maWcgPSAoXG4gIGNvbm46IENvbm5lY3Rpb24sXG4gIGZvcmNlOiBib29sZWFuXG4pOiBQcm9taXNlPExvdmVsYWNlQ29uZmlnPiA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZSh7XG4gICAgdHlwZTogXCJsb3ZlbGFjZS9jb25maWdcIixcbiAgICBmb3JjZSxcbiAgfSk7XG5cbmNvbnN0IHN1YnNjcmliZUxlZ2FjeUxvdmVsYWNlVXBkYXRlcyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6ICgpID0+IHZvaWRcbikgPT4gY29ubi5zdWJzY3JpYmVFdmVudHMob25DaGFuZ2UsIFwibG92ZWxhY2VfdXBkYXRlZFwiKTtcblxuZXhwb3J0IGNvbnN0IGdldExlZ2FjeUxvdmVsYWNlQ29sbGVjdGlvbiA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBnZXRDb2xsZWN0aW9uKFxuICAgIGNvbm4sXG4gICAgXCJfbG92ZWxhY2VcIixcbiAgICAoY29ubjIpID0+IGZldGNoTGVnYWN5Q29uZmlnKGNvbm4yLCBmYWxzZSksXG4gICAgKF9jb25uLCBzdG9yZSkgPT5cbiAgICAgIHN1YnNjcmliZUxlZ2FjeUxvdmVsYWNlVXBkYXRlcyhjb25uLCAoKSA9PlxuICAgICAgICBmZXRjaExlZ2FjeUNvbmZpZyhjb25uLCBmYWxzZSkudGhlbigoY29uZmlnKSA9PlxuICAgICAgICAgIHN0b3JlLnNldFN0YXRlKGNvbmZpZywgdHJ1ZSlcbiAgICAgICAgKVxuICAgICAgKVxuICApO1xuXG5leHBvcnQgaW50ZXJmYWNlIFdpbmRvd1dpdGhMb3ZlbGFjZVByb20gZXh0ZW5kcyBXaW5kb3cge1xuICBsbENvbmZQcm9tPzogUHJvbWlzZTxMb3ZlbGFjZUNvbmZpZz47XG4gIGxsUmVzUHJvbT86IFByb21pc2U8TG92ZWxhY2VSZXNvdXJjZVtdPjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25IYW5kbGVyT3B0aW9ucyB7XG4gIGhhc0hvbGQ/OiBib29sZWFuO1xuICBoYXNEb3VibGVDbGljaz86IGJvb2xlYW47XG4gIGRpc2FibGVkPzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBY3Rpb25IYW5kbGVyRGV0YWlsIHtcbiAgYWN0aW9uOiBcImhvbGRcIiB8IFwidGFwXCIgfCBcImRvdWJsZV90YXBcIjtcbn1cblxuZXhwb3J0IHR5cGUgQWN0aW9uSGFuZGxlckV2ZW50ID0gSEFTU0RvbUV2ZW50PEFjdGlvbkhhbmRsZXJEZXRhaWw+O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/data/lovelace.ts\n");

/***/ }),

/***/ "./src/data/main_window.ts":
/*!*********************************!*\
  !*** ./src/data/main_window.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MAIN_WINDOW_NAME\": () => (/* binding */ MAIN_WINDOW_NAME)\n/* harmony export */ });\nconst MAIN_WINDOW_NAME = \"ha-main-window\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9tYWluX3dpbmRvdy50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL21haW5fd2luZG93LnRzPzAxOWIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNvbnN0IE1BSU5fV0lORE9XX05BTUUgPSBcImhhLW1haW4td2luZG93XCI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/main_window.ts\n");

/***/ }),

/***/ "./src/data/ws-panels.ts":
/*!*******************************!*\
  !*** ./src/data/ws-panels.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"subscribePanels\": () => (/* binding */ subscribePanels)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\n\nconst fetchPanels = conn => conn.sendMessagePromise({\n  type: \"get_panels\"\n});\n\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchPanels(conn).then(panels => store.setState(panels, true)), \"panels_updated\");\n\nconst subscribePanels = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.createCollection)(\"_pnl\", fetchPanels, subscribeUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy1wYW5lbHMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUFHQTtBQUVBO0FBREE7O0FBSUE7O0FBTUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3dzLXBhbmVscy50cz82ZWE0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3Rpb24sIGNyZWF0ZUNvbGxlY3Rpb24gfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBQYW5lbHMgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuY29uc3QgZmV0Y2hQYW5lbHMgPSAoY29ubikgPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwiZ2V0X3BhbmVsc1wiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgKCkgPT4gZmV0Y2hQYW5lbHMoY29ubikudGhlbigocGFuZWxzKSA9PiBzdG9yZS5zZXRTdGF0ZShwYW5lbHMsIHRydWUpKSxcbiAgICBcInBhbmVsc191cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVBhbmVscyA9IChcbiAgY29ubjogQ29ubmVjdGlvbixcbiAgb25DaGFuZ2U6IChwYW5lbHM6IFBhbmVscykgPT4gdm9pZFxuKSA9PlxuICBjcmVhdGVDb2xsZWN0aW9uPFBhbmVscz4oXG4gICAgXCJfcG5sXCIsXG4gICAgZmV0Y2hQYW5lbHMsXG4gICAgc3Vic2NyaWJlVXBkYXRlcyxcbiAgICBjb25uLFxuICAgIG9uQ2hhbmdlXG4gICk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/ws-panels.ts\n");

/***/ }),

/***/ "./src/data/ws-themes.ts":
/*!*******************************!*\
  !*** ./src/data/ws-themes.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"subscribeThemes\": () => (/* binding */ subscribeThemes)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n\n\nconst fetchThemes = conn => conn.sendMessagePromise({\n  type: \"frontend/get_themes\"\n});\n\nconst subscribeUpdates = (conn, store) => conn.subscribeEvents(() => fetchThemes(conn).then(data => store.setState(data, true)), \"themes_updated\");\n\nconst subscribeThemes = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.createCollection)(\"_thm\", fetchThemes, subscribeUpdates, conn, onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy10aGVtZXMudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTs7QUE2QkE7QUFFQTtBQURBOztBQUlBOztBQU1BIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZGF0YS93cy10aGVtZXMudHM/ZDBkMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0aW9uLCBjcmVhdGVDb2xsZWN0aW9uIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lVmFycyB7XG4gIC8vIEluY29tcGxldGVcbiAgXCJwcmltYXJ5LWNvbG9yXCI6IHN0cmluZztcbiAgXCJ0ZXh0LXByaW1hcnktY29sb3JcIjogc3RyaW5nO1xuICBcImFjY2VudC1jb2xvclwiOiBzdHJpbmc7XG4gIFtrZXk6IHN0cmluZ106IHN0cmluZztcbn1cblxuZXhwb3J0IHR5cGUgVGhlbWUgPSBUaGVtZVZhcnMgJiB7XG4gIG1vZGVzPzoge1xuICAgIGxpZ2h0PzogVGhlbWVWYXJzO1xuICAgIGRhcms/OiBUaGVtZVZhcnM7XG4gIH07XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIFRoZW1lcyB7XG4gIGRlZmF1bHRfdGhlbWU6IHN0cmluZztcbiAgZGVmYXVsdF9kYXJrX3RoZW1lOiBzdHJpbmcgfCBudWxsO1xuICB0aGVtZXM6IFJlY29yZDxzdHJpbmcsIFRoZW1lPjtcbiAgLy8gQ3VycmVudGx5IGVmZmVjdGl2ZSBkYXJrIG1vZGUuIFdpbGwgbmV2ZXIgYmUgdW5kZWZpbmVkLiBJZiB1c2VyIHNlbGVjdGVkIFwiYXV0b1wiXG4gIC8vIGluIHRoZW1lIHBpY2tlciwgdGhpcyBwcm9wZXJ0eSB3aWxsIHN0aWxsIGNvbnRhaW4gZWl0aGVyIHRydWUgb3IgZmFsc2UgYmFzZWQgb25cbiAgLy8gd2hhdCBoYXMgYmVlbiBkZXRlcm1pbmVkIHZpYSBzeXN0ZW0gcHJlZmVyZW5jZXMgYW5kIHN1cHBvcnQgZnJvbSB0aGUgc2VsZWN0ZWQgdGhlbWUuXG4gIGRhcmtNb2RlOiBib29sZWFuO1xuICAvLyBDdXJyZW50bHkgZ2xvYmFsbHkgYWN0aXZlIHRoZW1lIG5hbWVcbiAgdGhlbWU6IHN0cmluZztcbn1cblxuY29uc3QgZmV0Y2hUaGVtZXMgPSAoY29ubikgPT5cbiAgY29ubi5zZW5kTWVzc2FnZVByb21pc2Uoe1xuICAgIHR5cGU6IFwiZnJvbnRlbmQvZ2V0X3RoZW1lc1wiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT5cbiAgY29ubi5zdWJzY3JpYmVFdmVudHMoXG4gICAgKCkgPT4gZmV0Y2hUaGVtZXMoY29ubikudGhlbigoZGF0YSkgPT4gc3RvcmUuc2V0U3RhdGUoZGF0YSwgdHJ1ZSkpLFxuICAgIFwidGhlbWVzX3VwZGF0ZWRcIlxuICApO1xuXG5leHBvcnQgY29uc3Qgc3Vic2NyaWJlVGhlbWVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKHRoZW1lczogVGhlbWVzKSA9PiB2b2lkXG4pID0+XG4gIGNyZWF0ZUNvbGxlY3Rpb248VGhlbWVzPihcbiAgICBcIl90aG1cIixcbiAgICBmZXRjaFRoZW1lcyxcbiAgICBzdWJzY3JpYmVVcGRhdGVzLFxuICAgIGNvbm4sXG4gICAgb25DaGFuZ2VcbiAgKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/data/ws-themes.ts\n");

/***/ }),

/***/ "./src/data/ws-user.ts":
/*!*****************************!*\
  !*** ./src/data/ws-user.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"userCollection\": () => (/* binding */ userCollection),\n/* harmony export */   \"subscribeUser\": () => (/* binding */ subscribeUser)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n\nconst userCollection = conn => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_0__.getCollection)(conn, \"_usr\", () => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_1__.getUser)(conn), undefined);\nconst subscribeUser = (conn, onChange) => userCollection(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS93cy11c2VyLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTtBQU9BO0FBUUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kYXRhL3dzLXVzZXIudHM/NDY3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb25uZWN0aW9uLFxuICBnZXRDb2xsZWN0aW9uLFxuICBnZXRVc2VyLFxufSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQgeyBDdXJyZW50VXNlciB9IGZyb20gXCIuLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgdXNlckNvbGxlY3Rpb24gPSAoY29ubjogQ29ubmVjdGlvbikgPT5cbiAgZ2V0Q29sbGVjdGlvbihcbiAgICBjb25uLFxuICAgIFwiX3VzclwiLFxuICAgICgpID0+IGdldFVzZXIoY29ubikgYXMgUHJvbWlzZTxDdXJyZW50VXNlcj4sXG4gICAgdW5kZWZpbmVkXG4gICk7XG5cbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVVc2VyID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKHVzZXI6IEN1cnJlbnRVc2VyKSA9PiB2b2lkXG4pID0+IHVzZXJDb2xsZWN0aW9uKGNvbm4pLnN1YnNjcmliZShvbkNoYW5nZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/ws-user.ts\n");

/***/ }),

/***/ "./src/entrypoints/core.ts":
/*!*********************************!*\
  !*** ./src/entrypoints/core.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _resources_compatibility__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../resources/compatibility */ \"./src/resources/compatibility.ts\");\n/* harmony import */ var _resources_compatibility__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_resources_compatibility__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/auth.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/index.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/entities.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/config.js\");\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/services.js\");\n/* harmony import */ var _common_auth_token_storage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/auth/token_storage */ \"./src/common/auth/token_storage.ts\");\n/* harmony import */ var _data_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../data/auth */ \"./src/data/auth.ts\");\n/* harmony import */ var _data_external__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../data/external */ \"./src/data/external.ts\");\n/* harmony import */ var _data_frontend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../data/frontend */ \"./src/data/frontend.ts\");\n/* harmony import */ var _data_lovelace__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../data/lovelace */ \"./src/data/lovelace.ts\");\n/* harmony import */ var _data_ws_panels__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../data/ws-panels */ \"./src/data/ws-panels.ts\");\n/* harmony import */ var _data_ws_themes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../data/ws-themes */ \"./src/data/ws-themes.ts\");\n/* harmony import */ var _data_ws_user__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../data/ws-user */ \"./src/data/ws-user.ts\");\n/* harmony import */ var _resources_array_flat_polyfill__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../resources/array.flat.polyfill */ \"./src/resources/array.flat.polyfill.ts\");\n/* harmony import */ var _resources_array_flat_polyfill__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_resources_array_flat_polyfill__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var _resources_safari_14_attachshadow_patch__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../resources/safari-14-attachshadow-patch */ \"./src/resources/safari-14-attachshadow-patch.ts\");\n/* harmony import */ var _resources_safari_14_attachshadow_patch__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_resources_safari_14_attachshadow_patch__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var _data_main_window__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../data/main_window */ \"./src/data/main_window.ts\");\n// Compat needs to be first import\n\n\n\n\n\n\n\n\n\n\n\n\n\nwindow.name = _data_main_window__WEBPACK_IMPORTED_MODULE_11__.MAIN_WINDOW_NAME;\nwindow.frontendVersion = \"20220630.0\";\n\nconst clearUrlParams = () => {\n  // Clear auth data from url if we have been able to establish a connection\n  if (location.search.includes(\"auth_callback=1\")) {\n    const searchParams = new URLSearchParams(location.search); // https://github.com/home-assistant/home-assistant-js-websocket/blob/master/lib/auth.ts\n    // Remove all data from QueryCallbackData type\n\n    searchParams.delete(\"auth_callback\");\n    searchParams.delete(\"code\");\n    searchParams.delete(\"state\");\n    searchParams.delete(\"storeToken\");\n    const search = searchParams.toString();\n    history.replaceState(null, \"\", `${location.pathname}${search ? `?${search}` : \"\"}`);\n  }\n};\n\nconst authProm = _data_external__WEBPACK_IMPORTED_MODULE_3__.isExternal ? () => __webpack_require__.e(/*! import() */ \"src_external_app_external_auth_ts\").then(__webpack_require__.bind(__webpack_require__, /*! ../external_app/external_auth */ \"./src/external_app/external_auth.ts\")).then(({\n  createExternalAuth\n}) => createExternalAuth(_data_auth__WEBPACK_IMPORTED_MODULE_2__.hassUrl)) : () => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_12__.getAuth)({\n  hassUrl: _data_auth__WEBPACK_IMPORTED_MODULE_2__.hassUrl,\n  saveTokens: _common_auth_token_storage__WEBPACK_IMPORTED_MODULE_1__.saveTokens,\n  loadTokens: () => Promise.resolve((0,_common_auth_token_storage__WEBPACK_IMPORTED_MODULE_1__.loadTokens)())\n});\n\nconst connProm = async auth => {\n  try {\n    const conn = await (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_13__.createConnection)({\n      auth\n    });\n    clearUrlParams();\n    return {\n      auth,\n      conn\n    };\n  } catch (err) {\n    if (err !== home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_14__.ERR_INVALID_AUTH) {\n      throw err;\n    } // We can get invalid auth if auth tokens were stored that are no longer valid\n\n\n    if (_data_external__WEBPACK_IMPORTED_MODULE_3__.isExternal) {\n      // Tell the external app to force refresh the access tokens.\n      // This should trigger their unauthorized handling.\n      await auth.refreshAccessToken(true);\n    } else {\n      // Clear stored tokens.\n      (0,_common_auth_token_storage__WEBPACK_IMPORTED_MODULE_1__.saveTokens)(null);\n    }\n\n    auth = await authProm();\n    const conn = await (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_13__.createConnection)({\n      auth\n    });\n    clearUrlParams();\n    return {\n      auth,\n      conn\n    };\n  }\n};\n\nif (true) {\n  // Remove adoptedStyleSheets so style inspector works on shadow DOM.\n  // @ts-ignore\n  delete Document.prototype.adoptedStyleSheets;\n  performance.mark(\"hass-start\");\n}\n\nwindow.hassConnection = authProm().then(connProm); // This is set if app was somehow loaded before core.\n\nif (window.hassConnectionReady) {\n  window.hassConnectionReady(window.hassConnection);\n} // Start fetching some of the data that we will need.\n\n\nwindow.hassConnection.then(({\n  conn\n}) => {\n  const noop = () => {// do nothing\n  };\n\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_15__.subscribeEntities)(conn, noop);\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_16__.subscribeConfig)(conn, noop);\n  (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_17__.subscribeServices)(conn, noop);\n  (0,_data_ws_panels__WEBPACK_IMPORTED_MODULE_6__.subscribePanels)(conn, noop);\n  (0,_data_ws_themes__WEBPACK_IMPORTED_MODULE_7__.subscribeThemes)(conn, noop);\n  (0,_data_ws_user__WEBPACK_IMPORTED_MODULE_8__.subscribeUser)(conn, noop);\n  (0,_data_frontend__WEBPACK_IMPORTED_MODULE_4__.subscribeFrontendUserData)(conn, \"core\", noop);\n\n  if (location.pathname === \"/\" || location.pathname.startsWith(\"/lovelace/\")) {\n    const llWindow = window;\n    llWindow.llConfProm = (0,_data_lovelace__WEBPACK_IMPORTED_MODULE_5__.fetchConfig)(conn, null, false);\n    llWindow.llConfProm.catch(() => {// Ignore it, it is handled by Lovelace panel.\n    });\n    llWindow.llResProm = (0,_data_lovelace__WEBPACK_IMPORTED_MODULE_5__.fetchResources)(conn);\n  }\n});\nwindow.addEventListener(\"error\", e => {\n  if (false) {}\n\n  const homeAssistant = document.querySelector(\"home-assistant\");\n\n  if (homeAssistant && homeAssistant.hass && homeAssistant.hass.callService) {\n    homeAssistant.hass.callService(\"system_log\", \"write\", {\n      logger: `frontend.${ true ? \"js_dev\" : 0}.${\"latest\"}.${\"20220630.0\".replace(\".\", \"\")}`,\n      message: `${e.filename}:${e.lineno}:${e.colno} ${e.message}`\n    });\n  }\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZW50cnlwb2ludHMvY29yZS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBOztBQUVBO0FBRUE7QUFBQTtBQUtBO0FBQ0E7QUFDQTtBQUhBOztBQU1BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBS0E7QUFDQTtBQUNBOzs7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUtBOztBQUNBO0FBS0E7QUFDQTtBQUdBO0FBSkE7QUFNQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvZW50cnlwb2ludHMvY29yZS50cz9mZDAyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIENvbXBhdCBuZWVkcyB0byBiZSBmaXJzdCBpbXBvcnRcbmltcG9ydCBcIi4uL3Jlc291cmNlcy9jb21wYXRpYmlsaXR5XCI7XG5pbXBvcnQge1xuICBBdXRoLFxuICBDb25uZWN0aW9uLFxuICBjcmVhdGVDb25uZWN0aW9uLFxuICBFUlJfSU5WQUxJRF9BVVRILFxuICBnZXRBdXRoLFxuICBzdWJzY3JpYmVDb25maWcsXG4gIHN1YnNjcmliZUVudGl0aWVzLFxuICBzdWJzY3JpYmVTZXJ2aWNlcyxcbn0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldFwiO1xuaW1wb3J0IHsgbG9hZFRva2Vucywgc2F2ZVRva2VucyB9IGZyb20gXCIuLi9jb21tb24vYXV0aC90b2tlbl9zdG9yYWdlXCI7XG5pbXBvcnQgeyBoYXNzVXJsIH0gZnJvbSBcIi4uL2RhdGEvYXV0aFwiO1xuaW1wb3J0IHsgaXNFeHRlcm5hbCB9IGZyb20gXCIuLi9kYXRhL2V4dGVybmFsXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVGcm9udGVuZFVzZXJEYXRhIH0gZnJvbSBcIi4uL2RhdGEvZnJvbnRlbmRcIjtcbmltcG9ydCB7XG4gIGZldGNoQ29uZmlnLFxuICBmZXRjaFJlc291cmNlcyxcbiAgV2luZG93V2l0aExvdmVsYWNlUHJvbSxcbn0gZnJvbSBcIi4uL2RhdGEvbG92ZWxhY2VcIjtcbmltcG9ydCB7IHN1YnNjcmliZVBhbmVscyB9IGZyb20gXCIuLi9kYXRhL3dzLXBhbmVsc1wiO1xuaW1wb3J0IHsgc3Vic2NyaWJlVGhlbWVzIH0gZnJvbSBcIi4uL2RhdGEvd3MtdGhlbWVzXCI7XG5pbXBvcnQgeyBzdWJzY3JpYmVVc2VyIH0gZnJvbSBcIi4uL2RhdGEvd3MtdXNlclwiO1xuaW1wb3J0IHR5cGUgeyBFeHRlcm5hbEF1dGggfSBmcm9tIFwiLi4vZXh0ZXJuYWxfYXBwL2V4dGVybmFsX2F1dGhcIjtcbmltcG9ydCBcIi4uL3Jlc291cmNlcy9hcnJheS5mbGF0LnBvbHlmaWxsXCI7XG5pbXBvcnQgXCIuLi9yZXNvdXJjZXMvc2FmYXJpLTE0LWF0dGFjaHNoYWRvdy1wYXRjaFwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi90eXBlc1wiO1xuaW1wb3J0IHsgTUFJTl9XSU5ET1dfTkFNRSB9IGZyb20gXCIuLi9kYXRhL21haW5fd2luZG93XCI7XG5cbndpbmRvdy5uYW1lID0gTUFJTl9XSU5ET1dfTkFNRTtcbih3aW5kb3cgYXMgYW55KS5mcm9udGVuZFZlcnNpb24gPSBfX1ZFUlNJT05fXztcblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgV2luZG93IHtcbiAgICBoYXNzQ29ubmVjdGlvbjogUHJvbWlzZTx7IGF1dGg6IEF1dGg7IGNvbm46IENvbm5lY3Rpb24gfT47XG4gICAgaGFzc0Nvbm5lY3Rpb25SZWFkeT86IChoYXNzQ29ubmVjdGlvbjogV2luZG93W1wiaGFzc0Nvbm5lY3Rpb25cIl0pID0+IHZvaWQ7XG4gIH1cbn1cblxuY29uc3QgY2xlYXJVcmxQYXJhbXMgPSAoKSA9PiB7XG4gIC8vIENsZWFyIGF1dGggZGF0YSBmcm9tIHVybCBpZiB3ZSBoYXZlIGJlZW4gYWJsZSB0byBlc3RhYmxpc2ggYSBjb25uZWN0aW9uXG4gIGlmIChsb2NhdGlvbi5zZWFyY2guaW5jbHVkZXMoXCJhdXRoX2NhbGxiYWNrPTFcIikpIHtcbiAgICBjb25zdCBzZWFyY2hQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKGxvY2F0aW9uLnNlYXJjaCk7XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2hvbWUtYXNzaXN0YW50L2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9ibG9iL21hc3Rlci9saWIvYXV0aC50c1xuICAgIC8vIFJlbW92ZSBhbGwgZGF0YSBmcm9tIFF1ZXJ5Q2FsbGJhY2tEYXRhIHR5cGVcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwiYXV0aF9jYWxsYmFja1wiKTtcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwiY29kZVwiKTtcbiAgICBzZWFyY2hQYXJhbXMuZGVsZXRlKFwic3RhdGVcIik7XG4gICAgc2VhcmNoUGFyYW1zLmRlbGV0ZShcInN0b3JlVG9rZW5cIik7XG4gICAgY29uc3Qgc2VhcmNoID0gc2VhcmNoUGFyYW1zLnRvU3RyaW5nKCk7XG4gICAgaGlzdG9yeS5yZXBsYWNlU3RhdGUoXG4gICAgICBudWxsLFxuICAgICAgXCJcIixcbiAgICAgIGAke2xvY2F0aW9uLnBhdGhuYW1lfSR7c2VhcmNoID8gYD8ke3NlYXJjaH1gIDogXCJcIn1gXG4gICAgKTtcbiAgfVxufTtcblxuY29uc3QgYXV0aFByb20gPSBpc0V4dGVybmFsXG4gID8gKCkgPT5cbiAgICAgIGltcG9ydChcIi4uL2V4dGVybmFsX2FwcC9leHRlcm5hbF9hdXRoXCIpLnRoZW4oKHsgY3JlYXRlRXh0ZXJuYWxBdXRoIH0pID0+XG4gICAgICAgIGNyZWF0ZUV4dGVybmFsQXV0aChoYXNzVXJsKVxuICAgICAgKVxuICA6ICgpID0+XG4gICAgICBnZXRBdXRoKHtcbiAgICAgICAgaGFzc1VybCxcbiAgICAgICAgc2F2ZVRva2VucyxcbiAgICAgICAgbG9hZFRva2VuczogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKGxvYWRUb2tlbnMoKSksXG4gICAgICB9KTtcblxuY29uc3QgY29ublByb20gPSBhc3luYyAoYXV0aCkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IGNvbm4gPSBhd2FpdCBjcmVhdGVDb25uZWN0aW9uKHsgYXV0aCB9KTtcbiAgICBjbGVhclVybFBhcmFtcygpO1xuICAgIHJldHVybiB7IGF1dGgsIGNvbm4gfTtcbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICBpZiAoZXJyICE9PSBFUlJfSU5WQUxJRF9BVVRIKSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIC8vIFdlIGNhbiBnZXQgaW52YWxpZCBhdXRoIGlmIGF1dGggdG9rZW5zIHdlcmUgc3RvcmVkIHRoYXQgYXJlIG5vIGxvbmdlciB2YWxpZFxuICAgIGlmIChpc0V4dGVybmFsKSB7XG4gICAgICAvLyBUZWxsIHRoZSBleHRlcm5hbCBhcHAgdG8gZm9yY2UgcmVmcmVzaCB0aGUgYWNjZXNzIHRva2Vucy5cbiAgICAgIC8vIFRoaXMgc2hvdWxkIHRyaWdnZXIgdGhlaXIgdW5hdXRob3JpemVkIGhhbmRsaW5nLlxuICAgICAgYXdhaXQgYXV0aC5yZWZyZXNoQWNjZXNzVG9rZW4odHJ1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENsZWFyIHN0b3JlZCB0b2tlbnMuXG4gICAgICBzYXZlVG9rZW5zKG51bGwpO1xuICAgIH1cbiAgICBhdXRoID0gYXdhaXQgYXV0aFByb20oKTtcbiAgICBjb25zdCBjb25uID0gYXdhaXQgY3JlYXRlQ29ubmVjdGlvbih7IGF1dGggfSk7XG4gICAgY2xlYXJVcmxQYXJhbXMoKTtcbiAgICByZXR1cm4geyBhdXRoLCBjb25uIH07XG4gIH1cbn07XG5cbmlmIChfX0RFVl9fKSB7XG4gIC8vIFJlbW92ZSBhZG9wdGVkU3R5bGVTaGVldHMgc28gc3R5bGUgaW5zcGVjdG9yIHdvcmtzIG9uIHNoYWRvdyBET00uXG4gIC8vIEB0cy1pZ25vcmVcbiAgZGVsZXRlIERvY3VtZW50LnByb3RvdHlwZS5hZG9wdGVkU3R5bGVTaGVldHM7XG4gIHBlcmZvcm1hbmNlLm1hcmsoXCJoYXNzLXN0YXJ0XCIpO1xufVxud2luZG93Lmhhc3NDb25uZWN0aW9uID0gKGF1dGhQcm9tKCkgYXMgUHJvbWlzZTxBdXRoIHwgRXh0ZXJuYWxBdXRoPikudGhlbihcbiAgY29ublByb21cbik7XG5cbi8vIFRoaXMgaXMgc2V0IGlmIGFwcCB3YXMgc29tZWhvdyBsb2FkZWQgYmVmb3JlIGNvcmUuXG5pZiAod2luZG93Lmhhc3NDb25uZWN0aW9uUmVhZHkpIHtcbiAgd2luZG93Lmhhc3NDb25uZWN0aW9uUmVhZHkod2luZG93Lmhhc3NDb25uZWN0aW9uKTtcbn1cblxuLy8gU3RhcnQgZmV0Y2hpbmcgc29tZSBvZiB0aGUgZGF0YSB0aGF0IHdlIHdpbGwgbmVlZC5cbndpbmRvdy5oYXNzQ29ubmVjdGlvbi50aGVuKCh7IGNvbm4gfSkgPT4ge1xuICBjb25zdCBub29wID0gKCkgPT4ge1xuICAgIC8vIGRvIG5vdGhpbmdcbiAgfTtcbiAgc3Vic2NyaWJlRW50aXRpZXMoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZUNvbmZpZyhjb25uLCBub29wKTtcbiAgc3Vic2NyaWJlU2VydmljZXMoY29ubiwgbm9vcCk7XG4gIHN1YnNjcmliZVBhbmVscyhjb25uLCBub29wKTtcbiAgc3Vic2NyaWJlVGhlbWVzKGNvbm4sIG5vb3ApO1xuICBzdWJzY3JpYmVVc2VyKGNvbm4sIG5vb3ApO1xuICBzdWJzY3JpYmVGcm9udGVuZFVzZXJEYXRhKGNvbm4sIFwiY29yZVwiLCBub29wKTtcblxuICBpZiAobG9jYXRpb24ucGF0aG5hbWUgPT09IFwiL1wiIHx8IGxvY2F0aW9uLnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvbG92ZWxhY2UvXCIpKSB7XG4gICAgY29uc3QgbGxXaW5kb3cgPSB3aW5kb3cgYXMgV2luZG93V2l0aExvdmVsYWNlUHJvbTtcbiAgICBsbFdpbmRvdy5sbENvbmZQcm9tID0gZmV0Y2hDb25maWcoY29ubiwgbnVsbCwgZmFsc2UpO1xuICAgIGxsV2luZG93LmxsQ29uZlByb20uY2F0Y2goKCkgPT4ge1xuICAgICAgLy8gSWdub3JlIGl0LCBpdCBpcyBoYW5kbGVkIGJ5IExvdmVsYWNlIHBhbmVsLlxuICAgIH0pO1xuICAgIGxsV2luZG93LmxsUmVzUHJvbSA9IGZldGNoUmVzb3VyY2VzKGNvbm4pO1xuICB9XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCAoZSkgPT4ge1xuICBpZiAoIV9fREVWX18gJiYgZS5tZXNzYWdlID09PSBcIlJlc2l6ZU9ic2VydmVyIGxvb3AgbGltaXQgZXhjZWVkZWRcIikge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgaG9tZUFzc2lzdGFudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJob21lLWFzc2lzdGFudFwiKSBhcyBhbnk7XG4gIGlmIChcbiAgICBob21lQXNzaXN0YW50ICYmXG4gICAgaG9tZUFzc2lzdGFudC5oYXNzICYmXG4gICAgKGhvbWVBc3Npc3RhbnQuaGFzcyBhcyBIb21lQXNzaXN0YW50KS5jYWxsU2VydmljZVxuICApIHtcbiAgICBob21lQXNzaXN0YW50Lmhhc3MuY2FsbFNlcnZpY2UoXCJzeXN0ZW1fbG9nXCIsIFwid3JpdGVcIiwge1xuICAgICAgbG9nZ2VyOiBgZnJvbnRlbmQuJHtcbiAgICAgICAgX19ERVZfXyA/IFwianNfZGV2XCIgOiBcImpzXCJcbiAgICAgIH0uJHtfX0JVSUxEX199LiR7X19WRVJTSU9OX18ucmVwbGFjZShcIi5cIiwgXCJcIil9YCxcbiAgICAgIG1lc3NhZ2U6IGAke2UuZmlsZW5hbWV9OiR7ZS5saW5lbm99OiR7ZS5jb2xub30gJHtlLm1lc3NhZ2V9YCxcbiAgICB9KTtcbiAgfVxufSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/entrypoints/core.ts\n");

/***/ }),

/***/ "./src/resources/array.flat.polyfill.ts":
/*!**********************************************!*\
  !*** ./src/resources/array.flat.polyfill.ts ***!
  \**********************************************/
/***/ (() => {

eval("/* eslint-disable no-extend-native */\n// @ts-expect-error\nif (!Array.prototype.flat) {\n  Object.defineProperty(Array.prototype, \"flat\", {\n    configurable: true,\n    writable: true,\n    value: function (...args) {\n      const depth = typeof args[0] === \"undefined\" ? 1 : Number(args[0]) || 0;\n      const result = [];\n      const forEach = result.forEach;\n\n      const flatDeep = (arr, dpth) => {\n        forEach.call(arr, val => {\n          if (dpth > 0 && Array.isArray(val)) {\n            flatDeep(val, dpth - 1);\n          } else {\n            result.push(val);\n          }\n        });\n      };\n\n      flatDeep(this, depth);\n      return result;\n    }\n  });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9yZXNvdXJjZXMvYXJyYXkuZmxhdC5wb2x5ZmlsbC50cz85OGJhIl0sIm5hbWVzIjpbIkFycmF5IiwicHJvdG90eXBlIiwiZmxhdCIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJ2YWx1ZSIsImFyZ3MiLCJkZXB0aCIsIk51bWJlciIsInJlc3VsdCIsImZvckVhY2giLCJmbGF0RGVlcCIsImFyciIsImRwdGgiLCJjYWxsIiwidmFsIiwiaXNBcnJheSIsInB1c2giXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQSxJQUFJLENBQUNBLEtBQUssQ0FBQ0MsU0FBTixDQUFnQkMsSUFBckIsRUFBMkI7QUFDekJDLEVBQUFBLE1BQU0sQ0FBQ0MsY0FBUCxDQUFzQkosS0FBSyxDQUFDQyxTQUE1QixFQUF1QyxNQUF2QyxFQUErQztBQUM3Q0ksSUFBQUEsWUFBWSxFQUFFLElBRCtCO0FBRTdDQyxJQUFBQSxRQUFRLEVBQUUsSUFGbUM7QUFHN0NDLElBQUFBLEtBQUssRUFBRSxVQUFVLEdBQUdDLElBQWIsRUFBbUI7QUFDeEIsWUFBTUMsS0FBSyxHQUFHLE9BQU9ELElBQUksQ0FBQyxDQUFELENBQVgsS0FBbUIsV0FBbkIsR0FBaUMsQ0FBakMsR0FBcUNFLE1BQU0sQ0FBQ0YsSUFBSSxDQUFDLENBQUQsQ0FBTCxDQUFOLElBQW1CLENBQXRFO0FBQ0EsWUFBTUcsTUFBTSxHQUFHLEVBQWY7QUFDQSxZQUFNQyxPQUFPLEdBQUdELE1BQU0sQ0FBQ0MsT0FBdkI7O0FBRUEsWUFBTUMsUUFBUSxHQUFHLENBQUNDLEdBQUQsRUFBa0JDLElBQWxCLEtBQW1DO0FBQ2xESCxRQUFBQSxPQUFPLENBQUNJLElBQVIsQ0FBYUYsR0FBYixFQUFtQkcsR0FBRCxJQUFTO0FBQ3pCLGNBQUlGLElBQUksR0FBRyxDQUFQLElBQVlmLEtBQUssQ0FBQ2tCLE9BQU4sQ0FBY0QsR0FBZCxDQUFoQixFQUFvQztBQUNsQ0osWUFBQUEsUUFBUSxDQUFDSSxHQUFELEVBQU1GLElBQUksR0FBRyxDQUFiLENBQVI7QUFDRCxXQUZELE1BRU87QUFDTEosWUFBQUEsTUFBTSxDQUFDUSxJQUFQLENBQVlGLEdBQVo7QUFDRDtBQUNGLFNBTkQ7QUFPRCxPQVJEOztBQVVBSixNQUFBQSxRQUFRLENBQUMsSUFBRCxFQUFPSixLQUFQLENBQVI7QUFDQSxhQUFPRSxNQUFQO0FBQ0Q7QUFwQjRDLEdBQS9DO0FBc0JEIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tZXh0ZW5kLW5hdGl2ZSAqL1xuLy8gQHRzLWV4cGVjdC1lcnJvclxuaWYgKCFBcnJheS5wcm90b3R5cGUuZmxhdCkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXkucHJvdG90eXBlLCBcImZsYXRcIiwge1xuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgIGNvbnN0IGRlcHRoID0gdHlwZW9mIGFyZ3NbMF0gPT09IFwidW5kZWZpbmVkXCIgPyAxIDogTnVtYmVyKGFyZ3NbMF0pIHx8IDA7XG4gICAgICBjb25zdCByZXN1bHQgPSBbXTtcbiAgICAgIGNvbnN0IGZvckVhY2ggPSByZXN1bHQuZm9yRWFjaDtcblxuICAgICAgY29uc3QgZmxhdERlZXAgPSAoYXJyOiBBcnJheTxhbnk+LCBkcHRoOiBudW1iZXIpID0+IHtcbiAgICAgICAgZm9yRWFjaC5jYWxsKGFyciwgKHZhbCkgPT4ge1xuICAgICAgICAgIGlmIChkcHRoID4gMCAmJiBBcnJheS5pc0FycmF5KHZhbCkpIHtcbiAgICAgICAgICAgIGZsYXREZWVwKHZhbCwgZHB0aCAtIDEpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmbGF0RGVlcCh0aGlzLCBkZXB0aCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gIH0pO1xufVxuIl0sImZpbGUiOiIuL3NyYy9yZXNvdXJjZXMvYXJyYXkuZmxhdC5wb2x5ZmlsbC50cy5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/array.flat.polyfill.ts\n");

/***/ }),

/***/ "./src/resources/compatibility.ts":
/*!****************************************!*\
  !*** ./src/resources/compatibility.ts ***!
  \****************************************/
/***/ (() => {

eval("/* empty file that we alias some files to that we don't want to include *///# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy91dGlsL2VtcHR5LmpzPzVlMjkiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlbXB0eSBmaWxlIHRoYXQgd2UgYWxpYXMgc29tZSBmaWxlcyB0byB0aGF0IHdlIGRvbid0IHdhbnQgdG8gaW5jbHVkZSAqL1xuIl0sImZpbGUiOiIuL3NyYy9yZXNvdXJjZXMvY29tcGF0aWJpbGl0eS50cy5qcyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/resources/compatibility.ts\n");

/***/ }),

/***/ "./src/resources/safari-14-attachshadow-patch.ts":
/*!*******************************************************!*\
  !*** ./src/resources/safari-14-attachshadow-patch.ts ***!
  \*******************************************************/
/***/ (() => {

eval("// https://github.com/home-assistant/frontend/pull/7031\nconst isSafari14 = /^((?!chrome|android).)*version\\/14\\.0\\s.*safari/i.test(navigator.userAgent);\n\nif (isSafari14) {\n  const origAttachShadow = window.Element.prototype.attachShadow;\n\n  window.Element.prototype.attachShadow = function (init) {\n    if (init && init.delegatesFocus) {\n      delete init.delegatesFocus;\n    }\n\n    return origAttachShadow.apply(this, [init]);\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9yZXNvdXJjZXMvc2FmYXJpLTE0LWF0dGFjaHNoYWRvdy1wYXRjaC50cz8xZjIwIl0sIm5hbWVzIjpbImlzU2FmYXJpMTQiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwib3JpZ0F0dGFjaFNoYWRvdyIsIndpbmRvdyIsIkVsZW1lbnQiLCJwcm90b3R5cGUiLCJhdHRhY2hTaGFkb3ciLCJpbml0IiwiZGVsZWdhdGVzRm9jdXMiLCJhcHBseSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSxNQUFNQSxVQUFVLEdBQUcsbURBQW1EQyxJQUFuRCxDQUNqQkMsU0FBUyxDQUFDQyxTQURPLENBQW5COztBQUlBLElBQUlILFVBQUosRUFBZ0I7QUFDZCxRQUFNSSxnQkFBZ0IsR0FBR0MsTUFBTSxDQUFDQyxPQUFQLENBQWVDLFNBQWYsQ0FBeUJDLFlBQWxEOztBQUNBSCxFQUFBQSxNQUFNLENBQUNDLE9BQVAsQ0FBZUMsU0FBZixDQUF5QkMsWUFBekIsR0FBd0MsVUFBVUMsSUFBVixFQUFnQjtBQUN0RCxRQUFJQSxJQUFJLElBQUlBLElBQUksQ0FBQ0MsY0FBakIsRUFBaUM7QUFDL0IsYUFBT0QsSUFBSSxDQUFDQyxjQUFaO0FBQ0Q7O0FBQ0QsV0FBT04sZ0JBQWdCLENBQUNPLEtBQWpCLENBQXVCLElBQXZCLEVBQTZCLENBQUNGLElBQUQsQ0FBN0IsQ0FBUDtBQUNELEdBTEQ7QUFNRCIsInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ob21lLWFzc2lzdGFudC9mcm9udGVuZC9wdWxsLzcwMzFcbmNvbnN0IGlzU2FmYXJpMTQgPSAvXigoPyFjaHJvbWV8YW5kcm9pZCkuKSp2ZXJzaW9uXFwvMTRcXC4wXFxzLipzYWZhcmkvaS50ZXN0KFxuICBuYXZpZ2F0b3IudXNlckFnZW50XG4pO1xuXG5pZiAoaXNTYWZhcmkxNCkge1xuICBjb25zdCBvcmlnQXR0YWNoU2hhZG93ID0gd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdztcbiAgd2luZG93LkVsZW1lbnQucHJvdG90eXBlLmF0dGFjaFNoYWRvdyA9IGZ1bmN0aW9uIChpbml0KSB7XG4gICAgaWYgKGluaXQgJiYgaW5pdC5kZWxlZ2F0ZXNGb2N1cykge1xuICAgICAgZGVsZXRlIGluaXQuZGVsZWdhdGVzRm9jdXM7XG4gICAgfVxuICAgIHJldHVybiBvcmlnQXR0YWNoU2hhZG93LmFwcGx5KHRoaXMsIFtpbml0XSk7XG4gIH07XG59XG4iXSwiZmlsZSI6Ii4vc3JjL3Jlc291cmNlcy9zYWZhcmktMTQtYXR0YWNoc2hhZG93LXBhdGNoLnRzLmpzIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/resources/safari-14-attachshadow-patch.ts\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/auth.js":
/*!***************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/auth.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"genClientId\": () => (/* binding */ genClientId),\n/* harmony export */   \"genExpires\": () => (/* binding */ genExpires),\n/* harmony export */   \"Auth\": () => (/* binding */ Auth),\n/* harmony export */   \"createLongLivedTokenAuth\": () => (/* binding */ createLongLivedTokenAuth),\n/* harmony export */   \"getAuth\": () => (/* binding */ getAuth)\n/* harmony export */ });\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n\n\nconst genClientId = () => `${location.protocol}//${location.host}/`;\nconst genExpires = expires_in => {\n  return expires_in * 1000 + Date.now();\n};\n\nfunction genRedirectUrl() {\n  // Get current url but without # part.\n  const {\n    protocol,\n    host,\n    pathname,\n    search\n  } = location;\n  return `${protocol}//${host}${pathname}${search}`;\n}\n\nfunction genAuthorizeUrl(hassUrl, clientId, redirectUrl, state) {\n  let authorizeUrl = `${hassUrl}/auth/authorize?response_type=code&redirect_uri=${encodeURIComponent(redirectUrl)}`;\n\n  if (clientId !== null) {\n    authorizeUrl += `&client_id=${encodeURIComponent(clientId)}`;\n  }\n\n  if (state) {\n    authorizeUrl += `&state=${encodeURIComponent(state)}`;\n  }\n\n  return authorizeUrl;\n}\n\nfunction redirectAuthorize(hassUrl, clientId, redirectUrl, state) {\n  // Add either ?auth_callback=1 or &auth_callback=1\n  redirectUrl += (redirectUrl.includes(\"?\") ? \"&\" : \"?\") + \"auth_callback=1\";\n  document.location.href = genAuthorizeUrl(hassUrl, clientId, redirectUrl, state);\n}\n\nasync function tokenRequest(hassUrl, clientId, data) {\n  // Browsers don't allow fetching tokens from https -> http.\n  // Throw an error because it's a pain to debug this.\n  // Guard against not working in node.\n  const l = typeof location !== \"undefined\" && location;\n\n  if (l && l.protocol === \"https:\") {\n    // Ensure that the hassUrl is hosted on https.\n    const a = document.createElement(\"a\");\n    a.href = hassUrl;\n\n    if (a.protocol === \"http:\" && a.hostname !== \"localhost\") {\n      throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_HTTPS_TO_HTTP;\n    }\n  }\n\n  const formData = new FormData();\n\n  if (clientId !== null) {\n    formData.append(\"client_id\", clientId);\n  }\n\n  Object.keys(data).forEach(key => {\n    formData.append(key, data[key]);\n  });\n  const resp = await fetch(`${hassUrl}/auth/token`, {\n    method: \"POST\",\n    credentials: \"same-origin\",\n    body: formData\n  });\n\n  if (!resp.ok) {\n    throw resp.status === 400\n    /* auth invalid */\n    || resp.status === 403\n    /* user not active */\n    ? _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH : new Error(\"Unable to fetch tokens\");\n  }\n\n  const tokens = await resp.json();\n  tokens.hassUrl = hassUrl;\n  tokens.clientId = clientId;\n  tokens.expires = genExpires(tokens.expires_in);\n  return tokens;\n}\n\nfunction fetchToken(hassUrl, clientId, code) {\n  return tokenRequest(hassUrl, clientId, {\n    code,\n    grant_type: \"authorization_code\"\n  });\n}\n\nfunction encodeOAuthState(state) {\n  return btoa(JSON.stringify(state));\n}\n\nfunction decodeOAuthState(encoded) {\n  return JSON.parse(atob(encoded));\n}\n\nclass Auth {\n  constructor(data, saveTokens) {\n    this.data = data;\n    this._saveTokens = saveTokens;\n  }\n\n  get wsUrl() {\n    // Convert from http:// -> ws://, https:// -> wss://\n    return `ws${this.data.hassUrl.substr(4)}/api/websocket`;\n  }\n\n  get accessToken() {\n    return this.data.access_token;\n  }\n\n  get expired() {\n    return Date.now() > this.data.expires;\n  }\n  /**\n   * Refresh the access token.\n   */\n\n\n  async refreshAccessToken() {\n    if (!this.data.refresh_token) throw new Error(\"No refresh_token\");\n    const data = await tokenRequest(this.data.hassUrl, this.data.clientId, {\n      grant_type: \"refresh_token\",\n      refresh_token: this.data.refresh_token\n    }); // Access token response does not contain refresh token.\n\n    data.refresh_token = this.data.refresh_token;\n    this.data = data;\n    if (this._saveTokens) this._saveTokens(data);\n  }\n  /**\n   * Revoke the refresh & access tokens.\n   */\n\n\n  async revoke() {\n    if (!this.data.refresh_token) throw new Error(\"No refresh_token to revoke\");\n    const formData = new FormData();\n    formData.append(\"action\", \"revoke\");\n    formData.append(\"token\", this.data.refresh_token); // There is no error checking, as revoke will always return 200\n\n    await fetch(`${this.data.hassUrl}/auth/token`, {\n      method: \"POST\",\n      credentials: \"same-origin\",\n      body: formData\n    });\n\n    if (this._saveTokens) {\n      this._saveTokens(null);\n    }\n  }\n\n}\nfunction createLongLivedTokenAuth(hassUrl, access_token) {\n  return new Auth({\n    hassUrl,\n    clientId: null,\n    expires: Date.now() + 1e11,\n    refresh_token: \"\",\n    access_token,\n    expires_in: 1e11\n  });\n}\nasync function getAuth(options = {}) {\n  let data;\n  let hassUrl = options.hassUrl; // Strip trailing slash.\n\n  if (hassUrl && hassUrl[hassUrl.length - 1] === \"/\") {\n    hassUrl = hassUrl.substr(0, hassUrl.length - 1);\n  }\n\n  const clientId = options.clientId !== undefined ? options.clientId : genClientId(); // Use auth code if it was passed in\n\n  if (!data && options.authCode && hassUrl) {\n    data = await fetchToken(hassUrl, clientId, options.authCode);\n\n    if (options.saveTokens) {\n      options.saveTokens(data);\n    }\n  } // Check if we came back from an authorize redirect\n\n\n  if (!data) {\n    const query = (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.parseQuery)(location.search.substr(1)); // Check if we got redirected here from authorize page\n\n    if (\"auth_callback\" in query) {\n      // Restore state\n      const state = decodeOAuthState(query.state);\n      data = await fetchToken(state.hassUrl, state.clientId, query.code);\n\n      if (options.saveTokens) {\n        options.saveTokens(data);\n      }\n    }\n  } // Check for stored tokens\n\n\n  if (!data && options.loadTokens) {\n    data = await options.loadTokens();\n  }\n\n  if (data) {\n    return new Auth(data, options.saveTokens);\n  }\n\n  if (hassUrl === undefined) {\n    throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_HASS_HOST_REQUIRED;\n  } // If no tokens found but a hassUrl was passed in, let's go get some tokens!\n\n\n  redirectAuthorize(hassUrl, clientId, options.redirectUrl || genRedirectUrl(), encodeOAuthState({\n    hassUrl,\n    clientId\n  })); // Just don't resolve while we navigate to next page\n\n  return new Promise(() => {});\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvYXV0aC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTs7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFJQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7O0FBS0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTs7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFqREE7QUFtREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUNBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUZBOztBQUtBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9hdXRoLmpzP2JiYTIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcGFyc2VRdWVyeSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmltcG9ydCB7IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQsIEVSUl9JTlZBTElEX0FVVEgsIEVSUl9JTlZBTElEX0hUVFBTX1RPX0hUVFAsIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5leHBvcnQgY29uc3QgZ2VuQ2xpZW50SWQgPSAoKSA9PiBgJHtsb2NhdGlvbi5wcm90b2NvbH0vLyR7bG9jYXRpb24uaG9zdH0vYDtcbmV4cG9ydCBjb25zdCBnZW5FeHBpcmVzID0gKGV4cGlyZXNfaW4pID0+IHtcbiAgICByZXR1cm4gZXhwaXJlc19pbiAqIDEwMDAgKyBEYXRlLm5vdygpO1xufTtcbmZ1bmN0aW9uIGdlblJlZGlyZWN0VXJsKCkge1xuICAgIC8vIEdldCBjdXJyZW50IHVybCBidXQgd2l0aG91dCAjIHBhcnQuXG4gICAgY29uc3QgeyBwcm90b2NvbCwgaG9zdCwgcGF0aG5hbWUsIHNlYXJjaCB9ID0gbG9jYXRpb247XG4gICAgcmV0dXJuIGAke3Byb3RvY29sfS8vJHtob3N0fSR7cGF0aG5hbWV9JHtzZWFyY2h9YDtcbn1cbmZ1bmN0aW9uIGdlbkF1dGhvcml6ZVVybChoYXNzVXJsLCBjbGllbnRJZCwgcmVkaXJlY3RVcmwsIHN0YXRlKSB7XG4gICAgbGV0IGF1dGhvcml6ZVVybCA9IGAke2hhc3NVcmx9L2F1dGgvYXV0aG9yaXplP3Jlc3BvbnNlX3R5cGU9Y29kZSZyZWRpcmVjdF91cmk9JHtlbmNvZGVVUklDb21wb25lbnQocmVkaXJlY3RVcmwpfWA7XG4gICAgaWYgKGNsaWVudElkICE9PSBudWxsKSB7XG4gICAgICAgIGF1dGhvcml6ZVVybCArPSBgJmNsaWVudF9pZD0ke2VuY29kZVVSSUNvbXBvbmVudChjbGllbnRJZCl9YDtcbiAgICB9XG4gICAgaWYgKHN0YXRlKSB7XG4gICAgICAgIGF1dGhvcml6ZVVybCArPSBgJnN0YXRlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHN0YXRlKX1gO1xuICAgIH1cbiAgICByZXR1cm4gYXV0aG9yaXplVXJsO1xufVxuZnVuY3Rpb24gcmVkaXJlY3RBdXRob3JpemUoaGFzc1VybCwgY2xpZW50SWQsIHJlZGlyZWN0VXJsLCBzdGF0ZSkge1xuICAgIC8vIEFkZCBlaXRoZXIgP2F1dGhfY2FsbGJhY2s9MSBvciAmYXV0aF9jYWxsYmFjaz0xXG4gICAgcmVkaXJlY3RVcmwgKz0gKHJlZGlyZWN0VXJsLmluY2x1ZGVzKFwiP1wiKSA/IFwiJlwiIDogXCI/XCIpICsgXCJhdXRoX2NhbGxiYWNrPTFcIjtcbiAgICBkb2N1bWVudC5sb2NhdGlvbi5ocmVmID0gZ2VuQXV0aG9yaXplVXJsKGhhc3NVcmwsIGNsaWVudElkLCByZWRpcmVjdFVybCwgc3RhdGUpO1xufVxuYXN5bmMgZnVuY3Rpb24gdG9rZW5SZXF1ZXN0KGhhc3NVcmwsIGNsaWVudElkLCBkYXRhKSB7XG4gICAgLy8gQnJvd3NlcnMgZG9uJ3QgYWxsb3cgZmV0Y2hpbmcgdG9rZW5zIGZyb20gaHR0cHMgLT4gaHR0cC5cbiAgICAvLyBUaHJvdyBhbiBlcnJvciBiZWNhdXNlIGl0J3MgYSBwYWluIHRvIGRlYnVnIHRoaXMuXG4gICAgLy8gR3VhcmQgYWdhaW5zdCBub3Qgd29ya2luZyBpbiBub2RlLlxuICAgIGNvbnN0IGwgPSB0eXBlb2YgbG9jYXRpb24gIT09IFwidW5kZWZpbmVkXCIgJiYgbG9jYXRpb247XG4gICAgaWYgKGwgJiYgbC5wcm90b2NvbCA9PT0gXCJodHRwczpcIikge1xuICAgICAgICAvLyBFbnN1cmUgdGhhdCB0aGUgaGFzc1VybCBpcyBob3N0ZWQgb24gaHR0cHMuXG4gICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcbiAgICAgICAgYS5ocmVmID0gaGFzc1VybDtcbiAgICAgICAgaWYgKGEucHJvdG9jb2wgPT09IFwiaHR0cDpcIiAmJiBhLmhvc3RuYW1lICE9PSBcImxvY2FsaG9zdFwiKSB7XG4gICAgICAgICAgICB0aHJvdyBFUlJfSU5WQUxJRF9IVFRQU19UT19IVFRQO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgaWYgKGNsaWVudElkICE9PSBudWxsKSB7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImNsaWVudF9pZFwiLCBjbGllbnRJZCk7XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKGRhdGEpLmZvckVhY2goKGtleSkgPT4ge1xuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoa2V5LCBkYXRhW2tleV0pO1xuICAgIH0pO1xuICAgIGNvbnN0IHJlc3AgPSBhd2FpdCBmZXRjaChgJHtoYXNzVXJsfS9hdXRoL3Rva2VuYCwge1xuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICBjcmVkZW50aWFsczogXCJzYW1lLW9yaWdpblwiLFxuICAgICAgICBib2R5OiBmb3JtRGF0YSxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3Aub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcC5zdGF0dXMgPT09IDQwMCAvKiBhdXRoIGludmFsaWQgKi8gfHxcbiAgICAgICAgICAgIHJlc3Auc3RhdHVzID09PSA0MDMgLyogdXNlciBub3QgYWN0aXZlICovXG4gICAgICAgICAgICA/IEVSUl9JTlZBTElEX0FVVEhcbiAgICAgICAgICAgIDogbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZldGNoIHRva2Vuc1wiKTtcbiAgICB9XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgcmVzcC5qc29uKCk7XG4gICAgdG9rZW5zLmhhc3NVcmwgPSBoYXNzVXJsO1xuICAgIHRva2Vucy5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgIHRva2Vucy5leHBpcmVzID0gZ2VuRXhwaXJlcyh0b2tlbnMuZXhwaXJlc19pbik7XG4gICAgcmV0dXJuIHRva2Vucztcbn1cbmZ1bmN0aW9uIGZldGNoVG9rZW4oaGFzc1VybCwgY2xpZW50SWQsIGNvZGUpIHtcbiAgICByZXR1cm4gdG9rZW5SZXF1ZXN0KGhhc3NVcmwsIGNsaWVudElkLCB7XG4gICAgICAgIGNvZGUsXG4gICAgICAgIGdyYW50X3R5cGU6IFwiYXV0aG9yaXphdGlvbl9jb2RlXCIsXG4gICAgfSk7XG59XG5mdW5jdGlvbiBlbmNvZGVPQXV0aFN0YXRlKHN0YXRlKSB7XG4gICAgcmV0dXJuIGJ0b2EoSlNPTi5zdHJpbmdpZnkoc3RhdGUpKTtcbn1cbmZ1bmN0aW9uIGRlY29kZU9BdXRoU3RhdGUoZW5jb2RlZCkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKGF0b2IoZW5jb2RlZCkpO1xufVxuZXhwb3J0IGNsYXNzIEF1dGgge1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIHNhdmVUb2tlbnMpIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgICAgdGhpcy5fc2F2ZVRva2VucyA9IHNhdmVUb2tlbnM7XG4gICAgfVxuICAgIGdldCB3c1VybCgpIHtcbiAgICAgICAgLy8gQ29udmVydCBmcm9tIGh0dHA6Ly8gLT4gd3M6Ly8sIGh0dHBzOi8vIC0+IHdzczovL1xuICAgICAgICByZXR1cm4gYHdzJHt0aGlzLmRhdGEuaGFzc1VybC5zdWJzdHIoNCl9L2FwaS93ZWJzb2NrZXRgO1xuICAgIH1cbiAgICBnZXQgYWNjZXNzVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuYWNjZXNzX3Rva2VuO1xuICAgIH1cbiAgICBnZXQgZXhwaXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIERhdGUubm93KCkgPiB0aGlzLmRhdGEuZXhwaXJlcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVmcmVzaCB0aGUgYWNjZXNzIHRva2VuLlxuICAgICAqL1xuICAgIGFzeW5jIHJlZnJlc2hBY2Nlc3NUb2tlbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRhdGEucmVmcmVzaF90b2tlbilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIHJlZnJlc2hfdG9rZW5cIik7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCB0b2tlblJlcXVlc3QodGhpcy5kYXRhLmhhc3NVcmwsIHRoaXMuZGF0YS5jbGllbnRJZCwge1xuICAgICAgICAgICAgZ3JhbnRfdHlwZTogXCJyZWZyZXNoX3Rva2VuXCIsXG4gICAgICAgICAgICByZWZyZXNoX3Rva2VuOiB0aGlzLmRhdGEucmVmcmVzaF90b2tlbixcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIEFjY2VzcyB0b2tlbiByZXNwb25zZSBkb2VzIG5vdCBjb250YWluIHJlZnJlc2ggdG9rZW4uXG4gICAgICAgIGRhdGEucmVmcmVzaF90b2tlbiA9IHRoaXMuZGF0YS5yZWZyZXNoX3Rva2VuO1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICBpZiAodGhpcy5fc2F2ZVRva2VucylcbiAgICAgICAgICAgIHRoaXMuX3NhdmVUb2tlbnMoZGF0YSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldm9rZSB0aGUgcmVmcmVzaCAmIGFjY2VzcyB0b2tlbnMuXG4gICAgICovXG4gICAgYXN5bmMgcmV2b2tlKCkge1xuICAgICAgICBpZiAoIXRoaXMuZGF0YS5yZWZyZXNoX3Rva2VuKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gcmVmcmVzaF90b2tlbiB0byByZXZva2VcIik7XG4gICAgICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImFjdGlvblwiLCBcInJldm9rZVwiKTtcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKFwidG9rZW5cIiwgdGhpcy5kYXRhLnJlZnJlc2hfdG9rZW4pO1xuICAgICAgICAvLyBUaGVyZSBpcyBubyBlcnJvciBjaGVja2luZywgYXMgcmV2b2tlIHdpbGwgYWx3YXlzIHJldHVybiAyMDBcbiAgICAgICAgYXdhaXQgZmV0Y2goYCR7dGhpcy5kYXRhLmhhc3NVcmx9L2F1dGgvdG9rZW5gLCB7XG4gICAgICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgICAgICAgY3JlZGVudGlhbHM6IFwic2FtZS1vcmlnaW5cIixcbiAgICAgICAgICAgIGJvZHk6IGZvcm1EYXRhLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHRoaXMuX3NhdmVUb2tlbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX3NhdmVUb2tlbnMobnVsbCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTG9uZ0xpdmVkVG9rZW5BdXRoKGhhc3NVcmwsIGFjY2Vzc190b2tlbikge1xuICAgIHJldHVybiBuZXcgQXV0aCh7XG4gICAgICAgIGhhc3NVcmwsXG4gICAgICAgIGNsaWVudElkOiBudWxsLFxuICAgICAgICBleHBpcmVzOiBEYXRlLm5vdygpICsgMWUxMSxcbiAgICAgICAgcmVmcmVzaF90b2tlbjogXCJcIixcbiAgICAgICAgYWNjZXNzX3Rva2VuLFxuICAgICAgICBleHBpcmVzX2luOiAxZTExLFxuICAgIH0pO1xufVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEF1dGgob3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGRhdGE7XG4gICAgbGV0IGhhc3NVcmwgPSBvcHRpb25zLmhhc3NVcmw7XG4gICAgLy8gU3RyaXAgdHJhaWxpbmcgc2xhc2guXG4gICAgaWYgKGhhc3NVcmwgJiYgaGFzc1VybFtoYXNzVXJsLmxlbmd0aCAtIDFdID09PSBcIi9cIikge1xuICAgICAgICBoYXNzVXJsID0gaGFzc1VybC5zdWJzdHIoMCwgaGFzc1VybC5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgY29uc3QgY2xpZW50SWQgPSBvcHRpb25zLmNsaWVudElkICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsaWVudElkIDogZ2VuQ2xpZW50SWQoKTtcbiAgICAvLyBVc2UgYXV0aCBjb2RlIGlmIGl0IHdhcyBwYXNzZWQgaW5cbiAgICBpZiAoIWRhdGEgJiYgb3B0aW9ucy5hdXRoQ29kZSAmJiBoYXNzVXJsKSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaFRva2VuKGhhc3NVcmwsIGNsaWVudElkLCBvcHRpb25zLmF1dGhDb2RlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2F2ZVRva2Vucykge1xuICAgICAgICAgICAgb3B0aW9ucy5zYXZlVG9rZW5zKGRhdGEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHdlIGNhbWUgYmFjayBmcm9tIGFuIGF1dGhvcml6ZSByZWRpcmVjdFxuICAgIGlmICghZGF0YSkge1xuICAgICAgICBjb25zdCBxdWVyeSA9IHBhcnNlUXVlcnkobG9jYXRpb24uc2VhcmNoLnN1YnN0cigxKSk7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIGdvdCByZWRpcmVjdGVkIGhlcmUgZnJvbSBhdXRob3JpemUgcGFnZVxuICAgICAgICBpZiAoXCJhdXRoX2NhbGxiYWNrXCIgaW4gcXVlcnkpIHtcbiAgICAgICAgICAgIC8vIFJlc3RvcmUgc3RhdGVcbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gZGVjb2RlT0F1dGhTdGF0ZShxdWVyeS5zdGF0ZSk7XG4gICAgICAgICAgICBkYXRhID0gYXdhaXQgZmV0Y2hUb2tlbihzdGF0ZS5oYXNzVXJsLCBzdGF0ZS5jbGllbnRJZCwgcXVlcnkuY29kZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9ucy5zYXZlVG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgb3B0aW9ucy5zYXZlVG9rZW5zKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIENoZWNrIGZvciBzdG9yZWQgdG9rZW5zXG4gICAgaWYgKCFkYXRhICYmIG9wdGlvbnMubG9hZFRva2Vucykge1xuICAgICAgICBkYXRhID0gYXdhaXQgb3B0aW9ucy5sb2FkVG9rZW5zKCk7XG4gICAgfVxuICAgIGlmIChkYXRhKSB7XG4gICAgICAgIHJldHVybiBuZXcgQXV0aChkYXRhLCBvcHRpb25zLnNhdmVUb2tlbnMpO1xuICAgIH1cbiAgICBpZiAoaGFzc1VybCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQ7XG4gICAgfVxuICAgIC8vIElmIG5vIHRva2VucyBmb3VuZCBidXQgYSBoYXNzVXJsIHdhcyBwYXNzZWQgaW4sIGxldCdzIGdvIGdldCBzb21lIHRva2VucyFcbiAgICByZWRpcmVjdEF1dGhvcml6ZShoYXNzVXJsLCBjbGllbnRJZCwgb3B0aW9ucy5yZWRpcmVjdFVybCB8fCBnZW5SZWRpcmVjdFVybCgpLCBlbmNvZGVPQXV0aFN0YXRlKHtcbiAgICAgICAgaGFzc1VybCxcbiAgICAgICAgY2xpZW50SWQsXG4gICAgfSkpO1xuICAgIC8vIEp1c3QgZG9uJ3QgcmVzb2x2ZSB3aGlsZSB3ZSBuYXZpZ2F0ZSB0byBuZXh0IHBhZ2VcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKCkgPT4geyB9KTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/auth.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/collection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/collection.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getCollection\": () => (/* binding */ getCollection),\n/* harmony export */   \"createCollection\": () => (/* binding */ createCollection)\n/* harmony export */ });\n/* harmony import */ var _store_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store.js */ \"./node_modules/home-assistant-js-websocket/dist/store.js\");\n // Time to wait to unsubscribe from updates after last subscriber unsubscribes\n\nconst UNSUB_GRACE_PERIOD = 5000; // 5 seconds\n\nconst DEBUG = false;\n/**\n *\n * @param conn connection\n * @param key the key to store it on the connection. Must be unique for each collection.\n * @param fetchCollection fetch the current state. If undefined assumes subscribeUpdates receives current state\n * @param subscribeUpdates subscribe to updates on the current state\n * @returns\n */\n\nconst getCollection = (conn, key, fetchCollection, subscribeUpdates) => {\n  if (conn[key]) {\n    return conn[key];\n  }\n\n  let active = 0;\n  let unsubProm;\n  let unsubTimer;\n  let store = (0,_store_js__WEBPACK_IMPORTED_MODULE_0__.createStore)();\n\n  const refresh = () => {\n    if (!fetchCollection) {\n      throw new Error(\"Collection does not support refresh\");\n    }\n\n    return fetchCollection(conn).then(state => store.setState(state, true));\n  };\n\n  const refreshSwallow = () => refresh().catch(err => {\n    // Swallow errors if socket is connecting, closing or closed.\n    // We will automatically call refresh again when we re-establish the connection.\n    if (conn.connected) {\n      throw err;\n    }\n  });\n\n  const setupUpdateSubscription = () => {\n    if (unsubTimer !== undefined) {\n      if (DEBUG) {\n        console.log(`Prevented unsubscribe for ${key}`);\n      }\n\n      clearTimeout(unsubTimer);\n      unsubTimer = undefined;\n      return;\n    }\n\n    if (DEBUG) {\n      console.log(`Subscribing to ${key}`);\n    }\n\n    if (subscribeUpdates) {\n      unsubProm = subscribeUpdates(conn, store);\n    }\n\n    if (fetchCollection) {\n      // Fetch when connection re-established.\n      conn.addEventListener(\"ready\", refreshSwallow);\n      refreshSwallow();\n    }\n\n    conn.addEventListener(\"disconnected\", handleDisconnect);\n  };\n\n  const teardownUpdateSubscription = () => {\n    if (DEBUG) {\n      console.log(`Unsubscribing from ${key}`);\n    }\n\n    unsubTimer = undefined; // Unsubscribe from changes\n\n    if (unsubProm) unsubProm.then(unsub => {\n      unsub();\n    });\n    conn.removeEventListener(\"ready\", refresh);\n    conn.removeEventListener(\"disconnected\", handleDisconnect);\n  };\n\n  const scheduleTeardownUpdateSubscription = () => {\n    if (DEBUG) {\n      console.log(`Scheduling unsubscribing from ${key}`);\n    }\n\n    unsubTimer = setTimeout(teardownUpdateSubscription, UNSUB_GRACE_PERIOD);\n  };\n\n  const handleDisconnect = () => {\n    // If we're going to unsubscribe and then lose connection,\n    // just unsubscribe immediately.\n    if (unsubTimer) {\n      clearTimeout(unsubTimer);\n      teardownUpdateSubscription();\n    }\n  };\n\n  conn[key] = {\n    get state() {\n      return store.state;\n    },\n\n    refresh,\n\n    subscribe(subscriber) {\n      active++;\n\n      if (DEBUG) {\n        console.log(`New subscriber for ${key}. Active subscribers: ${active}`);\n      } // If this was the first subscriber, attach collection\n\n\n      if (active === 1) {\n        setupUpdateSubscription();\n      }\n\n      const unsub = store.subscribe(subscriber);\n\n      if (store.state !== undefined) {\n        // Don't call it right away so that caller has time\n        // to initialize all the things.\n        setTimeout(() => subscriber(store.state), 0);\n      }\n\n      return () => {\n        unsub();\n        active--;\n\n        if (DEBUG) {\n          console.log(`Unsubscribe for ${key}. Active subscribers: ${active}`);\n        }\n\n        if (!active) {\n          scheduleTeardownUpdateSubscription();\n        }\n      };\n    }\n\n  };\n  return conn[key];\n}; // Legacy name. It gets a collection and subscribes.\n\nconst createCollection = (key, fetchCollection, subscribeUpdates, conn, onChange) => getCollection(conn, key, fetchCollection, subscribeUpdates).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29sbGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUE5QkE7QUFnQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2NvbGxlY3Rpb24uanM/MGIxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTdG9yZSB9IGZyb20gXCIuL3N0b3JlLmpzXCI7XG4vLyBUaW1lIHRvIHdhaXQgdG8gdW5zdWJzY3JpYmUgZnJvbSB1cGRhdGVzIGFmdGVyIGxhc3Qgc3Vic2NyaWJlciB1bnN1YnNjcmliZXNcbmNvbnN0IFVOU1VCX0dSQUNFX1BFUklPRCA9IDUwMDA7IC8vIDUgc2Vjb25kc1xuY29uc3QgREVCVUcgPSBmYWxzZTtcbi8qKlxuICpcbiAqIEBwYXJhbSBjb25uIGNvbm5lY3Rpb25cbiAqIEBwYXJhbSBrZXkgdGhlIGtleSB0byBzdG9yZSBpdCBvbiB0aGUgY29ubmVjdGlvbi4gTXVzdCBiZSB1bmlxdWUgZm9yIGVhY2ggY29sbGVjdGlvbi5cbiAqIEBwYXJhbSBmZXRjaENvbGxlY3Rpb24gZmV0Y2ggdGhlIGN1cnJlbnQgc3RhdGUuIElmIHVuZGVmaW5lZCBhc3N1bWVzIHN1YnNjcmliZVVwZGF0ZXMgcmVjZWl2ZXMgY3VycmVudCBzdGF0ZVxuICogQHBhcmFtIHN1YnNjcmliZVVwZGF0ZXMgc3Vic2NyaWJlIHRvIHVwZGF0ZXMgb24gdGhlIGN1cnJlbnQgc3RhdGVcbiAqIEByZXR1cm5zXG4gKi9cbmV4cG9ydCBjb25zdCBnZXRDb2xsZWN0aW9uID0gKGNvbm4sIGtleSwgZmV0Y2hDb2xsZWN0aW9uLCBzdWJzY3JpYmVVcGRhdGVzKSA9PiB7XG4gICAgaWYgKGNvbm5ba2V5XSkge1xuICAgICAgICByZXR1cm4gY29ubltrZXldO1xuICAgIH1cbiAgICBsZXQgYWN0aXZlID0gMDtcbiAgICBsZXQgdW5zdWJQcm9tO1xuICAgIGxldCB1bnN1YlRpbWVyO1xuICAgIGxldCBzdG9yZSA9IGNyZWF0ZVN0b3JlKCk7XG4gICAgY29uc3QgcmVmcmVzaCA9ICgpID0+IHtcbiAgICAgICAgaWYgKCFmZXRjaENvbGxlY3Rpb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbGxlY3Rpb24gZG9lcyBub3Qgc3VwcG9ydCByZWZyZXNoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaENvbGxlY3Rpb24oY29ubikudGhlbigoc3RhdGUpID0+IHN0b3JlLnNldFN0YXRlKHN0YXRlLCB0cnVlKSk7XG4gICAgfTtcbiAgICBjb25zdCByZWZyZXNoU3dhbGxvdyA9ICgpID0+IHJlZnJlc2goKS5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIC8vIFN3YWxsb3cgZXJyb3JzIGlmIHNvY2tldCBpcyBjb25uZWN0aW5nLCBjbG9zaW5nIG9yIGNsb3NlZC5cbiAgICAgICAgLy8gV2Ugd2lsbCBhdXRvbWF0aWNhbGx5IGNhbGwgcmVmcmVzaCBhZ2FpbiB3aGVuIHdlIHJlLWVzdGFibGlzaCB0aGUgY29ubmVjdGlvbi5cbiAgICAgICAgaWYgKGNvbm4uY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBjb25zdCBzZXR1cFVwZGF0ZVN1YnNjcmlwdGlvbiA9ICgpID0+IHtcbiAgICAgICAgaWYgKHVuc3ViVGltZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFByZXZlbnRlZCB1bnN1YnNjcmliZSBmb3IgJHtrZXl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodW5zdWJUaW1lcik7XG4gICAgICAgICAgICB1bnN1YlRpbWVyID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coYFN1YnNjcmliaW5nIHRvICR7a2V5fWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzY3JpYmVVcGRhdGVzKSB7XG4gICAgICAgICAgICB1bnN1YlByb20gPSBzdWJzY3JpYmVVcGRhdGVzKGNvbm4sIHN0b3JlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmV0Y2hDb2xsZWN0aW9uKSB7XG4gICAgICAgICAgICAvLyBGZXRjaCB3aGVuIGNvbm5lY3Rpb24gcmUtZXN0YWJsaXNoZWQuXG4gICAgICAgICAgICBjb25uLmFkZEV2ZW50TGlzdGVuZXIoXCJyZWFkeVwiLCByZWZyZXNoU3dhbGxvdyk7XG4gICAgICAgICAgICByZWZyZXNoU3dhbGxvdygpO1xuICAgICAgICB9XG4gICAgICAgIGNvbm4uYWRkRXZlbnRMaXN0ZW5lcihcImRpc2Nvbm5lY3RlZFwiLCBoYW5kbGVEaXNjb25uZWN0KTtcbiAgICB9O1xuICAgIGNvbnN0IHRlYXJkb3duVXBkYXRlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBVbnN1YnNjcmliaW5nIGZyb20gJHtrZXl9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdW5zdWJUaW1lciA9IHVuZGVmaW5lZDtcbiAgICAgICAgLy8gVW5zdWJzY3JpYmUgZnJvbSBjaGFuZ2VzXG4gICAgICAgIGlmICh1bnN1YlByb20pXG4gICAgICAgICAgICB1bnN1YlByb20udGhlbigodW5zdWIpID0+IHtcbiAgICAgICAgICAgICAgICB1bnN1YigpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNvbm4ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInJlYWR5XCIsIHJlZnJlc2gpO1xuICAgICAgICBjb25uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJkaXNjb25uZWN0ZWRcIiwgaGFuZGxlRGlzY29ubmVjdCk7XG4gICAgfTtcbiAgICBjb25zdCBzY2hlZHVsZVRlYXJkb3duVXBkYXRlU3Vic2NyaXB0aW9uID0gKCkgPT4ge1xuICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTY2hlZHVsaW5nIHVuc3Vic2NyaWJpbmcgZnJvbSAke2tleX1gKTtcbiAgICAgICAgfVxuICAgICAgICB1bnN1YlRpbWVyID0gc2V0VGltZW91dCh0ZWFyZG93blVwZGF0ZVN1YnNjcmlwdGlvbiwgVU5TVUJfR1JBQ0VfUEVSSU9EKTtcbiAgICB9O1xuICAgIGNvbnN0IGhhbmRsZURpc2Nvbm5lY3QgPSAoKSA9PiB7XG4gICAgICAgIC8vIElmIHdlJ3JlIGdvaW5nIHRvIHVuc3Vic2NyaWJlIGFuZCB0aGVuIGxvc2UgY29ubmVjdGlvbixcbiAgICAgICAgLy8ganVzdCB1bnN1YnNjcmliZSBpbW1lZGlhdGVseS5cbiAgICAgICAgaWYgKHVuc3ViVGltZXIpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh1bnN1YlRpbWVyKTtcbiAgICAgICAgICAgIHRlYXJkb3duVXBkYXRlU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbm5ba2V5XSA9IHtcbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlLnN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICByZWZyZXNoLFxuICAgICAgICBzdWJzY3JpYmUoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgYWN0aXZlKys7XG4gICAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgTmV3IHN1YnNjcmliZXIgZm9yICR7a2V5fS4gQWN0aXZlIHN1YnNjcmliZXJzOiAke2FjdGl2ZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoaXMgd2FzIHRoZSBmaXJzdCBzdWJzY3JpYmVyLCBhdHRhY2ggY29sbGVjdGlvblxuICAgICAgICAgICAgaWYgKGFjdGl2ZSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIHNldHVwVXBkYXRlU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1bnN1YiA9IHN0b3JlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChzdG9yZS5zdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2FsbCBpdCByaWdodCBhd2F5IHNvIHRoYXQgY2FsbGVyIGhhcyB0aW1lXG4gICAgICAgICAgICAgICAgLy8gdG8gaW5pdGlhbGl6ZSBhbGwgdGhlIHRoaW5ncy5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHN1YnNjcmliZXIoc3RvcmUuc3RhdGUpLCAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdW5zdWIoKTtcbiAgICAgICAgICAgICAgICBhY3RpdmUtLTtcbiAgICAgICAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYFVuc3Vic2NyaWJlIGZvciAke2tleX0uIEFjdGl2ZSBzdWJzY3JpYmVyczogJHthY3RpdmV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghYWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlVGVhcmRvd25VcGRhdGVTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgIH07XG4gICAgcmV0dXJuIGNvbm5ba2V5XTtcbn07XG4vLyBMZWdhY3kgbmFtZS4gSXQgZ2V0cyBhIGNvbGxlY3Rpb24gYW5kIHN1YnNjcmliZXMuXG5leHBvcnQgY29uc3QgY3JlYXRlQ29sbGVjdGlvbiA9IChrZXksIGZldGNoQ29sbGVjdGlvbiwgc3Vic2NyaWJlVXBkYXRlcywgY29ubiwgb25DaGFuZ2UpID0+IGdldENvbGxlY3Rpb24oY29ubiwga2V5LCBmZXRjaENvbGxlY3Rpb24sIHN1YnNjcmliZVVwZGF0ZXMpLnN1YnNjcmliZShvbkNoYW5nZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/collection.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/commands.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/commands.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"getStates\": () => (/* binding */ getStates),\n/* harmony export */   \"getServices\": () => (/* binding */ getServices),\n/* harmony export */   \"getConfig\": () => (/* binding */ getConfig),\n/* harmony export */   \"getUser\": () => (/* binding */ getUser),\n/* harmony export */   \"callService\": () => (/* binding */ callService)\n/* harmony export */ });\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n\nconst getStates = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.states());\nconst getServices = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.services());\nconst getConfig = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.config());\nconst getUser = connection => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.user());\nconst callService = (connection, domain, service, serviceData, target) => connection.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.callService(domain, service, serviceData, target));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29tbWFuZHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29tbWFuZHMuanM/MmM4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tIFwiLi9tZXNzYWdlcy5qc1wiO1xuZXhwb3J0IGNvbnN0IGdldFN0YXRlcyA9IChjb25uZWN0aW9uKSA9PiBjb25uZWN0aW9uLnNlbmRNZXNzYWdlUHJvbWlzZShtZXNzYWdlcy5zdGF0ZXMoKSk7XG5leHBvcnQgY29uc3QgZ2V0U2VydmljZXMgPSAoY29ubmVjdGlvbikgPT4gY29ubmVjdGlvbi5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMuc2VydmljZXMoKSk7XG5leHBvcnQgY29uc3QgZ2V0Q29uZmlnID0gKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLmNvbmZpZygpKTtcbmV4cG9ydCBjb25zdCBnZXRVc2VyID0gKGNvbm5lY3Rpb24pID0+IGNvbm5lY3Rpb24uc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLnVzZXIoKSk7XG5leHBvcnQgY29uc3QgY2FsbFNlcnZpY2UgPSAoY29ubmVjdGlvbiwgZG9tYWluLCBzZXJ2aWNlLCBzZXJ2aWNlRGF0YSwgdGFyZ2V0KSA9PiBjb25uZWN0aW9uLnNlbmRNZXNzYWdlUHJvbWlzZShtZXNzYWdlcy5jYWxsU2VydmljZShkb21haW4sIHNlcnZpY2UsIHNlcnZpY2VEYXRhLCB0YXJnZXQpKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/commands.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/config.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/config.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"configColl\": () => (/* binding */ configColl),\n/* harmony export */   \"subscribeConfig\": () => (/* binding */ subscribeConfig),\n/* harmony export */   \"STATE_NOT_RUNNING\": () => (/* binding */ STATE_NOT_RUNNING),\n/* harmony export */   \"STATE_STARTING\": () => (/* binding */ STATE_STARTING),\n/* harmony export */   \"STATE_RUNNING\": () => (/* binding */ STATE_RUNNING),\n/* harmony export */   \"STATE_STOPPING\": () => (/* binding */ STATE_STOPPING),\n/* harmony export */   \"STATE_FINAL_WRITE\": () => (/* binding */ STATE_FINAL_WRITE)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n\n\n\nfunction processComponentLoaded(state, event) {\n  if (state === undefined) return null;\n  return {\n    components: state.components.concat(event.data.component)\n  };\n}\n\nconst fetchConfig = conn => (0,_commands_js__WEBPACK_IMPORTED_MODULE_0__.getConfig)(conn);\n\nconst subscribeUpdates = (conn, store) => Promise.all([conn.subscribeEvents(store.action(processComponentLoaded), \"component_loaded\"), conn.subscribeEvents(() => fetchConfig(conn).then(config => store.setState(config, true)), \"core_config_updated\")]).then(unsubs => () => unsubs.forEach(unsub => unsub()));\n\nconst configColl = conn => (0,_collection_js__WEBPACK_IMPORTED_MODULE_1__.getCollection)(conn, \"_cnf\", fetchConfig, subscribeUpdates);\nconst subscribeConfig = (conn, onChange) => configColl(conn).subscribe(onChange);\nconst STATE_NOT_RUNNING = \"NOT_RUNNING\";\nconst STATE_STARTING = \"STARTING\";\nconst STATE_RUNNING = \"RUNNING\";\nconst STATE_STOPPING = \"STOPPING\";\nconst STATE_FINAL_WRITE = \"FINAL_WRITE\";//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29uZmlnLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFEQTtBQUdBOztBQUNBOztBQUNBOztBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29uZmlnLmpzPzAzM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q29sbGVjdGlvbiB9IGZyb20gXCIuL2NvbGxlY3Rpb24uanNcIjtcbmltcG9ydCB7IGdldENvbmZpZyB9IGZyb20gXCIuL2NvbW1hbmRzLmpzXCI7XG5mdW5jdGlvbiBwcm9jZXNzQ29tcG9uZW50TG9hZGVkKHN0YXRlLCBldmVudCkge1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4ge1xuICAgICAgICBjb21wb25lbnRzOiBzdGF0ZS5jb21wb25lbnRzLmNvbmNhdChldmVudC5kYXRhLmNvbXBvbmVudCksXG4gICAgfTtcbn1cbmNvbnN0IGZldGNoQ29uZmlnID0gKGNvbm4pID0+IGdldENvbmZpZyhjb25uKTtcbmNvbnN0IHN1YnNjcmliZVVwZGF0ZXMgPSAoY29ubiwgc3RvcmUpID0+IFByb21pc2UuYWxsKFtcbiAgICBjb25uLnN1YnNjcmliZUV2ZW50cyhzdG9yZS5hY3Rpb24ocHJvY2Vzc0NvbXBvbmVudExvYWRlZCksIFwiY29tcG9uZW50X2xvYWRlZFwiKSxcbiAgICBjb25uLnN1YnNjcmliZUV2ZW50cygoKSA9PiBmZXRjaENvbmZpZyhjb25uKS50aGVuKChjb25maWcpID0+IHN0b3JlLnNldFN0YXRlKGNvbmZpZywgdHJ1ZSkpLCBcImNvcmVfY29uZmlnX3VwZGF0ZWRcIiksXG5dKS50aGVuKCh1bnN1YnMpID0+ICgpID0+IHVuc3Vicy5mb3JFYWNoKCh1bnN1YikgPT4gdW5zdWIoKSkpO1xuZXhwb3J0IGNvbnN0IGNvbmZpZ0NvbGwgPSAoY29ubikgPT4gZ2V0Q29sbGVjdGlvbihjb25uLCBcIl9jbmZcIiwgZmV0Y2hDb25maWcsIHN1YnNjcmliZVVwZGF0ZXMpO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUNvbmZpZyA9IChjb25uLCBvbkNoYW5nZSkgPT4gY29uZmlnQ29sbChjb25uKS5zdWJzY3JpYmUob25DaGFuZ2UpO1xuZXhwb3J0IGNvbnN0IFNUQVRFX05PVF9SVU5OSU5HID0gXCJOT1RfUlVOTklOR1wiO1xuZXhwb3J0IGNvbnN0IFNUQVRFX1NUQVJUSU5HID0gXCJTVEFSVElOR1wiO1xuZXhwb3J0IGNvbnN0IFNUQVRFX1JVTk5JTkcgPSBcIlJVTk5JTkdcIjtcbmV4cG9ydCBjb25zdCBTVEFURV9TVE9QUElORyA9IFwiU1RPUFBJTkdcIjtcbmV4cG9ydCBjb25zdCBTVEFURV9GSU5BTF9XUklURSA9IFwiRklOQUxfV1JJVEVcIjtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/config.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/connection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/connection.js ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Connection\": () => (/* binding */ Connection)\n/* harmony export */ });\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/**\n * Connection that wraps a socket and provides an interface to interact with\n * the Home Assistant websocket API.\n */\n\n\nconst DEBUG = false;\nclass Connection {\n  constructor(socket, options) {\n    this._handleMessage = event => {\n      const message = JSON.parse(event.data);\n\n      if (DEBUG) {\n        console.log(\"Received\", message);\n      }\n\n      const info = this.commands.get(message.id);\n\n      switch (message.type) {\n        case \"event\":\n          if (info) {\n            info.callback(message.event);\n          } else {\n            console.warn(`Received event for unknown subscription ${message.id}. Unsubscribing.`);\n            this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.unsubscribeEvents(message.id));\n          }\n\n          break;\n\n        case \"result\":\n          // No info is fine. If just sendMessage is used, we did not store promise for result\n          if (info) {\n            if (message.success) {\n              info.resolve(message.result); // Don't remove subscriptions.\n\n              if (!(\"subscribe\" in info)) {\n                this.commands.delete(message.id);\n              }\n            } else {\n              info.reject(message.error);\n              this.commands.delete(message.id);\n            }\n          }\n\n          break;\n\n        case \"pong\":\n          if (info) {\n            info.resolve();\n            this.commands.delete(message.id);\n          } else {\n            console.warn(`Received unknown pong response ${message.id}`);\n          }\n\n          break;\n\n        default:\n          if (DEBUG) {\n            console.warn(\"Unhandled message\", message);\n          }\n\n      }\n    };\n\n    this._handleClose = async () => {\n      const oldCommands = this.commands; // reset to original state except haVersion\n\n      this.commandId = 1;\n      this.oldSubscriptions = this.commands;\n      this.commands = new Map();\n      this.socket = undefined; // Reject in-flight sendMessagePromise requests\n\n      oldCommands.forEach(info => {\n        // We don't cancel subscribeEvents commands in flight\n        // as we will be able to recover them.\n        if (!(\"subscribe\" in info)) {\n          info.reject(_messages_js__WEBPACK_IMPORTED_MODULE_0__.error(_errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST, \"Connection lost\"));\n        }\n      });\n\n      if (this.closeRequested) {\n        return;\n      }\n\n      this.fireEvent(\"disconnected\"); // Disable setupRetry, we control it here with auto-backoff\n\n      const options = Object.assign(Object.assign({}, this.options), {\n        setupRetry: 0\n      });\n\n      const reconnect = tries => {\n        setTimeout(async () => {\n          if (this.closeRequested) {\n            return;\n          }\n\n          if (DEBUG) {\n            console.log(\"Trying to reconnect\");\n          }\n\n          try {\n            const socket = await options.createSocket(options);\n\n            this._setSocket(socket);\n          } catch (err) {\n            if (this._queuedMessages) {\n              const queuedMessages = this._queuedMessages;\n              this._queuedMessages = undefined;\n\n              for (const msg of queuedMessages) {\n                if (msg.reject) {\n                  msg.reject(_errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST);\n                }\n              }\n            }\n\n            if (err === _errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_INVALID_AUTH) {\n              this.fireEvent(\"reconnect-error\", err);\n            } else {\n              reconnect(tries + 1);\n            }\n          }\n        }, Math.min(tries, 5) * 1000);\n      };\n\n      if (this.suspendReconnectPromise) {\n        await this.suspendReconnectPromise;\n        this.suspendReconnectPromise = undefined; // For the first retry after suspend, we will queue up\n        // all messages.\n\n        this._queuedMessages = [];\n      }\n\n      reconnect(0);\n    }; // connection options\n    //  - setupRetry: amount of ms to retry when unable to connect on initial setup\n    //  - createSocket: create a new Socket connection\n\n\n    this.options = options; // id if next command to send\n\n    this.commandId = 1; // info about active subscriptions and commands in flight\n\n    this.commands = new Map(); // map of event listeners\n\n    this.eventListeners = new Map(); // true if a close is requested by the user\n\n    this.closeRequested = false;\n\n    this._setSocket(socket);\n  }\n\n  get connected() {\n    // Using conn.socket.OPEN instead of WebSocket for better node support\n    return this.socket !== undefined && this.socket.readyState == this.socket.OPEN;\n  }\n\n  _setSocket(socket) {\n    this.socket = socket;\n    this.haVersion = socket.haVersion;\n    socket.addEventListener(\"message\", this._handleMessage);\n    socket.addEventListener(\"close\", this._handleClose);\n    const oldSubscriptions = this.oldSubscriptions;\n\n    if (oldSubscriptions) {\n      this.oldSubscriptions = undefined;\n      oldSubscriptions.forEach(info => {\n        if (\"subscribe\" in info && info.subscribe) {\n          info.subscribe().then(unsub => {\n            info.unsubscribe = unsub; // We need to resolve this in case it wasn't resolved yet.\n            // This allows us to subscribe while we're disconnected\n            // and recover properly.\n\n            info.resolve();\n          });\n        }\n      });\n    }\n\n    const queuedMessages = this._queuedMessages;\n\n    if (queuedMessages) {\n      this._queuedMessages = undefined;\n\n      for (const queuedMsg of queuedMessages) {\n        queuedMsg.resolve();\n      }\n    }\n\n    this.fireEvent(\"ready\");\n  }\n\n  addEventListener(eventType, callback) {\n    let listeners = this.eventListeners.get(eventType);\n\n    if (!listeners) {\n      listeners = [];\n      this.eventListeners.set(eventType, listeners);\n    }\n\n    listeners.push(callback);\n  }\n\n  removeEventListener(eventType, callback) {\n    const listeners = this.eventListeners.get(eventType);\n\n    if (!listeners) {\n      return;\n    }\n\n    const index = listeners.indexOf(callback);\n\n    if (index !== -1) {\n      listeners.splice(index, 1);\n    }\n  }\n\n  fireEvent(eventType, eventData) {\n    (this.eventListeners.get(eventType) || []).forEach(callback => callback(this, eventData));\n  }\n\n  suspendReconnectUntil(suspendPromise) {\n    this.suspendReconnectPromise = suspendPromise;\n  }\n\n  suspend() {\n    if (!this.suspendReconnectPromise) {\n      throw new Error(\"Suspend promise not set\");\n    }\n\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n  /**\n   * Reconnect the websocket connection.\n   * @param force discard old socket instead of gracefully closing it.\n   */\n\n\n  reconnect(force = false) {\n    if (!this.socket) {\n      return;\n    }\n\n    if (!force) {\n      this.socket.close();\n      return;\n    }\n\n    this.socket.removeEventListener(\"message\", this._handleMessage);\n    this.socket.removeEventListener(\"close\", this._handleClose);\n    this.socket.close();\n\n    this._handleClose();\n  }\n\n  close() {\n    this.closeRequested = true;\n\n    if (this.socket) {\n      this.socket.close();\n    }\n  }\n  /**\n   * Subscribe to a specific or all events.\n   *\n   * @param callback Callback  to be called when a new event fires\n   * @param eventType\n   * @returns promise that resolves to an unsubscribe function\n   */\n\n\n  async subscribeEvents(callback, eventType) {\n    return this.subscribeMessage(callback, _messages_js__WEBPACK_IMPORTED_MODULE_0__.subscribeEvents(eventType));\n  }\n\n  ping() {\n    return this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.ping());\n  }\n\n  sendMessage(message, commandId) {\n    if (!this.connected) {\n      throw _errors_js__WEBPACK_IMPORTED_MODULE_1__.ERR_CONNECTION_LOST;\n    }\n\n    if (DEBUG) {\n      console.log(\"Sending\", message);\n    }\n\n    if (this._queuedMessages) {\n      if (commandId) {\n        throw new Error(\"Cannot queue with commandId\");\n      }\n\n      this._queuedMessages.push({\n        resolve: () => this.sendMessage(message)\n      });\n\n      return;\n    }\n\n    if (!commandId) {\n      commandId = this._genCmdId();\n    }\n\n    message.id = commandId;\n    this.socket.send(JSON.stringify(message));\n  }\n\n  sendMessagePromise(message) {\n    return new Promise((resolve, reject) => {\n      if (this._queuedMessages) {\n        this._queuedMessages.push({\n          reject,\n          resolve: async () => {\n            try {\n              resolve(await this.sendMessagePromise(message));\n            } catch (err) {\n              reject(err);\n            }\n          }\n        });\n\n        return;\n      }\n\n      const commandId = this._genCmdId();\n\n      this.commands.set(commandId, {\n        resolve,\n        reject\n      });\n      this.sendMessage(message, commandId);\n    });\n  }\n  /**\n   * Call a websocket command that starts a subscription on the backend.\n   *\n   * @param message the message to start the subscription\n   * @param callback the callback to be called when a new item arrives\n   * @param [options.resubscribe] re-established a subscription after a reconnect. Defaults to true.\n   * @returns promise that resolves to an unsubscribe function\n   */\n\n\n  async subscribeMessage(callback, subscribeMessage, options) {\n    if (this._queuedMessages) {\n      await new Promise((resolve, reject) => {\n        this._queuedMessages.push({\n          resolve,\n          reject\n        });\n      });\n    }\n\n    let info;\n    await new Promise((resolve, reject) => {\n      // Command ID that will be used\n      const commandId = this._genCmdId(); // We store unsubscribe on info object. That way we can overwrite it in case\n      // we get disconnected and we have to subscribe again.\n\n\n      info = {\n        resolve,\n        reject,\n        callback,\n        subscribe: (options === null || options === void 0 ? void 0 : options.resubscribe) !== false ? () => this.subscribeMessage(callback, subscribeMessage) : undefined,\n        unsubscribe: async () => {\n          // No need to unsubscribe if we're disconnected\n          if (this.connected) {\n            await this.sendMessagePromise(_messages_js__WEBPACK_IMPORTED_MODULE_0__.unsubscribeEvents(commandId));\n          }\n\n          this.commands.delete(commandId);\n        }\n      };\n      this.commands.set(commandId, info);\n\n      try {\n        this.sendMessage(subscribeMessage, commandId);\n      } catch (err) {// Happens when the websocket is already closing.\n        // Don't have to handle the error, reconnect logic will pick it up.\n      }\n    });\n    return () => info.unsubscribe();\n  }\n\n  _genCmdId() {\n    return ++this.commandId;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvY29ubmVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF0Q0E7QUF3Q0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBRUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBOzs7QUFDQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFFQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFUQTs7QUFXQTtBQUNBOztBQUNBOztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFiQTtBQWVBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQTFUQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2Nvbm5lY3Rpb24uanM/YTI4MiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvbm5lY3Rpb24gdGhhdCB3cmFwcyBhIHNvY2tldCBhbmQgcHJvdmlkZXMgYW4gaW50ZXJmYWNlIHRvIGludGVyYWN0IHdpdGhcbiAqIHRoZSBIb21lIEFzc2lzdGFudCB3ZWJzb2NrZXQgQVBJLlxuICovXG5pbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tIFwiLi9tZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgRVJSX0lOVkFMSURfQVVUSCwgRVJSX0NPTk5FQ1RJT05fTE9TVCB9IGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuY29uc3QgREVCVUcgPSBmYWxzZTtcbmV4cG9ydCBjbGFzcyBDb25uZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3Rvcihzb2NrZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5faGFuZGxlTWVzc2FnZSA9IChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBpZiAoREVCVUcpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkXCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuY29tbWFuZHMuZ2V0KG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgc3dpdGNoIChtZXNzYWdlLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uY2FsbGJhY2sobWVzc2FnZS5ldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY2VpdmVkIGV2ZW50IGZvciB1bmtub3duIHN1YnNjcmlwdGlvbiAke21lc3NhZ2UuaWR9LiBVbnN1YnNjcmliaW5nLmApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMudW5zdWJzY3JpYmVFdmVudHMobWVzc2FnZS5pZCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZXN1bHRcIjpcbiAgICAgICAgICAgICAgICAgICAgLy8gTm8gaW5mbyBpcyBmaW5lLiBJZiBqdXN0IHNlbmRNZXNzYWdlIGlzIHVzZWQsIHdlIGRpZCBub3Qgc3RvcmUgcHJvbWlzZSBmb3IgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5mby5yZXNvbHZlKG1lc3NhZ2UucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEb24ndCByZW1vdmUgc3Vic2NyaXB0aW9ucy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShcInN1YnNjcmliZVwiIGluIGluZm8pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucmVqZWN0KG1lc3NhZ2UuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwb25nXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmZvKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuZGVsZXRlKG1lc3NhZ2UuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBSZWNlaXZlZCB1bmtub3duIHBvbmcgcmVzcG9uc2UgJHttZXNzYWdlLmlkfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVW5oYW5kbGVkIG1lc3NhZ2VcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5faGFuZGxlQ2xvc2UgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvbGRDb21tYW5kcyA9IHRoaXMuY29tbWFuZHM7XG4gICAgICAgICAgICAvLyByZXNldCB0byBvcmlnaW5hbCBzdGF0ZSBleGNlcHQgaGFWZXJzaW9uXG4gICAgICAgICAgICB0aGlzLmNvbW1hbmRJZCA9IDE7XG4gICAgICAgICAgICB0aGlzLm9sZFN1YnNjcmlwdGlvbnMgPSB0aGlzLmNvbW1hbmRzO1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcyA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgLy8gUmVqZWN0IGluLWZsaWdodCBzZW5kTWVzc2FnZVByb21pc2UgcmVxdWVzdHNcbiAgICAgICAgICAgIG9sZENvbW1hbmRzLmZvckVhY2goKGluZm8pID0+IHtcbiAgICAgICAgICAgICAgICAvLyBXZSBkb24ndCBjYW5jZWwgc3Vic2NyaWJlRXZlbnRzIGNvbW1hbmRzIGluIGZsaWdodFxuICAgICAgICAgICAgICAgIC8vIGFzIHdlIHdpbGwgYmUgYWJsZSB0byByZWNvdmVyIHRoZW0uXG4gICAgICAgICAgICAgICAgaWYgKCEoXCJzdWJzY3JpYmVcIiBpbiBpbmZvKSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnJlamVjdChtZXNzYWdlcy5lcnJvcihFUlJfQ09OTkVDVElPTl9MT1NULCBcIkNvbm5lY3Rpb24gbG9zdFwiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAodGhpcy5jbG9zZVJlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuZmlyZUV2ZW50KFwiZGlzY29ubmVjdGVkXCIpO1xuICAgICAgICAgICAgLy8gRGlzYWJsZSBzZXR1cFJldHJ5LCB3ZSBjb250cm9sIGl0IGhlcmUgd2l0aCBhdXRvLWJhY2tvZmZcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHRoaXMub3B0aW9ucyksIHsgc2V0dXBSZXRyeTogMCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHJlY29ubmVjdCA9ICh0cmllcykgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbG9zZVJlcXVlc3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUcnlpbmcgdG8gcmVjb25uZWN0XCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb2NrZXQgPSBhd2FpdCBvcHRpb25zLmNyZWF0ZVNvY2tldChvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldFNvY2tldChzb2NrZXQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9xdWV1ZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXVlZE1lc3NhZ2VzID0gdGhpcy5fcXVldWVkTWVzc2FnZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcXVldWVkTWVzc2FnZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBtc2cgb2YgcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy5yZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZy5yZWplY3QoRVJSX0NPTk5FQ1RJT05fTE9TVCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyID09PSBFUlJfSU5WQUxJRF9BVVRIKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXJlRXZlbnQoXCJyZWNvbm5lY3QtZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlY29ubmVjdCh0cmllcyArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgTWF0aC5taW4odHJpZXMsIDUpICogMTAwMCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKHRoaXMuc3VzcGVuZFJlY29ubmVjdFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN1c3BlbmRSZWNvbm5lY3RQcm9taXNlO1xuICAgICAgICAgICAgICAgIHRoaXMuc3VzcGVuZFJlY29ubmVjdFByb21pc2UgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgLy8gRm9yIHRoZSBmaXJzdCByZXRyeSBhZnRlciBzdXNwZW5kLCB3ZSB3aWxsIHF1ZXVlIHVwXG4gICAgICAgICAgICAgICAgLy8gYWxsIG1lc3NhZ2VzLlxuICAgICAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWNvbm5lY3QoMCk7XG4gICAgICAgIH07XG4gICAgICAgIC8vIGNvbm5lY3Rpb24gb3B0aW9uc1xuICAgICAgICAvLyAgLSBzZXR1cFJldHJ5OiBhbW91bnQgb2YgbXMgdG8gcmV0cnkgd2hlbiB1bmFibGUgdG8gY29ubmVjdCBvbiBpbml0aWFsIHNldHVwXG4gICAgICAgIC8vICAtIGNyZWF0ZVNvY2tldDogY3JlYXRlIGEgbmV3IFNvY2tldCBjb25uZWN0aW9uXG4gICAgICAgIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIC8vIGlkIGlmIG5leHQgY29tbWFuZCB0byBzZW5kXG4gICAgICAgIHRoaXMuY29tbWFuZElkID0gMTtcbiAgICAgICAgLy8gaW5mbyBhYm91dCBhY3RpdmUgc3Vic2NyaXB0aW9ucyBhbmQgY29tbWFuZHMgaW4gZmxpZ2h0XG4gICAgICAgIHRoaXMuY29tbWFuZHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIC8vIG1hcCBvZiBldmVudCBsaXN0ZW5lcnNcbiAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycyA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ1ZSBpZiBhIGNsb3NlIGlzIHJlcXVlc3RlZCBieSB0aGUgdXNlclxuICAgICAgICB0aGlzLmNsb3NlUmVxdWVzdGVkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3NldFNvY2tldChzb2NrZXQpO1xuICAgIH1cbiAgICBnZXQgY29ubmVjdGVkKCkge1xuICAgICAgICAvLyBVc2luZyBjb25uLnNvY2tldC5PUEVOIGluc3RlYWQgb2YgV2ViU29ja2V0IGZvciBiZXR0ZXIgbm9kZSBzdXBwb3J0XG4gICAgICAgIHJldHVybiAodGhpcy5zb2NrZXQgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNvY2tldC5yZWFkeVN0YXRlID09IHRoaXMuc29ja2V0Lk9QRU4pO1xuICAgIH1cbiAgICBfc2V0U29ja2V0KHNvY2tldCkge1xuICAgICAgICB0aGlzLnNvY2tldCA9IHNvY2tldDtcbiAgICAgICAgdGhpcy5oYVZlcnNpb24gPSBzb2NrZXQuaGFWZXJzaW9uO1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZSk7XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgdGhpcy5faGFuZGxlQ2xvc2UpO1xuICAgICAgICBjb25zdCBvbGRTdWJzY3JpcHRpb25zID0gdGhpcy5vbGRTdWJzY3JpcHRpb25zO1xuICAgICAgICBpZiAob2xkU3Vic2NyaXB0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5vbGRTdWJzY3JpcHRpb25zID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgb2xkU3Vic2NyaXB0aW9ucy5mb3JFYWNoKChpbmZvKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFwic3Vic2NyaWJlXCIgaW4gaW5mbyAmJiBpbmZvLnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgICAgICBpbmZvLnN1YnNjcmliZSgpLnRoZW4oKHVuc3ViKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmZvLnVuc3Vic2NyaWJlID0gdW5zdWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIHJlc29sdmUgdGhpcyBpbiBjYXNlIGl0IHdhc24ndCByZXNvbHZlZCB5ZXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIGFsbG93cyB1cyB0byBzdWJzY3JpYmUgd2hpbGUgd2UncmUgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhbmQgcmVjb3ZlciBwcm9wZXJseS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGluZm8ucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBxdWV1ZWRNZXNzYWdlcyA9IHRoaXMuX3F1ZXVlZE1lc3NhZ2VzO1xuICAgICAgICBpZiAocXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZm9yIChjb25zdCBxdWV1ZWRNc2cgb2YgcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBxdWV1ZWRNc2cucmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZmlyZUV2ZW50KFwicmVhZHlcIik7XG4gICAgfVxuICAgIGFkZEV2ZW50TGlzdGVuZXIoZXZlbnRUeXBlLCBjYWxsYmFjaykge1xuICAgICAgICBsZXQgbGlzdGVuZXJzID0gdGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRUeXBlKTtcbiAgICAgICAgaWYgKCFsaXN0ZW5lcnMpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycyA9IFtdO1xuICAgICAgICAgICAgdGhpcy5ldmVudExpc3RlbmVycy5zZXQoZXZlbnRUeXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKGNhbGxiYWNrKTtcbiAgICB9XG4gICAgcmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudFR5cGUsIGNhbGxiYWNrKSB7XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IHRoaXMuZXZlbnRMaXN0ZW5lcnMuZ2V0KGV2ZW50VHlwZSk7XG4gICAgICAgIGlmICghbGlzdGVuZXJzKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaW5kZXggPSBsaXN0ZW5lcnMuaW5kZXhPZihjYWxsYmFjayk7XG4gICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZpcmVFdmVudChldmVudFR5cGUsIGV2ZW50RGF0YSkge1xuICAgICAgICAodGhpcy5ldmVudExpc3RlbmVycy5nZXQoZXZlbnRUeXBlKSB8fCBbXSkuZm9yRWFjaCgoY2FsbGJhY2spID0+IGNhbGxiYWNrKHRoaXMsIGV2ZW50RGF0YSkpO1xuICAgIH1cbiAgICBzdXNwZW5kUmVjb25uZWN0VW50aWwoc3VzcGVuZFByb21pc2UpIHtcbiAgICAgICAgdGhpcy5zdXNwZW5kUmVjb25uZWN0UHJvbWlzZSA9IHN1c3BlbmRQcm9taXNlO1xuICAgIH1cbiAgICBzdXNwZW5kKCkge1xuICAgICAgICBpZiAoIXRoaXMuc3VzcGVuZFJlY29ubmVjdFByb21pc2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN1c3BlbmQgcHJvbWlzZSBub3Qgc2V0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNvbm5lY3QgdGhlIHdlYnNvY2tldCBjb25uZWN0aW9uLlxuICAgICAqIEBwYXJhbSBmb3JjZSBkaXNjYXJkIG9sZCBzb2NrZXQgaW5zdGVhZCBvZiBncmFjZWZ1bGx5IGNsb3NpbmcgaXQuXG4gICAgICovXG4gICAgcmVjb25uZWN0KGZvcmNlID0gZmFsc2UpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNvY2tldCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZSk7XG4gICAgICAgIHRoaXMuc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCB0aGlzLl9oYW5kbGVDbG9zZSk7XG4gICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7XG4gICAgICAgIHRoaXMuX2hhbmRsZUNsb3NlKCk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmNsb3NlUmVxdWVzdGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XG4gICAgICAgICAgICB0aGlzLnNvY2tldC5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZSB0byBhIHNwZWNpZmljIG9yIGFsbCBldmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgIHRvIGJlIGNhbGxlZCB3aGVuIGEgbmV3IGV2ZW50IGZpcmVzXG4gICAgICogQHBhcmFtIGV2ZW50VHlwZVxuICAgICAqIEByZXR1cm5zIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhbiB1bnN1YnNjcmliZSBmdW5jdGlvblxuICAgICAqL1xuICAgIGFzeW5jIHN1YnNjcmliZUV2ZW50cyhjYWxsYmFjaywgZXZlbnRUeXBlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN1YnNjcmliZU1lc3NhZ2UoY2FsbGJhY2ssIG1lc3NhZ2VzLnN1YnNjcmliZUV2ZW50cyhldmVudFR5cGUpKTtcbiAgICB9XG4gICAgcGluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2VzLnBpbmcoKSk7XG4gICAgfVxuICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UsIGNvbW1hbmRJZCkge1xuICAgICAgICBpZiAoIXRoaXMuY29ubmVjdGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBFUlJfQ09OTkVDVElPTl9MT1NUO1xuICAgICAgICB9XG4gICAgICAgIGlmIChERUJVRykge1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJTZW5kaW5nXCIsIG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9xdWV1ZWRNZXNzYWdlcykge1xuICAgICAgICAgICAgaWYgKGNvbW1hbmRJZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBxdWV1ZSB3aXRoIGNvbW1hbmRJZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3F1ZXVlZE1lc3NhZ2VzLnB1c2goeyByZXNvbHZlOiAoKSA9PiB0aGlzLnNlbmRNZXNzYWdlKG1lc3NhZ2UpIH0pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29tbWFuZElkKSB7XG4gICAgICAgICAgICBjb21tYW5kSWQgPSB0aGlzLl9nZW5DbWRJZCgpO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UuaWQgPSBjb21tYW5kSWQ7XG4gICAgICAgIHRoaXMuc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3F1ZXVlZE1lc3NhZ2VzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcXVldWVkTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdCxcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZTogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGF3YWl0IHRoaXMuc2VuZE1lc3NhZ2VQcm9taXNlKG1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb21tYW5kSWQgPSB0aGlzLl9nZW5DbWRJZCgpO1xuICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5zZXQoY29tbWFuZElkLCB7IHJlc29sdmUsIHJlamVjdCB9KTtcbiAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2UobWVzc2FnZSwgY29tbWFuZElkKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgYSB3ZWJzb2NrZXQgY29tbWFuZCB0aGF0IHN0YXJ0cyBhIHN1YnNjcmlwdGlvbiBvbiB0aGUgYmFja2VuZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIHRoZSBtZXNzYWdlIHRvIHN0YXJ0IHRoZSBzdWJzY3JpcHRpb25cbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIGEgbmV3IGl0ZW0gYXJyaXZlc1xuICAgICAqIEBwYXJhbSBbb3B0aW9ucy5yZXN1YnNjcmliZV0gcmUtZXN0YWJsaXNoZWQgYSBzdWJzY3JpcHRpb24gYWZ0ZXIgYSByZWNvbm5lY3QuIERlZmF1bHRzIHRvIHRydWUuXG4gICAgICogQHJldHVybnMgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIHVuc3Vic2NyaWJlIGZ1bmN0aW9uXG4gICAgICovXG4gICAgYXN5bmMgc3Vic2NyaWJlTWVzc2FnZShjYWxsYmFjaywgc3Vic2NyaWJlTWVzc2FnZSwgb3B0aW9ucykge1xuICAgICAgICBpZiAodGhpcy5fcXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9xdWV1ZWRNZXNzYWdlcy5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluZm87XG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIC8vIENvbW1hbmQgSUQgdGhhdCB3aWxsIGJlIHVzZWRcbiAgICAgICAgICAgIGNvbnN0IGNvbW1hbmRJZCA9IHRoaXMuX2dlbkNtZElkKCk7XG4gICAgICAgICAgICAvLyBXZSBzdG9yZSB1bnN1YnNjcmliZSBvbiBpbmZvIG9iamVjdC4gVGhhdCB3YXkgd2UgY2FuIG92ZXJ3cml0ZSBpdCBpbiBjYXNlXG4gICAgICAgICAgICAvLyB3ZSBnZXQgZGlzY29ubmVjdGVkIGFuZCB3ZSBoYXZlIHRvIHN1YnNjcmliZSBhZ2Fpbi5cbiAgICAgICAgICAgIGluZm8gPSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSxcbiAgICAgICAgICAgICAgICByZWplY3QsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlOiAob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJlc3Vic2NyaWJlKSAhPT0gZmFsc2VcbiAgICAgICAgICAgICAgICAgICAgPyAoKSA9PiB0aGlzLnN1YnNjcmliZU1lc3NhZ2UoY2FsbGJhY2ssIHN1YnNjcmliZU1lc3NhZ2UpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlOiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vIG5lZWQgdG8gdW5zdWJzY3JpYmUgaWYgd2UncmUgZGlzY29ubmVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zZW5kTWVzc2FnZVByb21pc2UobWVzc2FnZXMudW5zdWJzY3JpYmVFdmVudHMoY29tbWFuZElkKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tYW5kcy5kZWxldGUoY29tbWFuZElkKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuY29tbWFuZHMuc2V0KGNvbW1hbmRJZCwgaW5mbyk7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VuZE1lc3NhZ2Uoc3Vic2NyaWJlTWVzc2FnZSwgY29tbWFuZElkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvLyBIYXBwZW5zIHdoZW4gdGhlIHdlYnNvY2tldCBpcyBhbHJlYWR5IGNsb3NpbmcuXG4gICAgICAgICAgICAgICAgLy8gRG9uJ3QgaGF2ZSB0byBoYW5kbGUgdGhlIGVycm9yLCByZWNvbm5lY3QgbG9naWMgd2lsbCBwaWNrIGl0IHVwLlxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuICgpID0+IGluZm8udW5zdWJzY3JpYmUoKTtcbiAgICB9XG4gICAgX2dlbkNtZElkKCkge1xuICAgICAgICByZXR1cm4gKyt0aGlzLmNvbW1hbmRJZDtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/connection.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/entities.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/entities.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"entitiesColl\": () => (/* binding */ entitiesColl),\n/* harmony export */   \"subscribeEntities\": () => (/* binding */ subscribeEntities)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n\n\n\n\nfunction processEvent(store, updates) {\n  const state = Object.assign({}, store.state);\n\n  if (updates.a) {\n    for (const entityId in updates.a) {\n      const newState = updates.a[entityId];\n      let last_changed = new Date(newState.lc * 1000).toISOString();\n      state[entityId] = {\n        entity_id: entityId,\n        state: newState.s,\n        attributes: newState.a,\n        context: typeof newState.c === \"string\" ? {\n          id: newState.c,\n          parent_id: null,\n          user_id: null\n        } : newState.c,\n        last_changed: last_changed,\n        last_updated: newState.lu ? new Date(newState.lu * 1000).toISOString() : last_changed\n      };\n    }\n  }\n\n  if (updates.r) {\n    for (const entityId of updates.r) {\n      delete state[entityId];\n    }\n  }\n\n  if (updates.c) {\n    for (const entityId in updates.c) {\n      let entityState = state[entityId];\n\n      if (!entityState) {\n        console.warn(\"Received state update for unknown entity\", entityId);\n        continue;\n      }\n\n      entityState = Object.assign({}, entityState);\n      const {\n        \"+\": toAdd,\n        \"-\": toRemove\n      } = updates.c[entityId];\n      const attributesChanged = (toAdd === null || toAdd === void 0 ? void 0 : toAdd.a) || (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a);\n      const attributes = attributesChanged ? Object.assign({}, entityState.attributes) : entityState.attributes;\n\n      if (toAdd) {\n        if (toAdd.s !== undefined) {\n          entityState.state = toAdd.s;\n        }\n\n        if (toAdd.c) {\n          if (typeof toAdd.c === \"string\") {\n            entityState.context = Object.assign(Object.assign({}, entityState.context), {\n              id: toAdd.c\n            });\n          } else {\n            entityState.context = Object.assign(Object.assign({}, entityState.context), toAdd.c);\n          }\n        }\n\n        if (toAdd.lc) {\n          entityState.last_updated = entityState.last_changed = new Date(toAdd.lc * 1000).toISOString();\n        } else if (toAdd.lu) {\n          entityState.last_updated = new Date(toAdd.lu * 1000).toISOString();\n        }\n\n        if (toAdd.a) {\n          Object.assign(attributes, toAdd.a);\n        }\n      }\n\n      if (toRemove === null || toRemove === void 0 ? void 0 : toRemove.a) {\n        for (const key of toRemove.a) {\n          delete attributes[key];\n        }\n      }\n\n      if (attributesChanged) {\n        entityState.attributes = attributes;\n      }\n\n      state[entityId] = entityState;\n    }\n  }\n\n  store.setState(state, true);\n}\n\nconst subscribeUpdates = (conn, store) => conn.subscribeMessage(ev => processEvent(store, ev), {\n  type: \"subscribe_entities\"\n});\n\nfunction legacyProcessEvent(store, event) {\n  const state = store.state;\n  if (state === undefined) return;\n  const {\n    entity_id,\n    new_state\n  } = event.data;\n\n  if (new_state) {\n    store.setState({\n      [new_state.entity_id]: new_state\n    });\n  } else {\n    const newEntities = Object.assign({}, state);\n    delete newEntities[entity_id];\n    store.setState(newEntities, true);\n  }\n}\n\nasync function legacyFetchEntities(conn) {\n  const states = await (0,_commands_js__WEBPACK_IMPORTED_MODULE_0__.getStates)(conn);\n  const entities = {};\n\n  for (let i = 0; i < states.length; i++) {\n    const state = states[i];\n    entities[state.entity_id] = state;\n  }\n\n  return entities;\n}\n\nconst legacySubscribeUpdates = (conn, store) => conn.subscribeEvents(ev => legacyProcessEvent(store, ev), \"state_changed\");\n\nconst entitiesColl = conn => (0,_util_js__WEBPACK_IMPORTED_MODULE_1__.atLeastHaVersion)(conn.haVersion, 2022, 4, 0) ? (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_ent\", undefined, subscribeUpdates) : (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_ent\", legacyFetchEntities, legacySubscribeUpdates);\nconst subscribeEntities = (conn, onChange) => entitiesColl(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvZW50aXRpZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFSQTtBQVlBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQURBOztBQUdBO0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBOztBQUNBO0FBR0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9lbnRpdGllcy5qcz9hYzg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvbGxlY3Rpb24gfSBmcm9tIFwiLi9jb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBnZXRTdGF0ZXMgfSBmcm9tIFwiLi9jb21tYW5kcy5qc1wiO1xuaW1wb3J0IHsgYXRMZWFzdEhhVmVyc2lvbiB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmZ1bmN0aW9uIHByb2Nlc3NFdmVudChzdG9yZSwgdXBkYXRlcykge1xuICAgIGNvbnN0IHN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgc3RvcmUuc3RhdGUpO1xuICAgIGlmICh1cGRhdGVzLmEpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlJZCBpbiB1cGRhdGVzLmEpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1N0YXRlID0gdXBkYXRlcy5hW2VudGl0eUlkXTtcbiAgICAgICAgICAgIGxldCBsYXN0X2NoYW5nZWQgPSBuZXcgRGF0ZShuZXdTdGF0ZS5sYyAqIDEwMDApLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICBzdGF0ZVtlbnRpdHlJZF0gPSB7XG4gICAgICAgICAgICAgICAgZW50aXR5X2lkOiBlbnRpdHlJZCxcbiAgICAgICAgICAgICAgICBzdGF0ZTogbmV3U3RhdGUucyxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBuZXdTdGF0ZS5hLFxuICAgICAgICAgICAgICAgIGNvbnRleHQ6IHR5cGVvZiBuZXdTdGF0ZS5jID09PSBcInN0cmluZ1wiXG4gICAgICAgICAgICAgICAgICAgID8geyBpZDogbmV3U3RhdGUuYywgcGFyZW50X2lkOiBudWxsLCB1c2VyX2lkOiBudWxsIH1cbiAgICAgICAgICAgICAgICAgICAgOiBuZXdTdGF0ZS5jLFxuICAgICAgICAgICAgICAgIGxhc3RfY2hhbmdlZDogbGFzdF9jaGFuZ2VkLFxuICAgICAgICAgICAgICAgIGxhc3RfdXBkYXRlZDogbmV3U3RhdGUubHVcbiAgICAgICAgICAgICAgICAgICAgPyBuZXcgRGF0ZShuZXdTdGF0ZS5sdSAqIDEwMDApLnRvSVNPU3RyaW5nKClcbiAgICAgICAgICAgICAgICAgICAgOiBsYXN0X2NoYW5nZWQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh1cGRhdGVzLnIpIHtcbiAgICAgICAgZm9yIChjb25zdCBlbnRpdHlJZCBvZiB1cGRhdGVzLnIpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBzdGF0ZVtlbnRpdHlJZF07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHVwZGF0ZXMuYykge1xuICAgICAgICBmb3IgKGNvbnN0IGVudGl0eUlkIGluIHVwZGF0ZXMuYykge1xuICAgICAgICAgICAgbGV0IGVudGl0eVN0YXRlID0gc3RhdGVbZW50aXR5SWRdO1xuICAgICAgICAgICAgaWYgKCFlbnRpdHlTdGF0ZSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlJlY2VpdmVkIHN0YXRlIHVwZGF0ZSBmb3IgdW5rbm93biBlbnRpdHlcIiwgZW50aXR5SWQpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZW50aXR5U3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBlbnRpdHlTdGF0ZSk7XG4gICAgICAgICAgICBjb25zdCB7IFwiK1wiOiB0b0FkZCwgXCItXCI6IHRvUmVtb3ZlIH0gPSB1cGRhdGVzLmNbZW50aXR5SWRdO1xuICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlc0NoYW5nZWQgPSAodG9BZGQgPT09IG51bGwgfHwgdG9BZGQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvQWRkLmEpIHx8ICh0b1JlbW92ZSA9PT0gbnVsbCB8fCB0b1JlbW92ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdG9SZW1vdmUuYSk7XG4gICAgICAgICAgICBjb25zdCBhdHRyaWJ1dGVzID0gYXR0cmlidXRlc0NoYW5nZWRcbiAgICAgICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24oe30sIGVudGl0eVN0YXRlLmF0dHJpYnV0ZXMpIDogZW50aXR5U3RhdGUuYXR0cmlidXRlcztcbiAgICAgICAgICAgIGlmICh0b0FkZCkge1xuICAgICAgICAgICAgICAgIGlmICh0b0FkZC5zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuc3RhdGUgPSB0b0FkZC5zO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodG9BZGQuYykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRvQWRkLmMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eVN0YXRlLmNvbnRleHQgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGVudGl0eVN0YXRlLmNvbnRleHQpLCB7IGlkOiB0b0FkZC5jIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuY29udGV4dCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZW50aXR5U3RhdGUuY29udGV4dCksIHRvQWRkLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b0FkZC5sYykge1xuICAgICAgICAgICAgICAgICAgICBlbnRpdHlTdGF0ZS5sYXN0X3VwZGF0ZWQgPSBlbnRpdHlTdGF0ZS5sYXN0X2NoYW5nZWQgPSBuZXcgRGF0ZSh0b0FkZC5sYyAqIDEwMDApLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRvQWRkLmx1KSB7XG4gICAgICAgICAgICAgICAgICAgIGVudGl0eVN0YXRlLmxhc3RfdXBkYXRlZCA9IG5ldyBEYXRlKHRvQWRkLmx1ICogMTAwMCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHRvQWRkLmEpIHtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihhdHRyaWJ1dGVzLCB0b0FkZC5hKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9SZW1vdmUgPT09IG51bGwgfHwgdG9SZW1vdmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRvUmVtb3ZlLmEpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB0b1JlbW92ZS5hKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgZW50aXR5U3RhdGUuYXR0cmlidXRlcyA9IGF0dHJpYnV0ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdGF0ZVtlbnRpdHlJZF0gPSBlbnRpdHlTdGF0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdG9yZS5zZXRTdGF0ZShzdGF0ZSwgdHJ1ZSk7XG59XG5jb25zdCBzdWJzY3JpYmVVcGRhdGVzID0gKGNvbm4sIHN0b3JlKSA9PiBjb25uLnN1YnNjcmliZU1lc3NhZ2UoKGV2KSA9PiBwcm9jZXNzRXZlbnQoc3RvcmUsIGV2KSwge1xuICAgIHR5cGU6IFwic3Vic2NyaWJlX2VudGl0aWVzXCIsXG59KTtcbmZ1bmN0aW9uIGxlZ2FjeVByb2Nlc3NFdmVudChzdG9yZSwgZXZlbnQpIHtcbiAgICBjb25zdCBzdGF0ZSA9IHN0b3JlLnN0YXRlO1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgeyBlbnRpdHlfaWQsIG5ld19zdGF0ZSB9ID0gZXZlbnQuZGF0YTtcbiAgICBpZiAobmV3X3N0YXRlKSB7XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKHsgW25ld19zdGF0ZS5lbnRpdHlfaWRdOiBuZXdfc3RhdGUgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBuZXdFbnRpdGllcyA9IE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKTtcbiAgICAgICAgZGVsZXRlIG5ld0VudGl0aWVzW2VudGl0eV9pZF07XG4gICAgICAgIHN0b3JlLnNldFN0YXRlKG5ld0VudGl0aWVzLCB0cnVlKTtcbiAgICB9XG59XG5hc3luYyBmdW5jdGlvbiBsZWdhY3lGZXRjaEVudGl0aWVzKGNvbm4pIHtcbiAgICBjb25zdCBzdGF0ZXMgPSBhd2FpdCBnZXRTdGF0ZXMoY29ubik7XG4gICAgY29uc3QgZW50aXRpZXMgPSB7fTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IHN0YXRlc1tpXTtcbiAgICAgICAgZW50aXRpZXNbc3RhdGUuZW50aXR5X2lkXSA9IHN0YXRlO1xuICAgIH1cbiAgICByZXR1cm4gZW50aXRpZXM7XG59XG5jb25zdCBsZWdhY3lTdWJzY3JpYmVVcGRhdGVzID0gKGNvbm4sIHN0b3JlKSA9PiBjb25uLnN1YnNjcmliZUV2ZW50cygoZXYpID0+IGxlZ2FjeVByb2Nlc3NFdmVudChzdG9yZSwgZXYpLCBcInN0YXRlX2NoYW5nZWRcIik7XG5leHBvcnQgY29uc3QgZW50aXRpZXNDb2xsID0gKGNvbm4pID0+IGF0TGVhc3RIYVZlcnNpb24oY29ubi5oYVZlcnNpb24sIDIwMjIsIDQsIDApXG4gICAgPyBnZXRDb2xsZWN0aW9uKGNvbm4sIFwiX2VudFwiLCB1bmRlZmluZWQsIHN1YnNjcmliZVVwZGF0ZXMpXG4gICAgOiBnZXRDb2xsZWN0aW9uKGNvbm4sIFwiX2VudFwiLCBsZWdhY3lGZXRjaEVudGl0aWVzLCBsZWdhY3lTdWJzY3JpYmVVcGRhdGVzKTtcbmV4cG9ydCBjb25zdCBzdWJzY3JpYmVFbnRpdGllcyA9IChjb25uLCBvbkNoYW5nZSkgPT4gZW50aXRpZXNDb2xsKGNvbm4pLnN1YnNjcmliZShvbkNoYW5nZSk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/entities.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/errors.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/errors.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERR_CANNOT_CONNECT\": () => (/* binding */ ERR_CANNOT_CONNECT),\n/* harmony export */   \"ERR_INVALID_AUTH\": () => (/* binding */ ERR_INVALID_AUTH),\n/* harmony export */   \"ERR_CONNECTION_LOST\": () => (/* binding */ ERR_CONNECTION_LOST),\n/* harmony export */   \"ERR_HASS_HOST_REQUIRED\": () => (/* binding */ ERR_HASS_HOST_REQUIRED),\n/* harmony export */   \"ERR_INVALID_HTTPS_TO_HTTP\": () => (/* binding */ ERR_INVALID_HTTPS_TO_HTTP)\n/* harmony export */ });\nconst ERR_CANNOT_CONNECT = 1;\nconst ERR_INVALID_AUTH = 2;\nconst ERR_CONNECTION_LOST = 3;\nconst ERR_HASS_HOST_REQUIRED = 4;\nconst ERR_INVALID_HTTPS_TO_HTTP = 5;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvZXJyb3JzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L2Vycm9ycy5qcz82YzdjIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBFUlJfQ0FOTk9UX0NPTk5FQ1QgPSAxO1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0FVVEggPSAyO1xuZXhwb3J0IGNvbnN0IEVSUl9DT05ORUNUSU9OX0xPU1QgPSAzO1xuZXhwb3J0IGNvbnN0IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQgPSA0O1xuZXhwb3J0IGNvbnN0IEVSUl9JTlZBTElEX0hUVFBTX1RPX0hUVFAgPSA1O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/errors.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/index.js":
/*!****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/index.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Auth\": () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.Auth),\n/* harmony export */   \"createLongLivedTokenAuth\": () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.createLongLivedTokenAuth),\n/* harmony export */   \"genClientId\": () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.genClientId),\n/* harmony export */   \"genExpires\": () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.genExpires),\n/* harmony export */   \"getAuth\": () => (/* reexport safe */ _auth_js__WEBPACK_IMPORTED_MODULE_0__.getAuth),\n/* harmony export */   \"createCollection\": () => (/* reexport safe */ _collection_js__WEBPACK_IMPORTED_MODULE_1__.createCollection),\n/* harmony export */   \"getCollection\": () => (/* reexport safe */ _collection_js__WEBPACK_IMPORTED_MODULE_1__.getCollection),\n/* harmony export */   \"Connection\": () => (/* reexport safe */ _connection_js__WEBPACK_IMPORTED_MODULE_2__.Connection),\n/* harmony export */   \"STATE_FINAL_WRITE\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_FINAL_WRITE),\n/* harmony export */   \"STATE_NOT_RUNNING\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_NOT_RUNNING),\n/* harmony export */   \"STATE_RUNNING\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_RUNNING),\n/* harmony export */   \"STATE_STARTING\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_STARTING),\n/* harmony export */   \"STATE_STOPPING\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.STATE_STOPPING),\n/* harmony export */   \"configColl\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.configColl),\n/* harmony export */   \"subscribeConfig\": () => (/* reexport safe */ _config_js__WEBPACK_IMPORTED_MODULE_3__.subscribeConfig),\n/* harmony export */   \"servicesColl\": () => (/* reexport safe */ _services_js__WEBPACK_IMPORTED_MODULE_4__.servicesColl),\n/* harmony export */   \"subscribeServices\": () => (/* reexport safe */ _services_js__WEBPACK_IMPORTED_MODULE_4__.subscribeServices),\n/* harmony export */   \"entitiesColl\": () => (/* reexport safe */ _entities_js__WEBPACK_IMPORTED_MODULE_5__.entitiesColl),\n/* harmony export */   \"subscribeEntities\": () => (/* reexport safe */ _entities_js__WEBPACK_IMPORTED_MODULE_5__.subscribeEntities),\n/* harmony export */   \"ERR_CANNOT_CONNECT\": () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_CANNOT_CONNECT),\n/* harmony export */   \"ERR_CONNECTION_LOST\": () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_CONNECTION_LOST),\n/* harmony export */   \"ERR_HASS_HOST_REQUIRED\": () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_HASS_HOST_REQUIRED),\n/* harmony export */   \"ERR_INVALID_AUTH\": () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_INVALID_AUTH),\n/* harmony export */   \"ERR_INVALID_HTTPS_TO_HTTP\": () => (/* reexport safe */ _errors_js__WEBPACK_IMPORTED_MODULE_6__.ERR_INVALID_HTTPS_TO_HTTP),\n/* harmony export */   \"MSG_TYPE_AUTH_INVALID\": () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_INVALID),\n/* harmony export */   \"MSG_TYPE_AUTH_OK\": () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_OK),\n/* harmony export */   \"MSG_TYPE_AUTH_REQUIRED\": () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.MSG_TYPE_AUTH_REQUIRED),\n/* harmony export */   \"createSocket\": () => (/* reexport safe */ _socket_js__WEBPACK_IMPORTED_MODULE_7__.createSocket),\n/* harmony export */   \"callService\": () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.callService),\n/* harmony export */   \"getConfig\": () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getConfig),\n/* harmony export */   \"getServices\": () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getServices),\n/* harmony export */   \"getStates\": () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getStates),\n/* harmony export */   \"getUser\": () => (/* reexport safe */ _commands_js__WEBPACK_IMPORTED_MODULE_8__.getUser),\n/* harmony export */   \"createConnection\": () => (/* binding */ createConnection)\n/* harmony export */ });\n/* harmony import */ var _socket_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./socket.js */ \"./node_modules/home-assistant-js-websocket/dist/socket.js\");\n/* harmony import */ var _connection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./connection.js */ \"./node_modules/home-assistant-js-websocket/dist/connection.js\");\n/* harmony import */ var _auth_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./auth.js */ \"./node_modules/home-assistant-js-websocket/dist/auth.js\");\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _config_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./config.js */ \"./node_modules/home-assistant-js-websocket/dist/config.js\");\n/* harmony import */ var _services_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./services.js */ \"./node_modules/home-assistant-js-websocket/dist/services.js\");\n/* harmony import */ var _entities_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./entities.js */ \"./node_modules/home-assistant-js-websocket/dist/entities.js\");\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n// JS extensions in imports allow tsc output to be consumed by browsers.\n\n\n\n\n\n\n\n\n\n\n\n\nasync function createConnection(options) {\n  const connOptions = Object.assign({\n    setupRetry: 0,\n    createSocket: _socket_js__WEBPACK_IMPORTED_MODULE_7__.createSocket\n  }, options);\n  const socket = await connOptions.createSocket(connOptions);\n  const conn = new _connection_js__WEBPACK_IMPORTED_MODULE_2__.Connection(socket, connOptions);\n  return conn;\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvaW5kZXguanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvaW5kZXguanM/MTJiYyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBKUyBleHRlbnNpb25zIGluIGltcG9ydHMgYWxsb3cgdHNjIG91dHB1dCB0byBiZSBjb25zdW1lZCBieSBicm93c2Vycy5cbmltcG9ydCB7IGNyZWF0ZVNvY2tldCB9IGZyb20gXCIuL3NvY2tldC5qc1wiO1xuaW1wb3J0IHsgQ29ubmVjdGlvbiB9IGZyb20gXCIuL2Nvbm5lY3Rpb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2F1dGguanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbGxlY3Rpb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2Nvbm5lY3Rpb24uanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbmZpZy5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vc2VydmljZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2VudGl0aWVzLmpzXCI7XG5leHBvcnQgKiBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL3NvY2tldC5qc1wiO1xuZXhwb3J0ICogZnJvbSBcIi4vdHlwZXMuanNcIjtcbmV4cG9ydCAqIGZyb20gXCIuL2NvbW1hbmRzLmpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gY3JlYXRlQ29ubmVjdGlvbihvcHRpb25zKSB7XG4gICAgY29uc3QgY29ubk9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHsgc2V0dXBSZXRyeTogMCwgY3JlYXRlU29ja2V0IH0sIG9wdGlvbnMpO1xuICAgIGNvbnN0IHNvY2tldCA9IGF3YWl0IGNvbm5PcHRpb25zLmNyZWF0ZVNvY2tldChjb25uT3B0aW9ucyk7XG4gICAgY29uc3QgY29ubiA9IG5ldyBDb25uZWN0aW9uKHNvY2tldCwgY29ubk9wdGlvbnMpO1xuICAgIHJldHVybiBjb25uO1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/index.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/messages.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/messages.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"auth\": () => (/* binding */ auth),\n/* harmony export */   \"states\": () => (/* binding */ states),\n/* harmony export */   \"config\": () => (/* binding */ config),\n/* harmony export */   \"services\": () => (/* binding */ services),\n/* harmony export */   \"user\": () => (/* binding */ user),\n/* harmony export */   \"callService\": () => (/* binding */ callService),\n/* harmony export */   \"subscribeEvents\": () => (/* binding */ subscribeEvents),\n/* harmony export */   \"unsubscribeEvents\": () => (/* binding */ unsubscribeEvents),\n/* harmony export */   \"ping\": () => (/* binding */ ping),\n/* harmony export */   \"error\": () => (/* binding */ error)\n/* harmony export */ });\nfunction auth(accessToken) {\n  return {\n    type: \"auth\",\n    access_token: accessToken\n  };\n}\nfunction states() {\n  return {\n    type: \"get_states\"\n  };\n}\nfunction config() {\n  return {\n    type: \"get_config\"\n  };\n}\nfunction services() {\n  return {\n    type: \"get_services\"\n  };\n}\nfunction user() {\n  return {\n    type: \"auth/current_user\"\n  };\n}\nfunction callService(domain, service, serviceData, target) {\n  const message = {\n    type: \"call_service\",\n    domain,\n    service,\n    target\n  };\n\n  if (serviceData) {\n    message.service_data = serviceData;\n  }\n\n  return message;\n}\nfunction subscribeEvents(eventType) {\n  const message = {\n    type: \"subscribe_events\"\n  };\n\n  if (eventType) {\n    message.event_type = eventType;\n  }\n\n  return message;\n}\nfunction unsubscribeEvents(subscription) {\n  return {\n    type: \"unsubscribe_events\",\n    subscription\n  };\n}\nfunction ping() {\n  return {\n    type: \"ping\"\n  };\n}\nfunction error(code, message) {\n  return {\n    type: \"result\",\n    success: false,\n    error: {\n      code,\n      message\n    }\n  };\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvbWVzc2FnZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTs7QUFNQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBOztBQUdBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFIQTtBQVFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvbWVzc2FnZXMuanM/MTM5ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gYXV0aChhY2Nlc3NUb2tlbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYXV0aFwiLFxuICAgICAgICBhY2Nlc3NfdG9rZW46IGFjY2Vzc1Rva2VuLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc3RhdGVzKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZ2V0X3N0YXRlc1wiLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY29uZmlnKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZ2V0X2NvbmZpZ1wiLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2VydmljZXMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJnZXRfc2VydmljZXNcIixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVzZXIoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJhdXRoL2N1cnJlbnRfdXNlclwiLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsbFNlcnZpY2UoZG9tYWluLCBzZXJ2aWNlLCBzZXJ2aWNlRGF0YSwgdGFyZ2V0KSB7XG4gICAgY29uc3QgbWVzc2FnZSA9IHtcbiAgICAgICAgdHlwZTogXCJjYWxsX3NlcnZpY2VcIixcbiAgICAgICAgZG9tYWluLFxuICAgICAgICBzZXJ2aWNlLFxuICAgICAgICB0YXJnZXQsXG4gICAgfTtcbiAgICBpZiAoc2VydmljZURhdGEpIHtcbiAgICAgICAgbWVzc2FnZS5zZXJ2aWNlX2RhdGEgPSBzZXJ2aWNlRGF0YTtcbiAgICB9XG4gICAgcmV0dXJuIG1lc3NhZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlRXZlbnRzKGV2ZW50VHlwZSkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSB7XG4gICAgICAgIHR5cGU6IFwic3Vic2NyaWJlX2V2ZW50c1wiLFxuICAgIH07XG4gICAgaWYgKGV2ZW50VHlwZSkge1xuICAgICAgICBtZXNzYWdlLmV2ZW50X3R5cGUgPSBldmVudFR5cGU7XG4gICAgfVxuICAgIHJldHVybiBtZXNzYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVuc3Vic2NyaWJlRXZlbnRzKHN1YnNjcmlwdGlvbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwidW5zdWJzY3JpYmVfZXZlbnRzXCIsXG4gICAgICAgIHN1YnNjcmlwdGlvbixcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJwaW5nXCIsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBlcnJvcihjb2RlLCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJyZXN1bHRcIixcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICBjb2RlLFxuICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgfSxcbiAgICB9O1xufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/messages.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/services.js":
/*!*******************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/services.js ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"servicesColl\": () => (/* binding */ servicesColl),\n/* harmony export */   \"subscribeServices\": () => (/* binding */ subscribeServices)\n/* harmony export */ });\n/* harmony import */ var _collection_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./collection.js */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _commands_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./commands.js */ \"./node_modules/home-assistant-js-websocket/dist/commands.js\");\n/* harmony import */ var _util_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./util.js */ \"./node_modules/home-assistant-js-websocket/dist/util.js\");\n\n\n\n\nfunction processServiceRegistered(conn, store, event) {\n  var _a;\n\n  const state = store.state;\n  if (state === undefined) return;\n  const {\n    domain,\n    service\n  } = event.data;\n\n  if (!((_a = state.domain) === null || _a === void 0 ? void 0 : _a.service)) {\n    const domainInfo = Object.assign(Object.assign({}, state[domain]), {\n      [service]: {\n        description: \"\",\n        fields: {}\n      }\n    });\n    store.setState({\n      [domain]: domainInfo\n    });\n  }\n\n  debouncedFetchServices(conn, store);\n}\n\nfunction processServiceRemoved(state, event) {\n  if (state === undefined) return null;\n  const {\n    domain,\n    service\n  } = event.data;\n  const curDomainInfo = state[domain];\n  if (!curDomainInfo || !(service in curDomainInfo)) return null;\n  const domainInfo = {};\n  Object.keys(curDomainInfo).forEach(sKey => {\n    if (sKey !== service) domainInfo[sKey] = curDomainInfo[sKey];\n  });\n  return {\n    [domain]: domainInfo\n  };\n}\n\nconst debouncedFetchServices = (0,_util_js__WEBPACK_IMPORTED_MODULE_0__.debounce)((conn, store) => fetchServices(conn).then(services => store.setState(services, true)), 5000);\n\nconst fetchServices = conn => (0,_commands_js__WEBPACK_IMPORTED_MODULE_1__.getServices)(conn);\n\nconst subscribeUpdates = (conn, store) => Promise.all([conn.subscribeEvents(ev => processServiceRegistered(conn, store, ev), \"service_registered\"), conn.subscribeEvents(store.action(processServiceRemoved), \"service_removed\")]).then(unsubs => () => unsubs.forEach(fn => fn()));\n\nconst servicesColl = conn => (0,_collection_js__WEBPACK_IMPORTED_MODULE_2__.getCollection)(conn, \"_srv\", fetchServices, subscribeUpdates);\nconst subscribeServices = (conn, onChange) => servicesColl(conn).subscribe(onChange);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc2VydmljZXMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQUE7O0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUNBOztBQUNBOztBQUNBOztBQUlBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zZXJ2aWNlcy5qcz84YTNiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldENvbGxlY3Rpb24gfSBmcm9tIFwiLi9jb2xsZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBnZXRTZXJ2aWNlcyB9IGZyb20gXCIuL2NvbW1hbmRzLmpzXCI7XG5pbXBvcnQgeyBkZWJvdW5jZSB9IGZyb20gXCIuL3V0aWwuanNcIjtcbmZ1bmN0aW9uIHByb2Nlc3NTZXJ2aWNlUmVnaXN0ZXJlZChjb25uLCBzdG9yZSwgZXZlbnQpIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3Qgc3RhdGUgPSBzdG9yZS5zdGF0ZTtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHsgZG9tYWluLCBzZXJ2aWNlIH0gPSBldmVudC5kYXRhO1xuICAgIGlmICghKChfYSA9IHN0YXRlLmRvbWFpbikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnNlcnZpY2UpKSB7XG4gICAgICAgIGNvbnN0IGRvbWFpbkluZm8gPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlW2RvbWFpbl0pLCB7IFtzZXJ2aWNlXTogeyBkZXNjcmlwdGlvbjogXCJcIiwgZmllbGRzOiB7fSB9IH0pO1xuICAgICAgICBzdG9yZS5zZXRTdGF0ZSh7IFtkb21haW5dOiBkb21haW5JbmZvIH0pO1xuICAgIH1cbiAgICBkZWJvdW5jZWRGZXRjaFNlcnZpY2VzKGNvbm4sIHN0b3JlKTtcbn1cbmZ1bmN0aW9uIHByb2Nlc3NTZXJ2aWNlUmVtb3ZlZChzdGF0ZSwgZXZlbnQpIHtcbiAgICBpZiAoc3RhdGUgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgeyBkb21haW4sIHNlcnZpY2UgfSA9IGV2ZW50LmRhdGE7XG4gICAgY29uc3QgY3VyRG9tYWluSW5mbyA9IHN0YXRlW2RvbWFpbl07XG4gICAgaWYgKCFjdXJEb21haW5JbmZvIHx8ICEoc2VydmljZSBpbiBjdXJEb21haW5JbmZvKSlcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3QgZG9tYWluSW5mbyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGN1ckRvbWFpbkluZm8pLmZvckVhY2goKHNLZXkpID0+IHtcbiAgICAgICAgaWYgKHNLZXkgIT09IHNlcnZpY2UpXG4gICAgICAgICAgICBkb21haW5JbmZvW3NLZXldID0gY3VyRG9tYWluSW5mb1tzS2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4geyBbZG9tYWluXTogZG9tYWluSW5mbyB9O1xufVxuY29uc3QgZGVib3VuY2VkRmV0Y2hTZXJ2aWNlcyA9IGRlYm91bmNlKChjb25uLCBzdG9yZSkgPT4gZmV0Y2hTZXJ2aWNlcyhjb25uKS50aGVuKChzZXJ2aWNlcykgPT4gc3RvcmUuc2V0U3RhdGUoc2VydmljZXMsIHRydWUpKSwgNTAwMCk7XG5jb25zdCBmZXRjaFNlcnZpY2VzID0gKGNvbm4pID0+IGdldFNlcnZpY2VzKGNvbm4pO1xuY29uc3Qgc3Vic2NyaWJlVXBkYXRlcyA9IChjb25uLCBzdG9yZSkgPT4gUHJvbWlzZS5hbGwoW1xuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKChldikgPT4gcHJvY2Vzc1NlcnZpY2VSZWdpc3RlcmVkKGNvbm4sIHN0b3JlLCBldiksIFwic2VydmljZV9yZWdpc3RlcmVkXCIpLFxuICAgIGNvbm4uc3Vic2NyaWJlRXZlbnRzKHN0b3JlLmFjdGlvbihwcm9jZXNzU2VydmljZVJlbW92ZWQpLCBcInNlcnZpY2VfcmVtb3ZlZFwiKSxcbl0pLnRoZW4oKHVuc3VicykgPT4gKCkgPT4gdW5zdWJzLmZvckVhY2goKGZuKSA9PiBmbigpKSk7XG5leHBvcnQgY29uc3Qgc2VydmljZXNDb2xsID0gKGNvbm4pID0+IGdldENvbGxlY3Rpb24oY29ubiwgXCJfc3J2XCIsIGZldGNoU2VydmljZXMsIHN1YnNjcmliZVVwZGF0ZXMpO1xuZXhwb3J0IGNvbnN0IHN1YnNjcmliZVNlcnZpY2VzID0gKGNvbm4sIG9uQ2hhbmdlKSA9PiBzZXJ2aWNlc0NvbGwoY29ubikuc3Vic2NyaWJlKG9uQ2hhbmdlKTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/services.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/socket.js":
/*!*****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/socket.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MSG_TYPE_AUTH_REQUIRED\": () => (/* binding */ MSG_TYPE_AUTH_REQUIRED),\n/* harmony export */   \"MSG_TYPE_AUTH_INVALID\": () => (/* binding */ MSG_TYPE_AUTH_INVALID),\n/* harmony export */   \"MSG_TYPE_AUTH_OK\": () => (/* binding */ MSG_TYPE_AUTH_OK),\n/* harmony export */   \"createSocket\": () => (/* binding */ createSocket)\n/* harmony export */ });\n/* harmony import */ var _errors_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./errors.js */ \"./node_modules/home-assistant-js-websocket/dist/errors.js\");\n/* harmony import */ var _messages_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./messages.js */ \"./node_modules/home-assistant-js-websocket/dist/messages.js\");\n/**\n * Create a web socket connection with a Home Assistant instance.\n */\n\n\nconst DEBUG = false;\nconst MSG_TYPE_AUTH_REQUIRED = \"auth_required\";\nconst MSG_TYPE_AUTH_INVALID = \"auth_invalid\";\nconst MSG_TYPE_AUTH_OK = \"auth_ok\";\nfunction createSocket(options) {\n  if (!options.auth) {\n    throw _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_HASS_HOST_REQUIRED;\n  }\n\n  const auth = options.auth; // Start refreshing expired tokens even before the WS connection is open.\n  // We know that we will need auth anyway.\n\n  let authRefreshTask = auth.expired ? auth.refreshAccessToken().then(() => {\n    authRefreshTask = undefined;\n  }, () => {\n    authRefreshTask = undefined;\n  }) : undefined; // Convert from http:// -> ws://, https:// -> wss://\n\n  const url = auth.wsUrl;\n\n  if (DEBUG) {\n    console.log(\"[Auth phase] Initializing\", url);\n  }\n\n  function connect(triesLeft, promResolve, promReject) {\n    if (DEBUG) {\n      console.log(\"[Auth Phase] New connection\", url);\n    }\n\n    const socket = new WebSocket(url); // If invalid auth, we will not try to reconnect.\n\n    let invalidAuth = false;\n\n    const closeMessage = () => {\n      // If we are in error handler make sure close handler doesn't also fire.\n      socket.removeEventListener(\"close\", closeMessage);\n\n      if (invalidAuth) {\n        promReject(_errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH);\n        return;\n      } // Reject if we no longer have to retry\n\n\n      if (triesLeft === 0) {\n        // We never were connected and will not retry\n        promReject(_errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_CANNOT_CONNECT);\n        return;\n      }\n\n      const newTries = triesLeft === -1 ? -1 : triesLeft - 1; // Try again in a second\n\n      setTimeout(() => connect(newTries, promResolve, promReject), 1000);\n    }; // Auth is mandatory, so we can send the auth message right away.\n\n\n    const handleOpen = async event => {\n      try {\n        if (auth.expired) {\n          await (authRefreshTask ? authRefreshTask : auth.refreshAccessToken());\n        }\n\n        socket.send(JSON.stringify(_messages_js__WEBPACK_IMPORTED_MODULE_1__.auth(auth.accessToken)));\n      } catch (err) {\n        // Refresh token failed\n        invalidAuth = err === _errors_js__WEBPACK_IMPORTED_MODULE_0__.ERR_INVALID_AUTH;\n        socket.close();\n      }\n    };\n\n    const handleMessage = async event => {\n      const message = JSON.parse(event.data);\n\n      if (DEBUG) {\n        console.log(\"[Auth phase] Received\", message);\n      }\n\n      switch (message.type) {\n        case MSG_TYPE_AUTH_INVALID:\n          invalidAuth = true;\n          socket.close();\n          break;\n\n        case MSG_TYPE_AUTH_OK:\n          socket.removeEventListener(\"open\", handleOpen);\n          socket.removeEventListener(\"message\", handleMessage);\n          socket.removeEventListener(\"close\", closeMessage);\n          socket.removeEventListener(\"error\", closeMessage);\n          socket.haVersion = message.ha_version;\n          promResolve(socket);\n          break;\n\n        default:\n          if (DEBUG) {\n            // We already send response to this message when socket opens\n            if (message.type !== MSG_TYPE_AUTH_REQUIRED) {\n              console.warn(\"[Auth phase] Unhandled message\", message);\n            }\n          }\n\n      }\n    };\n\n    socket.addEventListener(\"open\", handleOpen);\n    socket.addEventListener(\"message\", handleMessage);\n    socket.addEventListener(\"close\", closeMessage);\n    socket.addEventListener(\"error\", closeMessage);\n  }\n\n  return new Promise((resolve, reject) => connect(options.setupRetry, resolve, reject));\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc29ja2V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBRUE7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBOztBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQW5CQTtBQXFCQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL25vZGVfbW9kdWxlcy9ob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXQvZGlzdC9zb2NrZXQuanM/MGE0ZCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENyZWF0ZSBhIHdlYiBzb2NrZXQgY29ubmVjdGlvbiB3aXRoIGEgSG9tZSBBc3Npc3RhbnQgaW5zdGFuY2UuXG4gKi9cbmltcG9ydCB7IEVSUl9JTlZBTElEX0FVVEgsIEVSUl9DQU5OT1RfQ09OTkVDVCwgRVJSX0hBU1NfSE9TVF9SRVFVSVJFRCwgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmltcG9ydCAqIGFzIG1lc3NhZ2VzIGZyb20gXCIuL21lc3NhZ2VzLmpzXCI7XG5jb25zdCBERUJVRyA9IGZhbHNlO1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFX0FVVEhfUkVRVUlSRUQgPSBcImF1dGhfcmVxdWlyZWRcIjtcbmV4cG9ydCBjb25zdCBNU0dfVFlQRV9BVVRIX0lOVkFMSUQgPSBcImF1dGhfaW52YWxpZFwiO1xuZXhwb3J0IGNvbnN0IE1TR19UWVBFX0FVVEhfT0sgPSBcImF1dGhfb2tcIjtcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTb2NrZXQob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5hdXRoKSB7XG4gICAgICAgIHRocm93IEVSUl9IQVNTX0hPU1RfUkVRVUlSRUQ7XG4gICAgfVxuICAgIGNvbnN0IGF1dGggPSBvcHRpb25zLmF1dGg7XG4gICAgLy8gU3RhcnQgcmVmcmVzaGluZyBleHBpcmVkIHRva2VucyBldmVuIGJlZm9yZSB0aGUgV1MgY29ubmVjdGlvbiBpcyBvcGVuLlxuICAgIC8vIFdlIGtub3cgdGhhdCB3ZSB3aWxsIG5lZWQgYXV0aCBhbnl3YXkuXG4gICAgbGV0IGF1dGhSZWZyZXNoVGFzayA9IGF1dGguZXhwaXJlZFxuICAgICAgICA/IGF1dGgucmVmcmVzaEFjY2Vzc1Rva2VuKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBhdXRoUmVmcmVzaFRhc2sgPSB1bmRlZmluZWQ7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIGF1dGhSZWZyZXNoVGFzayA9IHVuZGVmaW5lZDtcbiAgICAgICAgfSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgLy8gQ29udmVydCBmcm9tIGh0dHA6Ly8gLT4gd3M6Ly8sIGh0dHBzOi8vIC0+IHdzczovL1xuICAgIGNvbnN0IHVybCA9IGF1dGgud3NVcmw7XG4gICAgaWYgKERFQlVHKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW0F1dGggcGhhc2VdIEluaXRpYWxpemluZ1wiLCB1cmwpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjb25uZWN0KHRyaWVzTGVmdCwgcHJvbVJlc29sdmUsIHByb21SZWplY3QpIHtcbiAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltBdXRoIFBoYXNlXSBOZXcgY29ubmVjdGlvblwiLCB1cmwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNvY2tldCA9IG5ldyBXZWJTb2NrZXQodXJsKTtcbiAgICAgICAgLy8gSWYgaW52YWxpZCBhdXRoLCB3ZSB3aWxsIG5vdCB0cnkgdG8gcmVjb25uZWN0LlxuICAgICAgICBsZXQgaW52YWxpZEF1dGggPSBmYWxzZTtcbiAgICAgICAgY29uc3QgY2xvc2VNZXNzYWdlID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGluIGVycm9yIGhhbmRsZXIgbWFrZSBzdXJlIGNsb3NlIGhhbmRsZXIgZG9lc24ndCBhbHNvIGZpcmUuXG4gICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGNsb3NlTWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoaW52YWxpZEF1dGgpIHtcbiAgICAgICAgICAgICAgICBwcm9tUmVqZWN0KEVSUl9JTlZBTElEX0FVVEgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJlamVjdCBpZiB3ZSBubyBsb25nZXIgaGF2ZSB0byByZXRyeVxuICAgICAgICAgICAgaWYgKHRyaWVzTGVmdCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIC8vIFdlIG5ldmVyIHdlcmUgY29ubmVjdGVkIGFuZCB3aWxsIG5vdCByZXRyeVxuICAgICAgICAgICAgICAgIHByb21SZWplY3QoRVJSX0NBTk5PVF9DT05ORUNUKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBuZXdUcmllcyA9IHRyaWVzTGVmdCA9PT0gLTEgPyAtMSA6IHRyaWVzTGVmdCAtIDE7XG4gICAgICAgICAgICAvLyBUcnkgYWdhaW4gaW4gYSBzZWNvbmRcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gY29ubmVjdChuZXdUcmllcywgcHJvbVJlc29sdmUsIHByb21SZWplY3QpLCAxMDAwKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXV0aCBpcyBtYW5kYXRvcnksIHNvIHdlIGNhbiBzZW5kIHRoZSBhdXRoIG1lc3NhZ2UgcmlnaHQgYXdheS5cbiAgICAgICAgY29uc3QgaGFuZGxlT3BlbiA9IGFzeW5jIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoYXV0aC5leHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IChhdXRoUmVmcmVzaFRhc2sgPyBhdXRoUmVmcmVzaFRhc2sgOiBhdXRoLnJlZnJlc2hBY2Nlc3NUb2tlbigpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkobWVzc2FnZXMuYXV0aChhdXRoLmFjY2Vzc1Rva2VuKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggdG9rZW4gZmFpbGVkXG4gICAgICAgICAgICAgICAgaW52YWxpZEF1dGggPSBlcnIgPT09IEVSUl9JTlZBTElEX0FVVEg7XG4gICAgICAgICAgICAgICAgc29ja2V0LmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZU1lc3NhZ2UgPSBhc3luYyAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJbQXV0aCBwaGFzZV0gUmVjZWl2ZWRcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgTVNHX1RZUEVfQVVUSF9JTlZBTElEOlxuICAgICAgICAgICAgICAgICAgICBpbnZhbGlkQXV0aCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIE1TR19UWVBFX0FVVEhfT0s6XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwib3BlblwiLCBoYW5kbGVPcGVuKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICBzb2NrZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGNsb3NlTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIHNvY2tldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgY2xvc2VNZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgc29ja2V0LmhhVmVyc2lvbiA9IG1lc3NhZ2UuaGFfdmVyc2lvbjtcbiAgICAgICAgICAgICAgICAgICAgcHJvbVJlc29sdmUoc29ja2V0KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWYgKERFQlVHKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHJlYWR5IHNlbmQgcmVzcG9uc2UgdG8gdGhpcyBtZXNzYWdlIHdoZW4gc29ja2V0IG9wZW5zXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlICE9PSBNU0dfVFlQRV9BVVRIX1JFUVVJUkVEKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW0F1dGggcGhhc2VdIFVuaGFuZGxlZCBtZXNzYWdlXCIsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwib3BlblwiLCBoYW5kbGVPcGVuKTtcbiAgICAgICAgc29ja2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZU1lc3NhZ2UpO1xuICAgICAgICBzb2NrZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGNsb3NlTWVzc2FnZSk7XG4gICAgICAgIHNvY2tldC5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgY2xvc2VNZXNzYWdlKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IGNvbm5lY3Qob3B0aW9ucy5zZXR1cFJldHJ5LCByZXNvbHZlLCByZWplY3QpKTtcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/socket.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/store.js":
/*!****************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/store.js ***!
  \****************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createStore\": () => (/* binding */ createStore)\n/* harmony export */ });\nconst createStore = state => {\n  let listeners = [];\n\n  function unsubscribe(listener) {\n    let out = [];\n\n    for (let i = 0; i < listeners.length; i++) {\n      if (listeners[i] === listener) {\n        listener = null;\n      } else {\n        out.push(listeners[i]);\n      }\n    }\n\n    listeners = out;\n  }\n\n  function setState(update, overwrite) {\n    state = overwrite ? update : Object.assign(Object.assign({}, state), update);\n    let currentListeners = listeners;\n\n    for (let i = 0; i < currentListeners.length; i++) {\n      currentListeners[i](state);\n    }\n  }\n  /**\n   * An observable state container, returned from {@link createStore}\n   * @name store\n   */\n\n\n  return {\n    get state() {\n      return state;\n    },\n\n    /**\n     * Create a bound copy of the given action function.\n     * The bound returned function invokes action() and persists the result back to the store.\n     * If the return value of `action` is a Promise, the resolved value will be used as state.\n     * @param {Function} action\tAn action of the form `action(state, ...args) -> stateUpdate`\n     * @returns {Function} boundAction()\n     */\n    action(action) {\n      function apply(result) {\n        setState(result, false);\n      } // Note: perf tests verifying this implementation: https://esbench.com/bench/5a295e6299634800a0349500\n\n\n      return function () {\n        let args = [state];\n\n        for (let i = 0; i < arguments.length; i++) args.push(arguments[i]); // @ts-ignore\n\n\n        let ret = action.apply(this, args);\n\n        if (ret != null) {\n          return ret instanceof Promise ? ret.then(apply) : apply(ret);\n        }\n      };\n    },\n\n    /**\n     * Apply a partial state object to the current state, invoking registered listeners.\n     * @param {Object} update\t\t\t\tAn object with properties to be merged into state\n     * @param {Boolean} [overwrite=false]\tIf `true`, update will replace state instead of being merged into it\n     */\n    setState,\n\n    /**\n     * Register a listener function to be called whenever state is changed. Returns an `unsubscribe()` function.\n     * @param {Function} listener\tA function to call when state changes. Gets passed the new state.\n     * @returns {Function} unsubscribe()\n     */\n    subscribe(listener) {\n      listeners.push(listener);\n      return () => {\n        unsubscribe(listener);\n      };\n    } // /**\n    //  * Remove a previously-registered listener function.\n    //  * @param {Function} listener\tThe callback previously passed to `subscribe()` that should be removed.\n    //  * @function\n    //  */\n    // unsubscribe,\n\n\n  };\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBOzs7QUFHQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBakRBO0FBbURBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3Qvc3RvcmUuanM/YTY3YyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY3JlYXRlU3RvcmUgPSAoc3RhdGUpID0+IHtcbiAgICBsZXQgbGlzdGVuZXJzID0gW107XG4gICAgZnVuY3Rpb24gdW5zdWJzY3JpYmUobGlzdGVuZXIpIHtcbiAgICAgICAgbGV0IG91dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXSA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgICAgICBsaXN0ZW5lciA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBvdXQucHVzaChsaXN0ZW5lcnNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxpc3RlbmVycyA9IG91dDtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2V0U3RhdGUodXBkYXRlLCBvdmVyd3JpdGUpIHtcbiAgICAgICAgc3RhdGUgPSBvdmVyd3JpdGUgPyB1cGRhdGUgOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgdXBkYXRlKTtcbiAgICAgICAgbGV0IGN1cnJlbnRMaXN0ZW5lcnMgPSBsaXN0ZW5lcnM7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY3VycmVudExpc3RlbmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY3VycmVudExpc3RlbmVyc1tpXShzdGF0ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQW4gb2JzZXJ2YWJsZSBzdGF0ZSBjb250YWluZXIsIHJldHVybmVkIGZyb20ge0BsaW5rIGNyZWF0ZVN0b3JlfVxuICAgICAqIEBuYW1lIHN0b3JlXG4gICAgICovXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2V0IHN0YXRlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9LFxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgYm91bmQgY29weSBvZiB0aGUgZ2l2ZW4gYWN0aW9uIGZ1bmN0aW9uLlxuICAgICAgICAgKiBUaGUgYm91bmQgcmV0dXJuZWQgZnVuY3Rpb24gaW52b2tlcyBhY3Rpb24oKSBhbmQgcGVyc2lzdHMgdGhlIHJlc3VsdCBiYWNrIHRvIHRoZSBzdG9yZS5cbiAgICAgICAgICogSWYgdGhlIHJldHVybiB2YWx1ZSBvZiBgYWN0aW9uYCBpcyBhIFByb21pc2UsIHRoZSByZXNvbHZlZCB2YWx1ZSB3aWxsIGJlIHVzZWQgYXMgc3RhdGUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFjdGlvblx0QW4gYWN0aW9uIG9mIHRoZSBmb3JtIGBhY3Rpb24oc3RhdGUsIC4uLmFyZ3MpIC0+IHN0YXRlVXBkYXRlYFxuICAgICAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IGJvdW5kQWN0aW9uKClcbiAgICAgICAgICovXG4gICAgICAgIGFjdGlvbihhY3Rpb24pIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGFwcGx5KHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldFN0YXRlKHJlc3VsdCwgZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm90ZTogcGVyZiB0ZXN0cyB2ZXJpZnlpbmcgdGhpcyBpbXBsZW1lbnRhdGlvbjogaHR0cHM6Ly9lc2JlbmNoLmNvbS9iZW5jaC81YTI5NWU2Mjk5NjM0ODAwYTAzNDk1MDBcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGFyZ3MgPSBbc3RhdGVdO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAgICAgbGV0IHJldCA9IGFjdGlvbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgICBpZiAocmV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJldCBpbnN0YW5jZW9mIFByb21pc2UgPyByZXQudGhlbihhcHBseSkgOiBhcHBseShyZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBcHBseSBhIHBhcnRpYWwgc3RhdGUgb2JqZWN0IHRvIHRoZSBjdXJyZW50IHN0YXRlLCBpbnZva2luZyByZWdpc3RlcmVkIGxpc3RlbmVycy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHVwZGF0ZVx0XHRcdFx0QW4gb2JqZWN0IHdpdGggcHJvcGVydGllcyB0byBiZSBtZXJnZWQgaW50byBzdGF0ZVxuICAgICAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtvdmVyd3JpdGU9ZmFsc2VdXHRJZiBgdHJ1ZWAsIHVwZGF0ZSB3aWxsIHJlcGxhY2Ugc3RhdGUgaW5zdGVhZCBvZiBiZWluZyBtZXJnZWQgaW50byBpdFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U3RhdGUsXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuZXZlciBzdGF0ZSBpcyBjaGFuZ2VkLiBSZXR1cm5zIGFuIGB1bnN1YnNjcmliZSgpYCBmdW5jdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gbGlzdGVuZXJcdEEgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIHN0YXRlIGNoYW5nZXMuIEdldHMgcGFzc2VkIHRoZSBuZXcgc3RhdGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gdW5zdWJzY3JpYmUoKVxuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlKGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBsaXN0ZW5lcnMucHVzaChsaXN0ZW5lcik7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHVuc3Vic2NyaWJlKGxpc3RlbmVyKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0sXG4gICAgICAgIC8vIC8qKlxuICAgICAgICAvLyAgKiBSZW1vdmUgYSBwcmV2aW91c2x5LXJlZ2lzdGVyZWQgbGlzdGVuZXIgZnVuY3Rpb24uXG4gICAgICAgIC8vICAqIEBwYXJhbSB7RnVuY3Rpb259IGxpc3RlbmVyXHRUaGUgY2FsbGJhY2sgcHJldmlvdXNseSBwYXNzZWQgdG8gYHN1YnNjcmliZSgpYCB0aGF0IHNob3VsZCBiZSByZW1vdmVkLlxuICAgICAgICAvLyAgKiBAZnVuY3Rpb25cbiAgICAgICAgLy8gICovXG4gICAgICAgIC8vIHVuc3Vic2NyaWJlLFxuICAgIH07XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/store.js\n");

/***/ }),

/***/ "./node_modules/home-assistant-js-websocket/dist/util.js":
/*!***************************************************************!*\
  !*** ./node_modules/home-assistant-js-websocket/dist/util.js ***!
  \***************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"parseQuery\": () => (/* binding */ parseQuery),\n/* harmony export */   \"debounce\": () => (/* binding */ debounce),\n/* harmony export */   \"atLeastHaVersion\": () => (/* binding */ atLeastHaVersion)\n/* harmony export */ });\nfunction parseQuery(queryString) {\n  const query = {};\n  const items = queryString.split(\"&\");\n\n  for (let i = 0; i < items.length; i++) {\n    const item = items[i].split(\"=\");\n    const key = decodeURIComponent(item[0]);\n    const value = item.length > 1 ? decodeURIComponent(item[1]) : undefined;\n    query[key] = value;\n  }\n\n  return query;\n} // From: https://davidwalsh.name/javascript-debounce-function\n// Returns a function, that, as long as it continues to be invoked, will not\n// be triggered. The function will be called after it stops being called for\n// N milliseconds. If `immediate` is passed, trigger the function on the\n// leading edge, instead of the trailing.\n// eslint-disable-next-line: ban-types\n\nconst debounce = (func, wait, immediate = false) => {\n  let timeout; // @ts-ignore\n\n  return function (...args) {\n    // @ts-ignore\n    const context = this;\n\n    const later = () => {\n      timeout = undefined;\n\n      if (!immediate) {\n        func.apply(context, args);\n      }\n    };\n\n    const callNow = immediate && !timeout;\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n};\nconst atLeastHaVersion = (version, major, minor, patch) => {\n  const [haMajor, haMinor, haPatch] = version.split(\".\", 3);\n  return Number(haMajor) > major || Number(haMajor) === major && (patch === undefined ? Number(haMinor) >= minor : Number(haMinor) > minor) || patch !== undefined && Number(haMajor) === major && Number(haMinor) === minor && Number(haPatch) >= patch;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0L2Rpc3QvdXRpbC5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFTQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vbm9kZV9tb2R1bGVzL2hvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3V0aWwuanM/NjMxZCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZnVuY3Rpb24gcGFyc2VRdWVyeShxdWVyeVN0cmluZykge1xuICAgIGNvbnN0IHF1ZXJ5ID0ge307XG4gICAgY29uc3QgaXRlbXMgPSBxdWVyeVN0cmluZy5zcGxpdChcIiZcIik7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBpdGVtID0gaXRlbXNbaV0uc3BsaXQoXCI9XCIpO1xuICAgICAgICBjb25zdCBrZXkgPSBkZWNvZGVVUklDb21wb25lbnQoaXRlbVswXSk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gaXRlbS5sZW5ndGggPiAxID8gZGVjb2RlVVJJQ29tcG9uZW50KGl0ZW1bMV0pIDogdW5kZWZpbmVkO1xuICAgICAgICBxdWVyeVtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBxdWVyeTtcbn1cbi8vIEZyb206IGh0dHBzOi8vZGF2aWR3YWxzaC5uYW1lL2phdmFzY3JpcHQtZGVib3VuY2UtZnVuY3Rpb25cbi8vIFJldHVybnMgYSBmdW5jdGlvbiwgdGhhdCwgYXMgbG9uZyBhcyBpdCBjb250aW51ZXMgdG8gYmUgaW52b2tlZCwgd2lsbCBub3Rcbi8vIGJlIHRyaWdnZXJlZC4gVGhlIGZ1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGFmdGVyIGl0IHN0b3BzIGJlaW5nIGNhbGxlZCBmb3Jcbi8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuLy8gbGVhZGluZyBlZGdlLCBpbnN0ZWFkIG9mIHRoZSB0cmFpbGluZy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZTogYmFuLXR5cGVzXG5leHBvcnQgY29uc3QgZGVib3VuY2UgPSAoZnVuYywgd2FpdCwgaW1tZWRpYXRlID0gZmFsc2UpID0+IHtcbiAgICBsZXQgdGltZW91dDtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGxhdGVyID0gKCkgPT4ge1xuICAgICAgICAgICAgdGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGlmICghaW1tZWRpYXRlKSB7XG4gICAgICAgICAgICAgICAgZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICAgIGlmIChjYWxsTm93KSB7XG4gICAgICAgICAgICBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfTtcbn07XG5leHBvcnQgY29uc3QgYXRMZWFzdEhhVmVyc2lvbiA9ICh2ZXJzaW9uLCBtYWpvciwgbWlub3IsIHBhdGNoKSA9PiB7XG4gICAgY29uc3QgW2hhTWFqb3IsIGhhTWlub3IsIGhhUGF0Y2hdID0gdmVyc2lvbi5zcGxpdChcIi5cIiwgMyk7XG4gICAgcmV0dXJuIChOdW1iZXIoaGFNYWpvcikgPiBtYWpvciB8fFxuICAgICAgICAoTnVtYmVyKGhhTWFqb3IpID09PSBtYWpvciAmJlxuICAgICAgICAgICAgKHBhdGNoID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICA/IE51bWJlcihoYU1pbm9yKSA+PSBtaW5vclxuICAgICAgICAgICAgICAgIDogTnVtYmVyKGhhTWlub3IpID4gbWlub3IpKSB8fFxuICAgICAgICAocGF0Y2ggIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgICAgTnVtYmVyKGhhTWFqb3IpID09PSBtYWpvciAmJlxuICAgICAgICAgICAgTnVtYmVyKGhhTWlub3IpID09PSBtaW5vciAmJlxuICAgICAgICAgICAgTnVtYmVyKGhhUGF0Y2gpID49IHBhdGNoKSk7XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/home-assistant-js-websocket/dist/util.js\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = __webpack_modules__;
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/ensure chunk */
/******/ 	(() => {
/******/ 		__webpack_require__.f = {};
/******/ 		// This file contains only the entry chunk.
/******/ 		// The chunk loading function for additional chunks
/******/ 		__webpack_require__.e = (chunkId) => {
/******/ 			return Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {
/******/ 				__webpack_require__.f[key](chunkId, promises);
/******/ 				return promises;
/******/ 			}, []));
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/get javascript chunk filename */
/******/ 	(() => {
/******/ 		// This function allow to reference async chunks
/******/ 		__webpack_require__.u = (chunkId) => {
/******/ 			// return url for filenames based on template
/******/ 			return "" + chunkId + ".chunk.js";
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/load script */
/******/ 	(() => {
/******/ 		var inProgress = {};
/******/ 		var dataWebpackPrefix = "home-assistant-frontend:";
/******/ 		// loadScript function to load a script via script tag
/******/ 		__webpack_require__.l = (url, done, key, chunkId) => {
/******/ 			if(inProgress[url]) { inProgress[url].push(done); return; }
/******/ 			var script, needAttach;
/******/ 			if(key !== undefined) {
/******/ 				var scripts = document.getElementsByTagName("script");
/******/ 				for(var i = 0; i < scripts.length; i++) {
/******/ 					var s = scripts[i];
/******/ 					if(s.getAttribute("src") == url || s.getAttribute("data-webpack") == dataWebpackPrefix + key) { script = s; break; }
/******/ 				}
/******/ 			}
/******/ 			if(!script) {
/******/ 				needAttach = true;
/******/ 				script = document.createElement('script');
/******/ 		
/******/ 				script.charset = 'utf-8';
/******/ 				script.timeout = 120;
/******/ 				if (__webpack_require__.nc) {
/******/ 					script.setAttribute("nonce", __webpack_require__.nc);
/******/ 				}
/******/ 				script.setAttribute("data-webpack", dataWebpackPrefix + key);
/******/ 				script.src = url;
/******/ 			}
/******/ 			inProgress[url] = [done];
/******/ 			var onScriptComplete = (prev, event) => {
/******/ 				// avoid mem leaks in IE.
/******/ 				script.onerror = script.onload = null;
/******/ 				clearTimeout(timeout);
/******/ 				var doneFns = inProgress[url];
/******/ 				delete inProgress[url];
/******/ 				script.parentNode && script.parentNode.removeChild(script);
/******/ 				doneFns && doneFns.forEach((fn) => (fn(event)));
/******/ 				if(prev) return prev(event);
/******/ 			}
/******/ 			;
/******/ 			var timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);
/******/ 			script.onerror = onScriptComplete.bind(null, script.onerror);
/******/ 			script.onload = onScriptComplete.bind(null, script.onload);
/******/ 			needAttach && document.head.appendChild(script);
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/publicPath */
/******/ 	(() => {
/******/ 		__webpack_require__.p = "/frontend_latest/";
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/jsonp chunk loading */
/******/ 	(() => {
/******/ 		// no baseURI
/******/ 		
/******/ 		// object to store loaded and loading chunks
/******/ 		// undefined = chunk not loaded, null = chunk preloaded/prefetched
/******/ 		// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded
/******/ 		var installedChunks = {
/******/ 			"core": 0
/******/ 		};
/******/ 		
/******/ 		__webpack_require__.f.j = (chunkId, promises) => {
/******/ 				// JSONP chunk loading for javascript
/******/ 				var installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;
/******/ 				if(installedChunkData !== 0) { // 0 means "already installed".
/******/ 		
/******/ 					// a Promise means "currently loading".
/******/ 					if(installedChunkData) {
/******/ 						promises.push(installedChunkData[2]);
/******/ 					} else {
/******/ 						if(true) { // all chunks have JS
/******/ 							// setup Promise in chunk cache
/******/ 							var promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));
/******/ 							promises.push(installedChunkData[2] = promise);
/******/ 		
/******/ 							// start chunk loading
/******/ 							var url = __webpack_require__.p + __webpack_require__.u(chunkId);
/******/ 							// create error before stack unwound to get useful stacktrace later
/******/ 							var error = new Error();
/******/ 							var loadingEnded = (event) => {
/******/ 								if(__webpack_require__.o(installedChunks, chunkId)) {
/******/ 									installedChunkData = installedChunks[chunkId];
/******/ 									if(installedChunkData !== 0) installedChunks[chunkId] = undefined;
/******/ 									if(installedChunkData) {
/******/ 										var errorType = event && (event.type === 'load' ? 'missing' : event.type);
/******/ 										var realSrc = event && event.target && event.target.src;
/******/ 										error.message = 'Loading chunk ' + chunkId + ' failed.\n(' + errorType + ': ' + realSrc + ')';
/******/ 										error.name = 'ChunkLoadError';
/******/ 										error.type = errorType;
/******/ 										error.request = realSrc;
/******/ 										installedChunkData[1](error);
/******/ 									}
/******/ 								}
/******/ 							};
/******/ 							__webpack_require__.l(url, loadingEnded, "chunk-" + chunkId, chunkId);
/******/ 						} else installedChunks[chunkId] = 0;
/******/ 					}
/******/ 				}
/******/ 		};
/******/ 		
/******/ 		// no prefetching
/******/ 		
/******/ 		// no preloaded
/******/ 		
/******/ 		// no HMR
/******/ 		
/******/ 		// no HMR manifest
/******/ 		
/******/ 		// no on chunks loaded
/******/ 		
/******/ 		// install a JSONP callback for chunk loading
/******/ 		var webpackJsonpCallback = (parentChunkLoadingFunction, data) => {
/******/ 			var [chunkIds, moreModules, runtime] = data;
/******/ 			// add "moreModules" to the modules object,
/******/ 			// then flag all "chunkIds" as loaded and fire callback
/******/ 			var moduleId, chunkId, i = 0;
/******/ 			if(chunkIds.some((id) => (installedChunks[id] !== 0))) {
/******/ 				for(moduleId in moreModules) {
/******/ 					if(__webpack_require__.o(moreModules, moduleId)) {
/******/ 						__webpack_require__.m[moduleId] = moreModules[moduleId];
/******/ 					}
/******/ 				}
/******/ 				if(runtime) var result = runtime(__webpack_require__);
/******/ 			}
/******/ 			if(parentChunkLoadingFunction) parentChunkLoadingFunction(data);
/******/ 			for(;i < chunkIds.length; i++) {
/******/ 				chunkId = chunkIds[i];
/******/ 				if(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {
/******/ 					installedChunks[chunkId][0]();
/******/ 				}
/******/ 				installedChunks[chunkIds[i]] = 0;
/******/ 			}
/******/ 		
/******/ 		}
/******/ 		
/******/ 		var chunkLoadingGlobal = self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || [];
/******/ 		chunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));
/******/ 		chunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/entrypoints/core.ts");
/******/ 	
/******/ })()
;