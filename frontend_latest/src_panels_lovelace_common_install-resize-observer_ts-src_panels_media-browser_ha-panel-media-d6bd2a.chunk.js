"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_common_install-resize-observer_ts-src_panels_media-browser_ha-panel-media-d6bd2a"],{

/***/ "./src/common/string/compare.ts":
/*!**************************************!*\
  !*** ./src/common/string/compare.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"stringCompare\": () => (/* binding */ stringCompare),\n/* harmony export */   \"caseInsensitiveStringCompare\": () => (/* binding */ caseInsensitiveStringCompare)\n/* harmony export */ });\nconst stringCompare = (a, b) => {\n  if (a < b) {\n    return -1;\n  }\n\n  if (a > b) {\n    return 1;\n  }\n\n  return 0;\n};\nconst caseInsensitiveStringCompare = (a, b) => stringCompare(a.toLowerCase(), b.toLowerCase());//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tbW9uL3N0cmluZy9jb21wYXJlLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2NvbW1vbi9zdHJpbmcvY29tcGFyZS50cz83MGU1Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBzdHJpbmdDb21wYXJlID0gKGE6IHN0cmluZywgYjogc3RyaW5nKSA9PiB7XG4gIGlmIChhIDwgYikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoYSA+IGIpIHtcbiAgICByZXR1cm4gMTtcbiAgfVxuXG4gIHJldHVybiAwO1xufTtcblxuZXhwb3J0IGNvbnN0IGNhc2VJbnNlbnNpdGl2ZVN0cmluZ0NvbXBhcmUgPSAoYTogc3RyaW5nLCBiOiBzdHJpbmcpID0+XG4gIHN0cmluZ0NvbXBhcmUoYS50b0xvd2VyQ2FzZSgpLCBiLnRvTG93ZXJDYXNlKCkpO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/common/string/compare.ts\n");

/***/ }),

/***/ "./src/data/entity_registry.ts":
/*!*************************************!*\
  !*** ./src/data/entity_registry.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"findBatteryEntity\": () => (/* binding */ findBatteryEntity),\n/* harmony export */   \"findBatteryChargingEntity\": () => (/* binding */ findBatteryChargingEntity),\n/* harmony export */   \"computeEntityRegistryName\": () => (/* binding */ computeEntityRegistryName),\n/* harmony export */   \"getExtendedEntityRegistryEntry\": () => (/* binding */ getExtendedEntityRegistryEntry),\n/* harmony export */   \"updateEntityRegistryEntry\": () => (/* binding */ updateEntityRegistryEntry),\n/* harmony export */   \"removeEntityRegistryEntry\": () => (/* binding */ removeEntityRegistryEntry),\n/* harmony export */   \"fetchEntityRegistry\": () => (/* binding */ fetchEntityRegistry),\n/* harmony export */   \"subscribeEntityRegistry\": () => (/* binding */ subscribeEntityRegistry),\n/* harmony export */   \"sortEntityRegistryByName\": () => (/* binding */ sortEntityRegistryByName)\n/* harmony export */ });\n/* harmony import */ var home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! home-assistant-js-websocket */ \"./node_modules/home-assistant-js-websocket/dist/collection.js\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_string_compare__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/string/compare */ \"./src/common/string/compare.ts\");\n/* harmony import */ var _common_util_debounce__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../common/util/debounce */ \"./src/common/util/debounce.ts\");\n\n\n\n\nconst findBatteryEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery\");\nconst findBatteryChargingEntity = (hass, entities) => entities.find(entity => hass.states[entity.entity_id] && hass.states[entity.entity_id].attributes.device_class === \"battery_charging\");\nconst computeEntityRegistryName = (hass, entry) => {\n  if (entry.name) {\n    return entry.name;\n  }\n\n  const state = hass.states[entry.entity_id];\n  return state ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_0__.computeStateName)(state) : entry.entity_id;\n};\nconst getExtendedEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/get\",\n  entity_id: entityId\n});\nconst updateEntityRegistryEntry = (hass, entityId, updates) => hass.callWS({\n  type: \"config/entity_registry/update\",\n  entity_id: entityId,\n  ...updates\n});\nconst removeEntityRegistryEntry = (hass, entityId) => hass.callWS({\n  type: \"config/entity_registry/remove\",\n  entity_id: entityId\n});\nconst fetchEntityRegistry = conn => conn.sendMessagePromise({\n  type: \"config/entity_registry/list\"\n});\n\nconst subscribeEntityRegistryUpdates = (conn, store) => conn.subscribeEvents((0,_common_util_debounce__WEBPACK_IMPORTED_MODULE_2__.debounce)(() => fetchEntityRegistry(conn).then(entities => store.setState(entities, true)), 500, true), \"entity_registry_updated\");\n\nconst subscribeEntityRegistry = (conn, onChange) => (0,home_assistant_js_websocket__WEBPACK_IMPORTED_MODULE_3__.createCollection)(\"_entityRegistry\", fetchEntityRegistry, subscribeEntityRegistryUpdates, conn, onChange);\nconst sortEntityRegistryByName = entries => entries.sort((entry1, entry2) => (0,_common_string_compare__WEBPACK_IMPORTED_MODULE_1__.caseInsensitiveStringCompare)(entry1.name || \"\", entry2.name || \"\"));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGF0YS9lbnRpdHlfcmVnaXN0cnkudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBRUE7QUFDQTtBQUNBO0FBdURBO0FBVUE7QUFXQTtBQUlBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBTUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUtBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFEQTs7QUFJQTs7QUFnQkE7QUFZQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL2RhdGEvZW50aXR5X3JlZ2lzdHJ5LnRzPzNhNzkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29ubmVjdGlvbiwgY3JlYXRlQ29sbGVjdGlvbiB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7IFN0b3JlIH0gZnJvbSBcImhvbWUtYXNzaXN0YW50LWpzLXdlYnNvY2tldC9kaXN0L3N0b3JlXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVOYW1lIH0gZnJvbSBcIi4uL2NvbW1vbi9lbnRpdHkvY29tcHV0ZV9zdGF0ZV9uYW1lXCI7XG5pbXBvcnQgeyBjYXNlSW5zZW5zaXRpdmVTdHJpbmdDb21wYXJlIH0gZnJvbSBcIi4uL2NvbW1vbi9zdHJpbmcvY29tcGFyZVwiO1xuaW1wb3J0IHsgZGVib3VuY2UgfSBmcm9tIFwiLi4vY29tbW9uL3V0aWwvZGVib3VuY2VcIjtcbmltcG9ydCB7IEhvbWVBc3Npc3RhbnQgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeUVudHJ5IHtcbiAgZW50aXR5X2lkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZyB8IG51bGw7XG4gIGljb246IHN0cmluZyB8IG51bGw7XG4gIHBsYXRmb3JtOiBzdHJpbmc7XG4gIGNvbmZpZ19lbnRyeV9pZDogc3RyaW5nIHwgbnVsbDtcbiAgZGV2aWNlX2lkOiBzdHJpbmcgfCBudWxsO1xuICBhcmVhX2lkOiBzdHJpbmcgfCBudWxsO1xuICBkaXNhYmxlZF9ieTogc3RyaW5nIHwgbnVsbDtcbiAgaGlkZGVuX2J5OiBzdHJpbmcgfCBudWxsO1xuICBlbnRpdHlfY2F0ZWdvcnk6IFwiY29uZmlnXCIgfCBcImRpYWdub3N0aWNcIiB8IG51bGw7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRXh0RW50aXR5UmVnaXN0cnlFbnRyeSBleHRlbmRzIEVudGl0eVJlZ2lzdHJ5RW50cnkge1xuICB1bmlxdWVfaWQ6IHN0cmluZztcbiAgY2FwYWJpbGl0aWVzOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPjtcbiAgb3JpZ2luYWxfbmFtZT86IHN0cmluZztcbiAgb3JpZ2luYWxfaWNvbj86IHN0cmluZztcbiAgZGV2aWNlX2NsYXNzPzogc3RyaW5nO1xuICBvcmlnaW5hbF9kZXZpY2VfY2xhc3M/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXBkYXRlRW50aXR5UmVnaXN0cnlFbnRyeVJlc3VsdCB7XG4gIGVudGl0eV9lbnRyeTogRXh0RW50aXR5UmVnaXN0cnlFbnRyeTtcbiAgcmVsb2FkX2RlbGF5PzogbnVtYmVyO1xuICByZXF1aXJlX3Jlc3RhcnQ/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlbnNvckVudGl0eU9wdGlvbnMge1xuICB1bml0X29mX21lYXN1cmVtZW50Pzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBXZWF0aGVyRW50aXR5T3B0aW9ucyB7XG4gIHByZWNpcGl0YXRpb25fdW5pdD86IHN0cmluZyB8IG51bGw7XG4gIHByZXNzdXJlX3VuaXQ/OiBzdHJpbmcgfCBudWxsO1xuICB0ZW1wZXJhdHVyZV91bml0Pzogc3RyaW5nIHwgbnVsbDtcbiAgdmlzaWJpbGl0eV91bml0Pzogc3RyaW5nIHwgbnVsbDtcbiAgd2luZF9zcGVlZF91bml0Pzogc3RyaW5nIHwgbnVsbDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBFbnRpdHlSZWdpc3RyeUVudHJ5VXBkYXRlUGFyYW1zIHtcbiAgbmFtZT86IHN0cmluZyB8IG51bGw7XG4gIGljb24/OiBzdHJpbmcgfCBudWxsO1xuICBkZXZpY2VfY2xhc3M/OiBzdHJpbmcgfCBudWxsO1xuICBhcmVhX2lkPzogc3RyaW5nIHwgbnVsbDtcbiAgZGlzYWJsZWRfYnk/OiBzdHJpbmcgfCBudWxsO1xuICBoaWRkZW5fYnk6IHN0cmluZyB8IG51bGw7XG4gIG5ld19lbnRpdHlfaWQ/OiBzdHJpbmc7XG4gIG9wdGlvbnNfZG9tYWluPzogc3RyaW5nO1xuICBvcHRpb25zPzogU2Vuc29yRW50aXR5T3B0aW9ucyB8IFdlYXRoZXJFbnRpdHlPcHRpb25zO1xufVxuXG5leHBvcnQgY29uc3QgZmluZEJhdHRlcnlFbnRpdHkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W11cbik6IEVudGl0eVJlZ2lzdHJ5RW50cnkgfCB1bmRlZmluZWQgPT5cbiAgZW50aXRpZXMuZmluZChcbiAgICAoZW50aXR5KSA9PlxuICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0gJiZcbiAgICAgIGhhc3Muc3RhdGVzW2VudGl0eS5lbnRpdHlfaWRdLmF0dHJpYnV0ZXMuZGV2aWNlX2NsYXNzID09PSBcImJhdHRlcnlcIlxuICApO1xuXG5leHBvcnQgY29uc3QgZmluZEJhdHRlcnlDaGFyZ2luZ0VudGl0eSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXRpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXVxuKTogRW50aXR5UmVnaXN0cnlFbnRyeSB8IHVuZGVmaW5lZCA9PlxuICBlbnRpdGllcy5maW5kKFxuICAgIChlbnRpdHkpID0+XG4gICAgICBoYXNzLnN0YXRlc1tlbnRpdHkuZW50aXR5X2lkXSAmJlxuICAgICAgaGFzcy5zdGF0ZXNbZW50aXR5LmVudGl0eV9pZF0uYXR0cmlidXRlcy5kZXZpY2VfY2xhc3MgPT09XG4gICAgICAgIFwiYmF0dGVyeV9jaGFyZ2luZ1wiXG4gICk7XG5cbmV4cG9ydCBjb25zdCBjb21wdXRlRW50aXR5UmVnaXN0cnlOYW1lID0gKFxuICBoYXNzOiBIb21lQXNzaXN0YW50LFxuICBlbnRyeTogRW50aXR5UmVnaXN0cnlFbnRyeVxuKTogc3RyaW5nIHwgbnVsbCA9PiB7XG4gIGlmIChlbnRyeS5uYW1lKSB7XG4gICAgcmV0dXJuIGVudHJ5Lm5hbWU7XG4gIH1cbiAgY29uc3Qgc3RhdGUgPSBoYXNzLnN0YXRlc1tlbnRyeS5lbnRpdHlfaWRdO1xuICByZXR1cm4gc3RhdGUgPyBjb21wdXRlU3RhdGVOYW1lKHN0YXRlKSA6IGVudHJ5LmVudGl0eV9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBnZXRFeHRlbmRlZEVudGl0eVJlZ2lzdHJ5RW50cnkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmdcbik6IFByb21pc2U8RXh0RW50aXR5UmVnaXN0cnlFbnRyeT4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS9nZXRcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICB9KTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUVudGl0eVJlZ2lzdHJ5RW50cnkgPSAoXG4gIGhhc3M6IEhvbWVBc3Npc3RhbnQsXG4gIGVudGl0eUlkOiBzdHJpbmcsXG4gIHVwZGF0ZXM6IFBhcnRpYWw8RW50aXR5UmVnaXN0cnlFbnRyeVVwZGF0ZVBhcmFtcz5cbik6IFByb21pc2U8VXBkYXRlRW50aXR5UmVnaXN0cnlFbnRyeVJlc3VsdD4gPT5cbiAgaGFzcy5jYWxsV1Moe1xuICAgIHR5cGU6IFwiY29uZmlnL2VudGl0eV9yZWdpc3RyeS91cGRhdGVcIixcbiAgICBlbnRpdHlfaWQ6IGVudGl0eUlkLFxuICAgIC4uLnVwZGF0ZXMsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgcmVtb3ZlRW50aXR5UmVnaXN0cnlFbnRyeSA9IChcbiAgaGFzczogSG9tZUFzc2lzdGFudCxcbiAgZW50aXR5SWQ6IHN0cmluZ1xuKTogUHJvbWlzZTx2b2lkPiA9PlxuICBoYXNzLmNhbGxXUyh7XG4gICAgdHlwZTogXCJjb25maWcvZW50aXR5X3JlZ2lzdHJ5L3JlbW92ZVwiLFxuICAgIGVudGl0eV9pZDogZW50aXR5SWQsXG4gIH0pO1xuXG5leHBvcnQgY29uc3QgZmV0Y2hFbnRpdHlSZWdpc3RyeSA9IChjb25uOiBDb25uZWN0aW9uKSA9PlxuICBjb25uLnNlbmRNZXNzYWdlUHJvbWlzZTxFbnRpdHlSZWdpc3RyeUVudHJ5W10+KHtcbiAgICB0eXBlOiBcImNvbmZpZy9lbnRpdHlfcmVnaXN0cnkvbGlzdFwiLFxuICB9KTtcblxuY29uc3Qgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnlVcGRhdGVzID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBzdG9yZTogU3RvcmU8RW50aXR5UmVnaXN0cnlFbnRyeVtdPlxuKSA9PlxuICBjb25uLnN1YnNjcmliZUV2ZW50cyhcbiAgICBkZWJvdW5jZShcbiAgICAgICgpID0+XG4gICAgICAgIGZldGNoRW50aXR5UmVnaXN0cnkoY29ubikudGhlbigoZW50aXRpZXMpID0+XG4gICAgICAgICAgc3RvcmUuc2V0U3RhdGUoZW50aXRpZXMsIHRydWUpXG4gICAgICAgICksXG4gICAgICA1MDAsXG4gICAgICB0cnVlXG4gICAgKSxcbiAgICBcImVudGl0eV9yZWdpc3RyeV91cGRhdGVkXCJcbiAgKTtcblxuZXhwb3J0IGNvbnN0IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5ID0gKFxuICBjb25uOiBDb25uZWN0aW9uLFxuICBvbkNoYW5nZTogKGVudGl0aWVzOiBFbnRpdHlSZWdpc3RyeUVudHJ5W10pID0+IHZvaWRcbikgPT5cbiAgY3JlYXRlQ29sbGVjdGlvbjxFbnRpdHlSZWdpc3RyeUVudHJ5W10+KFxuICAgIFwiX2VudGl0eVJlZ2lzdHJ5XCIsXG4gICAgZmV0Y2hFbnRpdHlSZWdpc3RyeSxcbiAgICBzdWJzY3JpYmVFbnRpdHlSZWdpc3RyeVVwZGF0ZXMsXG4gICAgY29ubixcbiAgICBvbkNoYW5nZVxuICApO1xuXG5leHBvcnQgY29uc3Qgc29ydEVudGl0eVJlZ2lzdHJ5QnlOYW1lID0gKGVudHJpZXM6IEVudGl0eVJlZ2lzdHJ5RW50cnlbXSkgPT5cbiAgZW50cmllcy5zb3J0KChlbnRyeTEsIGVudHJ5MikgPT5cbiAgICBjYXNlSW5zZW5zaXRpdmVTdHJpbmdDb21wYXJlKGVudHJ5MS5uYW1lIHx8IFwiXCIsIGVudHJ5Mi5uYW1lIHx8IFwiXCIpXG4gICk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/data/entity_registry.ts\n");

/***/ }),

/***/ "./src/dialogs/generic/show-dialog-box.ts":
/*!************************************************!*\
  !*** ./src/dialogs/generic/show-dialog-box.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"loadGenericDialog\": () => (/* binding */ loadGenericDialog),\n/* harmony export */   \"showAlertDialog\": () => (/* binding */ showAlertDialog),\n/* harmony export */   \"showConfirmationDialog\": () => (/* binding */ showConfirmationDialog),\n/* harmony export */   \"showPromptDialog\": () => (/* binding */ showPromptDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst loadGenericDialog = () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"vendors-node_modules_material_mwc-switch_deprecated_mwc-switch-base_js-node_modules_material_-30b9a7\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_components_ha-switch_ts\"), __webpack_require__.e(\"node_modules_material_mwc-base_observer_js-src_dialogs_generic_dialog-box_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./dialog-box */ \"./src/dialogs/generic/dialog-box.ts\"));\n\nconst showDialogHelper = (element, dialogParams, extra) => new Promise(resolve => {\n  const origCancel = dialogParams.cancel;\n  const origConfirm = dialogParams.confirm;\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"dialog-box\",\n    dialogImport: loadGenericDialog,\n    dialogParams: { ...dialogParams,\n      ...extra,\n      cancel: () => {\n        resolve(extra !== null && extra !== void 0 && extra.prompt ? null : false);\n\n        if (origCancel) {\n          origCancel();\n        }\n      },\n      confirm: out => {\n        resolve(extra !== null && extra !== void 0 && extra.prompt ? out : true);\n\n        if (origConfirm) {\n          origConfirm(out);\n        }\n      }\n    }\n  });\n});\n\nconst showAlertDialog = (element, dialogParams) => showDialogHelper(element, dialogParams);\nconst showConfirmationDialog = (element, dialogParams) => showDialogHelper(element, dialogParams, {\n  confirmation: true\n});\nconst showPromptDialog = (element, dialogParams) => showDialogHelper(element, dialogParams, {\n  prompt: true\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUNBO0FBa0NBOztBQUVBO0FBU0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBSEE7QUFvQkE7O0FBRUE7QUFLQTtBQUtBO0FBREE7QUFJQTtBQUlBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9kaWFsb2dzL2dlbmVyaWMvc2hvdy1kaWFsb2ctYm94LnRzPzRlOTkiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVGVtcGxhdGVSZXN1bHQgfSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBmaXJlRXZlbnQgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2RvbS9maXJlX2V2ZW50XCI7XG5cbmludGVyZmFjZSBCYXNlRGlhbG9nQm94UGFyYW1zIHtcbiAgY29uZmlybVRleHQ/OiBzdHJpbmc7XG4gIHRleHQ/OiBzdHJpbmcgfCBUZW1wbGF0ZVJlc3VsdDtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHdhcm5pbmc/OiBib29sZWFuO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEFsZXJ0RGlhbG9nUGFyYW1zIGV4dGVuZHMgQmFzZURpYWxvZ0JveFBhcmFtcyB7XG4gIGNvbmZpcm0/OiAoKSA9PiB2b2lkO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIENvbmZpcm1hdGlvbkRpYWxvZ1BhcmFtcyBleHRlbmRzIEJhc2VEaWFsb2dCb3hQYXJhbXMge1xuICBkaXNtaXNzVGV4dD86IHN0cmluZztcbiAgY29uZmlybT86ICgpID0+IHZvaWQ7XG4gIGNhbmNlbD86ICgpID0+IHZvaWQ7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgUHJvbXB0RGlhbG9nUGFyYW1zIGV4dGVuZHMgQmFzZURpYWxvZ0JveFBhcmFtcyB7XG4gIGlucHV0TGFiZWw/OiBzdHJpbmc7XG4gIGlucHV0VHlwZT86IHN0cmluZztcbiAgZGVmYXVsdFZhbHVlPzogc3RyaW5nO1xuICBjb25maXJtPzogKG91dD86IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBEaWFsb2dCb3hQYXJhbXNcbiAgZXh0ZW5kcyBDb25maXJtYXRpb25EaWFsb2dQYXJhbXMsXG4gICAgUHJvbXB0RGlhbG9nUGFyYW1zIHtcbiAgY29uZmlybT86IChvdXQ/OiBzdHJpbmcpID0+IHZvaWQ7XG4gIGNvbmZpcm1hdGlvbj86IGJvb2xlYW47XG4gIHByb21wdD86IGJvb2xlYW47XG59XG5cbmV4cG9ydCBjb25zdCBsb2FkR2VuZXJpY0RpYWxvZyA9ICgpID0+IGltcG9ydChcIi4vZGlhbG9nLWJveFwiKTtcblxuY29uc3Qgc2hvd0RpYWxvZ0hlbHBlciA9IChcbiAgZWxlbWVudDogSFRNTEVsZW1lbnQsXG4gIGRpYWxvZ1BhcmFtczogRGlhbG9nQm94UGFyYW1zLFxuICBleHRyYT86IHtcbiAgICBjb25maXJtYXRpb24/OiBEaWFsb2dCb3hQYXJhbXNbXCJjb25maXJtYXRpb25cIl07XG4gICAgcHJvbXB0PzogRGlhbG9nQm94UGFyYW1zW1wicHJvbXB0XCJdO1xuICB9XG4pID0+XG4gIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3Qgb3JpZ0NhbmNlbCA9IGRpYWxvZ1BhcmFtcy5jYW5jZWw7XG4gICAgY29uc3Qgb3JpZ0NvbmZpcm0gPSBkaWFsb2dQYXJhbXMuY29uZmlybTtcblxuICAgIGZpcmVFdmVudChlbGVtZW50LCBcInNob3ctZGlhbG9nXCIsIHtcbiAgICAgIGRpYWxvZ1RhZzogXCJkaWFsb2ctYm94XCIsXG4gICAgICBkaWFsb2dJbXBvcnQ6IGxvYWRHZW5lcmljRGlhbG9nLFxuICAgICAgZGlhbG9nUGFyYW1zOiB7XG4gICAgICAgIC4uLmRpYWxvZ1BhcmFtcyxcbiAgICAgICAgLi4uZXh0cmEsXG4gICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoZXh0cmE/LnByb21wdCA/IG51bGwgOiBmYWxzZSk7XG4gICAgICAgICAgaWYgKG9yaWdDYW5jZWwpIHtcbiAgICAgICAgICAgIG9yaWdDYW5jZWwoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpcm06IChvdXQpID0+IHtcbiAgICAgICAgICByZXNvbHZlKGV4dHJhPy5wcm9tcHQgPyBvdXQgOiB0cnVlKTtcbiAgICAgICAgICBpZiAob3JpZ0NvbmZpcm0pIHtcbiAgICAgICAgICAgIG9yaWdDb25maXJtKG91dCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9KTtcbiAgfSk7XG5cbmV4cG9ydCBjb25zdCBzaG93QWxlcnREaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IEFsZXJ0RGlhbG9nUGFyYW1zXG4pID0+IHNob3dEaWFsb2dIZWxwZXIoZWxlbWVudCwgZGlhbG9nUGFyYW1zKTtcblxuZXhwb3J0IGNvbnN0IHNob3dDb25maXJtYXRpb25EaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IENvbmZpcm1hdGlvbkRpYWxvZ1BhcmFtc1xuKSA9PlxuICBzaG93RGlhbG9nSGVscGVyKGVsZW1lbnQsIGRpYWxvZ1BhcmFtcywge1xuICAgIGNvbmZpcm1hdGlvbjogdHJ1ZSxcbiAgfSkgYXMgUHJvbWlzZTxib29sZWFuPjtcblxuZXhwb3J0IGNvbnN0IHNob3dQcm9tcHREaWFsb2cgPSAoXG4gIGVsZW1lbnQ6IEhUTUxFbGVtZW50LFxuICBkaWFsb2dQYXJhbXM6IFByb21wdERpYWxvZ1BhcmFtc1xuKSA9PlxuICBzaG93RGlhbG9nSGVscGVyKGVsZW1lbnQsIGRpYWxvZ1BhcmFtcywgeyBwcm9tcHQ6IHRydWUgfSkgYXMgUHJvbWlzZTxcbiAgICBudWxsIHwgc3RyaW5nXG4gID47XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/dialogs/generic/show-dialog-box.ts\n");

/***/ }),

/***/ "./src/layouts/ha-app-layout.js":
/*!**************************************!*\
  !*** ./src/layouts/ha-app-layout.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_app_layout_app_header_layout_app_header_layout__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/app-layout/app-header-layout/app-header-layout */ \"./node_modules/@polymer/app-layout/app-header-layout/app-header-layout.js\");\n/* harmony import */ var _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/polymer/lib/utils/html-tag */ \"./node_modules/@polymer/polymer/lib/utils/html-tag.js\");\n/* harmony import */ var _polymer_polymer_polymer_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @polymer/polymer/polymer-element */ \"./node_modules/@polymer/polymer/polymer-element.js\");\n/* eslint-plugin-disable lit */\n\n/**\n@license\nCopyright (c) 2015 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nThis code is copied from app-header-layout.\n'fullbleed' support is removed as Home Assisstant doesn't use it.\ntransform: translate(0) is added.\n*/\n\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\n\n\n\n\nclass HaAppLayout extends customElements.get(\"app-header-layout\") {\n  static get template() {\n    return _polymer_polymer_lib_utils_html_tag__WEBPACK_IMPORTED_MODULE_1__.html`\n      <style>\n        :host {\n          display: block;\n          /**\n         * Force app-header-layout to have its own stacking context so that its parent can\n         * control the stacking of it relative to other elements (e.g. app-drawer-layout).\n         * This could be done using \\`isolation: isolate\\`, but that's not well supported\n         * across browsers.\n         */\n          position: relative;\n          z-index: 0;\n        }\n\n        #wrapper ::slotted([slot=\"header\"]) {\n          @apply --layout-fixed-top;\n          z-index: 1;\n        }\n\n        #wrapper.initializing ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) {\n          height: 100%;\n        }\n\n        :host([has-scrolling-region]) #wrapper ::slotted([slot=\"header\"]) {\n          position: absolute;\n        }\n\n        :host([has-scrolling-region])\n          #wrapper.initializing\n          ::slotted([slot=\"header\"]) {\n          position: relative;\n        }\n\n        :host([has-scrolling-region]) #wrapper #contentContainer {\n          @apply --layout-fit;\n          overflow-y: auto;\n          -webkit-overflow-scrolling: touch;\n        }\n\n        :host([has-scrolling-region]) #wrapper.initializing #contentContainer {\n          position: relative;\n        }\n\n        #contentContainer {\n          /* Create a stacking context here so that all children appear below the header. */\n          position: relative;\n          z-index: 0;\n          /* Using 'transform' will cause 'position: fixed' elements to behave like\n           'position: absolute' relative to this element. */\n          transform: translate(0);\n          margin-left: env(safe-area-inset-left);\n          margin-right: env(safe-area-inset-right);\n        }\n\n        @media print {\n          :host([has-scrolling-region]) #wrapper #contentContainer {\n            overflow-y: visible;\n          }\n        }\n      </style>\n\n      <div id=\"wrapper\" class=\"initializing\">\n        <slot id=\"headerSlot\" name=\"header\"></slot>\n\n        <div id=\"contentContainer\"><slot></slot></div>\n        <slot id=\"fab\" name=\"fab\"></slot>\n      </div>\n    `;\n  }\n\n}\n\ncustomElements.define(\"ha-app-layout\", HaAppLayout);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvbGF5b3V0cy9oYS1hcHAtbGF5b3V0LmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUExRUE7O0FBNEVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvbGF5b3V0cy9oYS1hcHAtbGF5b3V0LmpzPzliNGYiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LXBsdWdpbi1kaXNhYmxlIGxpdCAqL1xuLyoqXG5AbGljZW5zZVxuQ29weXJpZ2h0IChjKSAyMDE1IFRoZSBQb2x5bWVyIFByb2plY3QgQXV0aG9ycy4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cblRoaXMgY29kZSBtYXkgb25seSBiZSB1c2VkIHVuZGVyIHRoZSBCU0Qgc3R5bGUgbGljZW5zZSBmb3VuZCBhdCBodHRwOi8vcG9seW1lci5naXRodWIuaW8vTElDRU5TRS50eHRcblRoZSBjb21wbGV0ZSBzZXQgb2YgYXV0aG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0FVVEhPUlMudHh0XG5UaGUgY29tcGxldGUgc2V0IG9mIGNvbnRyaWJ1dG9ycyBtYXkgYmUgZm91bmQgYXQgaHR0cDovL3BvbHltZXIuZ2l0aHViLmlvL0NPTlRSSUJVVE9SUy50eHRcbkNvZGUgZGlzdHJpYnV0ZWQgYnkgR29vZ2xlIGFzIHBhcnQgb2YgdGhlIHBvbHltZXIgcHJvamVjdCBpcyBhbHNvXG5zdWJqZWN0IHRvIGFuIGFkZGl0aW9uYWwgSVAgcmlnaHRzIGdyYW50IGZvdW5kIGF0IGh0dHA6Ly9wb2x5bWVyLmdpdGh1Yi5pby9QQVRFTlRTLnR4dFxuKi9cbi8qXG5UaGlzIGNvZGUgaXMgY29waWVkIGZyb20gYXBwLWhlYWRlci1sYXlvdXQuXG4nZnVsbGJsZWVkJyBzdXBwb3J0IGlzIHJlbW92ZWQgYXMgSG9tZSBBc3Npc3N0YW50IGRvZXNuJ3QgdXNlIGl0LlxudHJhbnNmb3JtOiB0cmFuc2xhdGUoMCkgaXMgYWRkZWQuXG4qL1xuLypcbiAgRklYTUUocG9seW1lci1tb2R1bGl6ZXIpOiB0aGUgYWJvdmUgY29tbWVudHMgd2VyZSBleHRyYWN0ZWRcbiAgZnJvbSBIVE1MIGFuZCBtYXkgYmUgb3V0IG9mIHBsYWNlIGhlcmUuIFJldmlldyB0aGVtIGFuZFxuICB0aGVuIGRlbGV0ZSB0aGlzIGNvbW1lbnQhXG4qL1xuaW1wb3J0IFwiQHBvbHltZXIvYXBwLWxheW91dC9hcHAtaGVhZGVyLWxheW91dC9hcHAtaGVhZGVyLWxheW91dFwiO1xuaW1wb3J0IHsgaHRtbCB9IGZyb20gXCJAcG9seW1lci9wb2x5bWVyL2xpYi91dGlscy9odG1sLXRhZ1wiO1xuaW1wb3J0IFwiQHBvbHltZXIvcG9seW1lci9wb2x5bWVyLWVsZW1lbnRcIjtcblxuY2xhc3MgSGFBcHBMYXlvdXQgZXh0ZW5kcyBjdXN0b21FbGVtZW50cy5nZXQoXCJhcHAtaGVhZGVyLWxheW91dFwiKSB7XG4gIHN0YXRpYyBnZXQgdGVtcGxhdGUoKSB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8c3R5bGU+XG4gICAgICAgIDpob3N0IHtcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcbiAgICAgICAgICAvKipcbiAgICAgICAgICogRm9yY2UgYXBwLWhlYWRlci1sYXlvdXQgdG8gaGF2ZSBpdHMgb3duIHN0YWNraW5nIGNvbnRleHQgc28gdGhhdCBpdHMgcGFyZW50IGNhblxuICAgICAgICAgKiBjb250cm9sIHRoZSBzdGFja2luZyBvZiBpdCByZWxhdGl2ZSB0byBvdGhlciBlbGVtZW50cyAoZS5nLiBhcHAtZHJhd2VyLWxheW91dCkuXG4gICAgICAgICAqIFRoaXMgY291bGQgYmUgZG9uZSB1c2luZyBcXGBpc29sYXRpb246IGlzb2xhdGVcXGAsIGJ1dCB0aGF0J3Mgbm90IHdlbGwgc3VwcG9ydGVkXG4gICAgICAgICAqIGFjcm9zcyBicm93c2Vycy5cbiAgICAgICAgICovXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgIH1cblxuICAgICAgICAjd3JhcHBlciA6OnNsb3R0ZWQoW3Nsb3Q9XCJoZWFkZXJcIl0pIHtcbiAgICAgICAgICBAYXBwbHkgLS1sYXlvdXQtZml4ZWQtdG9wO1xuICAgICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIH1cblxuICAgICAgICAjd3JhcHBlci5pbml0aWFsaXppbmcgOjpzbG90dGVkKFtzbG90PVwiaGVhZGVyXCJdKSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkge1xuICAgICAgICAgIGhlaWdodDogMTAwJTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KFtoYXMtc2Nyb2xsaW5nLXJlZ2lvbl0pICN3cmFwcGVyIDo6c2xvdHRlZChbc2xvdD1cImhlYWRlclwiXSkge1xuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIDpob3N0KFtoYXMtc2Nyb2xsaW5nLXJlZ2lvbl0pXG4gICAgICAgICAgI3dyYXBwZXIuaW5pdGlhbGl6aW5nXG4gICAgICAgICAgOjpzbG90dGVkKFtzbG90PVwiaGVhZGVyXCJdKSB7XG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICB9XG5cbiAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkgI3dyYXBwZXIgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgIEBhcHBseSAtLWxheW91dC1maXQ7XG4gICAgICAgICAgb3ZlcmZsb3cteTogYXV0bztcbiAgICAgICAgICAtd2Via2l0LW92ZXJmbG93LXNjcm9sbGluZzogdG91Y2g7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdChbaGFzLXNjcm9sbGluZy1yZWdpb25dKSAjd3JhcHBlci5pbml0aWFsaXppbmcgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAgICAgfVxuXG4gICAgICAgICNjb250ZW50Q29udGFpbmVyIHtcbiAgICAgICAgICAvKiBDcmVhdGUgYSBzdGFja2luZyBjb250ZXh0IGhlcmUgc28gdGhhdCBhbGwgY2hpbGRyZW4gYXBwZWFyIGJlbG93IHRoZSBoZWFkZXIuICovXG4gICAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICAgICAgIHotaW5kZXg6IDA7XG4gICAgICAgICAgLyogVXNpbmcgJ3RyYW5zZm9ybScgd2lsbCBjYXVzZSAncG9zaXRpb246IGZpeGVkJyBlbGVtZW50cyB0byBiZWhhdmUgbGlrZVxuICAgICAgICAgICAncG9zaXRpb246IGFic29sdXRlJyByZWxhdGl2ZSB0byB0aGlzIGVsZW1lbnQuICovXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCk7XG4gICAgICAgICAgbWFyZ2luLWxlZnQ6IGVudihzYWZlLWFyZWEtaW5zZXQtbGVmdCk7XG4gICAgICAgICAgbWFyZ2luLXJpZ2h0OiBlbnYoc2FmZS1hcmVhLWluc2V0LXJpZ2h0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIEBtZWRpYSBwcmludCB7XG4gICAgICAgICAgOmhvc3QoW2hhcy1zY3JvbGxpbmctcmVnaW9uXSkgI3dyYXBwZXIgI2NvbnRlbnRDb250YWluZXIge1xuICAgICAgICAgICAgb3ZlcmZsb3cteTogdmlzaWJsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIDwvc3R5bGU+XG5cbiAgICAgIDxkaXYgaWQ9XCJ3cmFwcGVyXCIgY2xhc3M9XCJpbml0aWFsaXppbmdcIj5cbiAgICAgICAgPHNsb3QgaWQ9XCJoZWFkZXJTbG90XCIgbmFtZT1cImhlYWRlclwiPjwvc2xvdD5cblxuICAgICAgICA8ZGl2IGlkPVwiY29udGVudENvbnRhaW5lclwiPjxzbG90Pjwvc2xvdD48L2Rpdj5cbiAgICAgICAgPHNsb3QgaWQ9XCJmYWJcIiBuYW1lPVwiZmFiXCI+PC9zbG90PlxuICAgICAgPC9kaXY+XG4gICAgYDtcbiAgfVxufVxuY3VzdG9tRWxlbWVudHMuZGVmaW5lKFwiaGEtYXBwLWxheW91dFwiLCBIYUFwcExheW91dCk7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/layouts/ha-app-layout.js\n");

/***/ }),

/***/ "./src/panels/lovelace/common/install-resize-observer.ts":
/*!***************************************************************!*\
  !*** ./src/panels/lovelace/common/install-resize-observer.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"installResizeObserver\": () => (/* binding */ installResizeObserver)\n/* harmony export */ });\nconst installResizeObserver = async () => {\n  if (typeof ResizeObserver !== \"function\") {\n    window.ResizeObserver = (await __webpack_require__.e(/*! import() */ \"vendors-node_modules_resize-observer-polyfill_dist_ResizeObserver_es_js\").then(__webpack_require__.bind(__webpack_require__, /*! resize-observer-polyfill */ \"./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js\"))).default;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NvbW1vbi9pbnN0YWxsLXJlc2l6ZS1vYnNlcnZlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9sb3ZlbGFjZS9jb21tb24vaW5zdGFsbC1yZXNpemUtb2JzZXJ2ZXIudHM/NjQyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgaW5zdGFsbFJlc2l6ZU9ic2VydmVyID0gYXN5bmMgKCkgPT4ge1xuICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB3aW5kb3cuUmVzaXplT2JzZXJ2ZXIgPSAoYXdhaXQgaW1wb3J0KFwicmVzaXplLW9ic2VydmVyLXBvbHlmaWxsXCIpKS5kZWZhdWx0O1xuICB9XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/panels/lovelace/common/install-resize-observer.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/browser-media-player.ts":
/*!**********************************************************!*\
  !*** ./src/panels/media-browser/browser-media-player.ts ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"ERR_UNSUPPORTED_MEDIA\": () => (/* binding */ ERR_UNSUPPORTED_MEDIA),\n/* harmony export */   \"BrowserMediaPlayer\": () => (/* binding */ BrowserMediaPlayer)\n/* harmony export */ });\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\nconst ERR_UNSUPPORTED_MEDIA = \"Unsupported Media\";\nclass BrowserMediaPlayer {\n  // We pretend we're playing while still buffering.\n  constructor(hass, item, resolved, volume, onChange) {\n    this.hass = hass;\n    this.item = item;\n    this.resolved = resolved;\n    this.onChange = onChange;\n\n    _defineProperty(this, \"player\", void 0);\n\n    _defineProperty(this, \"buffering\", true);\n\n    _defineProperty(this, \"_removed\", false);\n\n    _defineProperty(this, \"_handleChange\", () => {\n      if (!this._removed) {\n        this.onChange();\n      }\n    });\n\n    const player = new Audio(this.resolved.url);\n\n    if (player.canPlayType(resolved.mime_type) === \"\") {\n      throw new Error(ERR_UNSUPPORTED_MEDIA);\n    }\n\n    player.autoplay = true;\n    player.volume = volume;\n    player.addEventListener(\"play\", this._handleChange);\n    player.addEventListener(\"playing\", () => {\n      this.buffering = false;\n\n      this._handleChange();\n    });\n    player.addEventListener(\"pause\", this._handleChange);\n    player.addEventListener(\"ended\", this._handleChange);\n    player.addEventListener(\"canplaythrough\", this._handleChange);\n    this.player = player;\n  }\n\n  pause() {\n    this.buffering = false;\n    this.player.pause();\n  }\n\n  play() {\n    this.player.play();\n  }\n\n  setVolume(volume) {\n    this.player.volume = volume;\n    this.onChange();\n  }\n\n  remove() {\n    this._removed = true; // @ts-ignore\n\n    this.onChange = undefined;\n\n    if (this.player) {\n      this.player.pause();\n    }\n  }\n\n  get isPlaying() {\n    return this.buffering || !this.player.paused && !this.player.ended;\n  }\n\n  static idleStateObj() {\n    const now = new Date().toISOString();\n    return {\n      state: \"idle\",\n      entity_id: _data_media_player__WEBPACK_IMPORTED_MODULE_0__.BROWSER_PLAYER,\n      last_changed: now,\n      last_updated: now,\n      attributes: {},\n      context: {\n        id: \"\",\n        user_id: null,\n        parent_id: null\n      }\n    };\n  }\n\n  toStateObj() {\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLMediaElement\n    const base = BrowserMediaPlayer.idleStateObj();\n    base.state = this.isPlaying ? \"playing\" : \"paused\";\n    base.attributes = {\n      media_title: this.item.title,\n      entity_picture: this.item.thumbnail,\n      volume_level: this.player.volume,\n      // eslint-disable-next-line no-bitwise\n      supported_features: _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_PLAY | _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_PAUSE | _data_media_player__WEBPACK_IMPORTED_MODULE_0__.SUPPORT_VOLUME_SET\n    };\n\n    if (this.player.duration) {\n      base.attributes.media_duration = this.player.duration;\n      base.attributes.media_position = this.player.currentTime;\n      base.attributes.media_position_updated_at = base.last_updated;\n    }\n\n    return base;\n  }\n\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvYnJvd3Nlci1tZWRpYS1wbGF5ZXIudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTtBQVdBO0FBRUE7QUFHQTtBQUtBO0FBTUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7O0FBckJBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQVFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQU5BO0FBUUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTs7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBL0ZBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvYnJvd3Nlci1tZWRpYS1wbGF5ZXIudHM/ODU4MyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBCUk9XU0VSX1BMQVlFUixcbiAgTWVkaWFQbGF5ZXJFbnRpdHksXG4gIE1lZGlhUGxheWVySXRlbSxcbiAgU1VQUE9SVF9QQVVTRSxcbiAgU1VQUE9SVF9QTEFZLFxuICBTVVBQT1JUX1ZPTFVNRV9TRVQsXG59IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhLXBsYXllclwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRNZWRpYVNvdXJjZSB9IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhX3NvdXJjZVwiO1xuaW1wb3J0IHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuXG5leHBvcnQgY29uc3QgRVJSX1VOU1VQUE9SVEVEX01FRElBID0gXCJVbnN1cHBvcnRlZCBNZWRpYVwiO1xuXG5leHBvcnQgY2xhc3MgQnJvd3Nlck1lZGlhUGxheWVyIHtcbiAgcHJpdmF0ZSBwbGF5ZXI6IEhUTUxBdWRpb0VsZW1lbnQ7XG5cbiAgLy8gV2UgcHJldGVuZCB3ZSdyZSBwbGF5aW5nIHdoaWxlIHN0aWxsIGJ1ZmZlcmluZy5cbiAgcHVibGljIGJ1ZmZlcmluZyA9IHRydWU7XG5cbiAgcHJpdmF0ZSBfcmVtb3ZlZCA9IGZhbHNlO1xuXG4gIGNvbnN0cnVjdG9yKFxuICAgIHB1YmxpYyBoYXNzOiBIb21lQXNzaXN0YW50LFxuICAgIHB1YmxpYyBpdGVtOiBNZWRpYVBsYXllckl0ZW0sXG4gICAgcHVibGljIHJlc29sdmVkOiBSZXNvbHZlZE1lZGlhU291cmNlLFxuICAgIHZvbHVtZTogbnVtYmVyLFxuICAgIHByaXZhdGUgb25DaGFuZ2U6ICgpID0+IHZvaWRcbiAgKSB7XG4gICAgY29uc3QgcGxheWVyID0gbmV3IEF1ZGlvKHRoaXMucmVzb2x2ZWQudXJsKTtcbiAgICBpZiAocGxheWVyLmNhblBsYXlUeXBlKHJlc29sdmVkLm1pbWVfdHlwZSkgPT09IFwiXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihFUlJfVU5TVVBQT1JURURfTUVESUEpO1xuICAgIH1cbiAgICBwbGF5ZXIuYXV0b3BsYXkgPSB0cnVlO1xuICAgIHBsYXllci52b2x1bWUgPSB2b2x1bWU7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5XCIsIHRoaXMuX2hhbmRsZUNoYW5nZSk7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsICgpID0+IHtcbiAgICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgICB0aGlzLl9oYW5kbGVDaGFuZ2UoKTtcbiAgICB9KTtcbiAgICBwbGF5ZXIuYWRkRXZlbnRMaXN0ZW5lcihcInBhdXNlXCIsIHRoaXMuX2hhbmRsZUNoYW5nZSk7XG4gICAgcGxheWVyLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLCB0aGlzLl9oYW5kbGVDaGFuZ2UpO1xuICAgIHBsYXllci5hZGRFdmVudExpc3RlbmVyKFwiY2FucGxheXRocm91Z2hcIiwgdGhpcy5faGFuZGxlQ2hhbmdlKTtcbiAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcbiAgfVxuXG4gIHByaXZhdGUgX2hhbmRsZUNoYW5nZSA9ICgpID0+IHtcbiAgICBpZiAoIXRoaXMuX3JlbW92ZWQpIHtcbiAgICAgIHRoaXMub25DaGFuZ2UoKTtcbiAgICB9XG4gIH07XG5cbiAgcHVibGljIHBhdXNlKCkge1xuICAgIHRoaXMuYnVmZmVyaW5nID0gZmFsc2U7XG4gICAgdGhpcy5wbGF5ZXIucGF1c2UoKTtcbiAgfVxuXG4gIHB1YmxpYyBwbGF5KCkge1xuICAgIHRoaXMucGxheWVyLnBsYXkoKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRWb2x1bWUodm9sdW1lOiBudW1iZXIpIHtcbiAgICB0aGlzLnBsYXllci52b2x1bWUgPSB2b2x1bWU7XG4gICAgdGhpcy5vbkNoYW5nZSgpO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZSgpIHtcbiAgICB0aGlzLl9yZW1vdmVkID0gdHJ1ZTtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdGhpcy5vbkNoYW5nZSA9IHVuZGVmaW5lZDtcbiAgICBpZiAodGhpcy5wbGF5ZXIpIHtcbiAgICAgIHRoaXMucGxheWVyLnBhdXNlKCk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldCBpc1BsYXlpbmcoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMuYnVmZmVyaW5nIHx8ICghdGhpcy5wbGF5ZXIucGF1c2VkICYmICF0aGlzLnBsYXllci5lbmRlZCk7XG4gIH1cblxuICBzdGF0aWMgaWRsZVN0YXRlT2JqKCk6IE1lZGlhUGxheWVyRW50aXR5IHtcbiAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN0YXRlOiBcImlkbGVcIixcbiAgICAgIGVudGl0eV9pZDogQlJPV1NFUl9QTEFZRVIsXG4gICAgICBsYXN0X2NoYW5nZWQ6IG5vdyxcbiAgICAgIGxhc3RfdXBkYXRlZDogbm93LFxuICAgICAgYXR0cmlidXRlczoge30sXG4gICAgICBjb250ZXh0OiB7IGlkOiBcIlwiLCB1c2VyX2lkOiBudWxsLCBwYXJlbnRfaWQ6IG51bGwgfSxcbiAgICB9O1xuICB9XG5cbiAgdG9TdGF0ZU9iaigpOiBNZWRpYVBsYXllckVudGl0eSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0hUTUxNZWRpYUVsZW1lbnRcbiAgICBjb25zdCBiYXNlID0gQnJvd3Nlck1lZGlhUGxheWVyLmlkbGVTdGF0ZU9iaigpO1xuICAgIGJhc2Uuc3RhdGUgPSB0aGlzLmlzUGxheWluZyA/IFwicGxheWluZ1wiIDogXCJwYXVzZWRcIjtcbiAgICBiYXNlLmF0dHJpYnV0ZXMgPSB7XG4gICAgICBtZWRpYV90aXRsZTogdGhpcy5pdGVtLnRpdGxlLFxuICAgICAgZW50aXR5X3BpY3R1cmU6IHRoaXMuaXRlbS50aHVtYm5haWwsXG4gICAgICB2b2x1bWVfbGV2ZWw6IHRoaXMucGxheWVyLnZvbHVtZSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1iaXR3aXNlXG4gICAgICBzdXBwb3J0ZWRfZmVhdHVyZXM6IFNVUFBPUlRfUExBWSB8IFNVUFBPUlRfUEFVU0UgfCBTVVBQT1JUX1ZPTFVNRV9TRVQsXG4gICAgfTtcblxuICAgIGlmICh0aGlzLnBsYXllci5kdXJhdGlvbikge1xuICAgICAgYmFzZS5hdHRyaWJ1dGVzLm1lZGlhX2R1cmF0aW9uID0gdGhpcy5wbGF5ZXIuZHVyYXRpb247XG4gICAgICBiYXNlLmF0dHJpYnV0ZXMubWVkaWFfcG9zaXRpb24gPSB0aGlzLnBsYXllci5jdXJyZW50VGltZTtcbiAgICAgIGJhc2UuYXR0cmlidXRlcy5tZWRpYV9wb3NpdGlvbl91cGRhdGVkX2F0ID0gYmFzZS5sYXN0X3VwZGF0ZWQ7XG4gICAgfVxuICAgIHJldHVybiBiYXNlO1xuICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/panels/media-browser/browser-media-player.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/ha-bar-media-player.ts":
/*!*********************************************************!*\
  !*** ./src/panels/media-browser/ha-bar-media-player.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"BarMediaPlayer\": () => (/* binding */ BarMediaPlayer)\n/* harmony export */ });\n/* harmony import */ var _material_mwc_button_mwc_button__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-button/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var _material_mwc_linear_progress_mwc_linear_progress__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-linear-progress/mwc-linear-progress */ \"./node_modules/@material/mwc-linear-progress/mwc-linear-progress.js\");\n/* harmony import */ var _material_mwc_list_mwc_list_item__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-list/mwc-list-item */ \"./node_modules/@material/mwc-list/mwc-list-item.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_until__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/until */ \"./node_modules/lit/directives/until.js\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../common/entity/compute_domain */ \"./src/common/entity/compute_domain.ts\");\n/* harmony import */ var _common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../common/entity/compute_state_domain */ \"./src/common/entity/compute_state_domain.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../common/entity/domain_icon */ \"./src/common/entity/domain_icon.ts\");\n/* harmony import */ var _common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../common/entity/supports-feature */ \"./src/common/entity/supports-feature.ts\");\n/* harmony import */ var _components_ha_button_menu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../components/ha-button-menu */ \"./src/components/ha-button-menu.ts\");\n/* harmony import */ var _components_ha_circular_progress__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../components/ha-circular-progress */ \"./src/components/ha-circular-progress.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _data_entity__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../data/entity */ \"./src/data/entity.ts\");\n/* harmony import */ var _data_entity_registry__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../data/entity_registry */ \"./src/data/entity_registry.ts\");\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\n/* harmony import */ var _lovelace_components_hui_marquee__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../lovelace/components/hui-marquee */ \"./src/panels/lovelace/components/hui-marquee.ts\");\n/* harmony import */ var _browser_media_player__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./browser-media-player */ \"./src/panels/media-browser/browser-media-player.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\n\n\n\nconst mdiChevronDown = \"M7.41,8.58L12,13.17L16.59,8.58L18,10L12,16L6,10L7.41,8.58Z\";\nconst mdiMonitor = \"M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z\";\nconst mdiPause = \"M14,19H18V5H14M6,19H10V5H6V19Z\";\nconst mdiPlay = \"M8,5.14V19.14L19,12.14L8,5.14Z\";\nconst mdiPlayPause = \"M3,5V19L11,12M13,19H16V5H13M18,5V19H21V5\";\nconst mdiStop = \"M18,18H6V6H18V18Z\";\nconst mdiVolumeHigh = \"M14,3.23V5.29C16.89,6.15 19,8.83 19,12C19,15.17 16.89,17.84 14,18.7V20.77C18,19.86 21,16.28 21,12C21,7.72 18,4.14 14,3.23M16.5,12C16.5,10.23 15.5,8.71 14,7.97V16C15.5,15.29 16.5,13.76 16.5,12M3,9V15H7L12,20V4L7,9H3Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet BarMediaPlayer = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-bar-media-player\")], function (_initialize, _SubscribeMixin) {\n  class BarMediaPlayer extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: BarMediaPlayer,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"entityId\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"mwc-linear-progress\")],\n      key: \"_progressBar\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"#CurrentProgress\")],\n      key: \"_currentProgress\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_marqueeActive\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_newMediaExpected\",\n\n      value() {\n        return false;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_browserPlayer\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_hiddenEntities\",\n\n      value() {\n        return new Set();\n      }\n\n    }, {\n      kind: \"field\",\n      key: \"_progressInterval\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_browserPlayerVolume\",\n\n      value() {\n        return 0.8;\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"connectedCallback\",\n      value: function connectedCallback() {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"connectedCallback\", this).call(this);\n\n        const stateObj = this._stateObj;\n\n        if (!stateObj) {\n          return;\n        }\n\n        if (!this._progressInterval && this._showProgressBar && stateObj.state === \"playing\") {\n          this._progressInterval = window.setInterval(() => this._updateProgressBar(), 1000);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"disconnectedCallback\",\n      value: function disconnectedCallback() {\n        if (this._progressInterval) {\n          clearInterval(this._progressInterval);\n          this._progressInterval = undefined;\n        }\n\n        this._tearDownBrowserPlayer();\n      }\n    }, {\n      kind: \"method\",\n      key: \"showResolvingNewMediaPicked\",\n      value: function showResolvingNewMediaPicked() {\n        this._tearDownBrowserPlayer();\n\n        this._newMediaExpected = true;\n      }\n    }, {\n      kind: \"method\",\n      key: \"hideResolvingNewMediaPicked\",\n      value: function hideResolvingNewMediaPicked() {\n        this._newMediaExpected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"playItem\",\n      value: function playItem(item, resolved) {\n        if (this.entityId !== _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER) {\n          throw Error(\"Only browser supported\");\n        }\n\n        this._tearDownBrowserPlayer();\n\n        try {\n          this._browserPlayer = new _browser_media_player__WEBPACK_IMPORTED_MODULE_22__.BrowserMediaPlayer(this.hass, item, resolved, this._browserPlayerVolume, () => this.requestUpdate(\"_browserPlayer\"));\n        } catch (err) {\n          if (err.message === _browser_media_player__WEBPACK_IMPORTED_MODULE_22__.ERR_UNSUPPORTED_MEDIA) {\n            (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_19__.showAlertDialog)(this, {\n              text: this.hass.localize(\"ui.components.media-browser.media_not_supported\")\n            });\n          } else {\n            throw err;\n          }\n        }\n\n        this._newMediaExpected = false;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _this$_browserPlayer, _this$_browserPlayer2;\n\n        if (this._newMediaExpected) {\n          return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n        <div class=\"controls-progress\">\n          ${(0,lit_directives_until__WEBPACK_IMPORTED_MODULE_6__.until)( // Only show spinner after 500ms\n          new Promise(resolve => setTimeout(resolve, 500)).then(() => lit__WEBPACK_IMPORTED_MODULE_3__.html`<ha-circular-progress active></ha-circular-progress>`))}\n        </div>\n      `;\n        }\n\n        const isBrowser = this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER;\n        const stateObj = this._stateObj;\n\n        if (!stateObj) {\n          return this._renderChoosePlayer(stateObj);\n        }\n\n        const controls = !this.narrow ? (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.computeMediaControls)(stateObj, true) : stateObj.state === \"playing\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PAUSE) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_STOP)) || (stateObj.state === \"paused\" || stateObj.state === \"idle\") && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PLAY) || stateObj.state === \"on\" && ((0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PLAY) || (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PAUSE)) ? [{\n          icon: stateObj.state === \"on\" ? mdiPlayPause : stateObj.state !== \"playing\" ? mdiPlay : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PAUSE) ? mdiPause : mdiStop,\n          action: stateObj.state !== \"playing\" ? \"media_play\" : (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_PAUSE) ? \"media_pause\" : \"media_stop\"\n        }] : [{}];\n        const mediaDescription = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.computeMediaDescription)(stateObj);\n        const mediaDuration = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.formatMediaTime)(stateObj.attributes.media_duration);\n        const mediaTitleClean = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.cleanupMediaTitle)(stateObj.attributes.media_title || \"\");\n        const mediaArt = stateObj.attributes.entity_picture_local || stateObj.attributes.entity_picture;\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <div\n        class=${(0,lit_directives_class_map__WEBPACK_IMPORTED_MODULE_5__.classMap)({\n          info: true,\n          pointer: !isBrowser,\n          app: ((_this$_browserPlayer = this._browserPlayer) === null || _this$_browserPlayer === void 0 ? void 0 : _this$_browserPlayer.item.media_class) === \"app\"\n        })}\n        @click=${this._openMoreInfo}\n      >\n        ${mediaArt ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<img src=${this.hass.hassUrl(mediaArt)} />` : \"\"}\n        <div class=\"media-info\">\n          <hui-marquee\n            .text=${mediaTitleClean || mediaDescription || (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.cleanupMediaTitle)(stateObj.attributes.media_content_id) || (stateObj.state !== \"playing\" && stateObj.state !== \"on\" ? this.hass.localize(`ui.card.media_player.nothing_playing`) : \"\")}\n            .active=${this._marqueeActive}\n            @mouseover=${this._marqueeMouseOver}\n            @mouseleave=${this._marqueeMouseLeave}\n          ></hui-marquee>\n          <span class=\"secondary\">\n            ${mediaTitleClean ? mediaDescription : \"\"}\n          </span>\n        </div>\n      </div>\n      <div class=\"controls-progress\">\n        ${(_this$_browserPlayer2 = this._browserPlayer) !== null && _this$_browserPlayer2 !== void 0 && _this$_browserPlayer2.buffering ? lit__WEBPACK_IMPORTED_MODULE_3__.html` <ha-circular-progress active></ha-circular-progress> ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n              <div class=\"controls\">\n                ${controls === undefined ? \"\" : controls.map(control => lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                        <ha-icon-button\n                          .label=${this.hass.localize(`ui.card.media_player.${control.action}`)}\n                          .path=${control.icon}\n                          action=${control.action}\n                          @click=${this._handleControlClick}\n                        >\n                        </ha-icon-button>\n                      `)}\n              </div>\n              ${stateObj.attributes.media_duration === Infinity ? lit__WEBPACK_IMPORTED_MODULE_3__.html`` : this.narrow ? lit__WEBPACK_IMPORTED_MODULE_3__.html`<mwc-linear-progress></mwc-linear-progress>` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <div class=\"progress\">\n                      <div id=\"CurrentProgress\"></div>\n                      <mwc-linear-progress wide></mwc-linear-progress>\n                      <div>${mediaDuration}</div>\n                    </div>\n                  `}\n            `}\n      </div>\n      ${this._renderChoosePlayer(stateObj)}\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_renderChoosePlayer\",\n      value: function _renderChoosePlayer(stateObj) {\n        const isBrowser = this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER;\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n    <div class=\"choose-player ${isBrowser ? \"browser\" : \"\"}\">\n      ${!this.narrow && stateObj && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(stateObj, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_VOLUME_SET) ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n              <ha-button-menu corner=\"BOTTOM_START\" y=\"0\" x=\"76\">\n                <ha-icon-button\n                  slot=\"trigger\"\n                  .path=${mdiVolumeHigh}\n                ></ha-icon-button>\n                <ha-slider\n                  min=\"0\"\n                  max=\"100\"\n                  step=\"1\"\n                  .value=${stateObj.attributes.volume_level * 100}\n                  @change=${this._handleVolumeChange}\n                >\n                </ha-slider>\n              </ha-button-menu>\n            ` : \"\"}\n\n          <ha-button-menu corner=\"BOTTOM_START\">\n            ${this.narrow ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <ha-icon-button\n                      slot=\"trigger\"\n                      .path=${isBrowser ? mdiMonitor : (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__.domainIcon)((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(this.entityId), stateObj)}\n                    ></ha-icon-button>\n                  ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                    <mwc-button\n                      slot=\"trigger\"\n                      .label=${this.narrow ? \"\" : `${stateObj ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__.computeStateName)(stateObj) : this.entityId}\n                `}\n                    >\n                      <ha-svg-icon\n                        slot=\"icon\"\n                        .path=${isBrowser ? mdiMonitor : (0,_common_entity_domain_icon__WEBPACK_IMPORTED_MODULE_11__.domainIcon)((0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(this.entityId), stateObj)}\n                      ></ha-svg-icon>\n                      <ha-svg-icon\n                        slot=\"trailingIcon\"\n                        .path=${mdiChevronDown}\n                      ></ha-svg-icon>\n                    </mwc-button>\n                  `}\n            <mwc-list-item\n              .player=${_data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER}\n              ?selected=${isBrowser}\n              @click=${this._selectPlayer}\n            >\n              ${this.hass.localize(\"ui.components.media-browser.web-browser\")}\n            </mwc-list-item>\n            ${this._mediaPlayerEntities.map(source => lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                <mwc-list-item\n                  ?selected=${source.entity_id === this.entityId}\n                  .disabled=${_data_entity__WEBPACK_IMPORTED_MODULE_16__.UNAVAILABLE_STATES.includes(source.state)}\n                  .player=${source.entity_id}\n                  @click=${this._selectPlayer}\n                >\n                  ${(0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_10__.computeStateName)(source)}\n                </mwc-list-item>\n              `)}\n          </ha-button-menu>\n        </div>\n      </div>\n\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (changedProps.has(\"entityId\")) {\n          this._tearDownBrowserPlayer();\n        }\n\n        if (!changedProps.has(\"hass\") || this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER) {\n          return;\n        } // Reset new media expected if media player state changes\n\n\n        const oldHass = changedProps.get(\"hass\");\n\n        if (!oldHass || oldHass.states[this.entityId] !== this.hass.states[this.entityId]) {\n          this._newMediaExpected = false;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"updated\",\n      value: function updated(changedProps) {\n        _get(_getPrototypeOf(BarMediaPlayer.prototype), \"updated\", this).call(this, changedProps);\n\n        if (this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER) {\n          if (!changedProps.has(\"_browserPlayer\")) {\n            return;\n          }\n        } else {\n          const oldHass = changedProps.get(\"hass\");\n\n          if (oldHass && oldHass.states[this.entityId] === this._stateObj) {\n            return;\n          }\n        }\n\n        const stateObj = this._stateObj;\n\n        this._updateProgressBar();\n\n        if (!this._progressInterval && this._showProgressBar && (stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) === \"playing\") {\n          this._progressInterval = window.setInterval(() => this._updateProgressBar(), 1000);\n        } else if (this._progressInterval && (!this._showProgressBar || (stateObj === null || stateObj === void 0 ? void 0 : stateObj.state) !== \"playing\")) {\n          clearInterval(this._progressInterval);\n          this._progressInterval = undefined;\n        }\n      }\n    }, {\n      kind: \"get\",\n      key: \"_stateObj\",\n      value: function _stateObj() {\n        if (this.entityId === _data_media_player__WEBPACK_IMPORTED_MODULE_18__.BROWSER_PLAYER) {\n          return this._browserPlayer ? this._browserPlayer.toStateObj() : _browser_media_player__WEBPACK_IMPORTED_MODULE_22__.BrowserMediaPlayer.idleStateObj();\n        }\n\n        return this.hass.states[this.entityId];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_tearDownBrowserPlayer\",\n      value: function _tearDownBrowserPlayer() {\n        if (this._browserPlayer) {\n          this._browserPlayer.remove();\n\n          this._browserPlayer = undefined;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_openMoreInfo\",\n      value: function _openMoreInfo() {\n        if (this._browserPlayer) {\n          return;\n        }\n\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__.fireEvent)(this, \"hass-more-info\", {\n          entityId: this.entityId\n        });\n      }\n    }, {\n      kind: \"get\",\n      key: \"_showProgressBar\",\n      value: function _showProgressBar() {\n        if (!this.hass) {\n          return false;\n        }\n\n        const stateObj = this._stateObj;\n        return stateObj && (stateObj.state === \"playing\" || stateObj.state === \"paused\") && \"media_duration\" in stateObj.attributes && \"media_position\" in stateObj.attributes;\n      }\n    }, {\n      kind: \"get\",\n      key: \"_mediaPlayerEntities\",\n      value: function _mediaPlayerEntities() {\n        return Object.values(this.hass.states).filter(entity => (0,_common_entity_compute_state_domain__WEBPACK_IMPORTED_MODULE_9__.computeStateDomain)(entity) === \"media_player\" && (0,_common_entity_supports_feature__WEBPACK_IMPORTED_MODULE_12__.supportsFeature)(entity, _data_media_player__WEBPACK_IMPORTED_MODULE_18__.SUPPORT_BROWSE_MEDIA) && !this._hiddenEntities.has(entity.entity_id));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_updateProgressBar\",\n      value: function _updateProgressBar() {\n        const stateObj = this._stateObj;\n\n        if (!this._progressBar || !this._currentProgress || !stateObj) {\n          return;\n        }\n\n        if (!stateObj.attributes.media_duration) {\n          this._progressBar.progress = 0;\n          this._currentProgress.innerHTML = \"\";\n          return;\n        }\n\n        const currentProgress = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.getCurrentProgress)(stateObj);\n        this._progressBar.progress = currentProgress / stateObj.attributes.media_duration;\n\n        if (this._currentProgress) {\n          this._currentProgress.innerHTML = (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.formatMediaTime)(currentProgress);\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        return [(0,_data_entity_registry__WEBPACK_IMPORTED_MODULE_17__.subscribeEntityRegistry)(this.hass.connection, entries => {\n          const hiddenEntities = new Set();\n\n          for (const entry of entries) {\n            if (entry.hidden_by && (0,_common_entity_compute_domain__WEBPACK_IMPORTED_MODULE_8__.computeDomain)(entry.entity_id) === \"media_player\") {\n              hiddenEntities.add(entry.entity_id);\n            }\n          }\n\n          this._hiddenEntities = hiddenEntities;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleControlClick\",\n      value: function _handleControlClick(e) {\n        const action = e.currentTarget.getAttribute(\"action\");\n\n        if (!this._browserPlayer) {\n          (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.handleMediaControlClick)(this.hass, this._stateObj, e.currentTarget.getAttribute(\"action\"));\n          return;\n        }\n\n        if (action === \"media_pause\") {\n          this._browserPlayer.pause();\n        } else if (action === \"media_play\") {\n          this._browserPlayer.play();\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_marqueeMouseOver\",\n      value: function _marqueeMouseOver() {\n        if (!this._marqueeActive) {\n          this._marqueeActive = true;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_marqueeMouseLeave\",\n      value: function _marqueeMouseLeave() {\n        if (this._marqueeActive) {\n          this._marqueeActive = false;\n        }\n      }\n    }, {\n      kind: \"method\",\n      key: \"_selectPlayer\",\n      value: function _selectPlayer(ev) {\n        const entityId = ev.currentTarget.player;\n        (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_7__.fireEvent)(this, \"player-picked\", {\n          entityId\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_handleVolumeChange\",\n      value: async function _handleVolumeChange(ev) {\n        ev.stopPropagation();\n        const value = Number(ev.target.value) / 100;\n\n        if (this._browserPlayer) {\n          this._browserPlayerVolume = value;\n\n          this._browserPlayer.setVolume(value);\n        } else {\n          await (0,_data_media_player__WEBPACK_IMPORTED_MODULE_18__.setMediaPlayerVolume)(this.hass, this.entityId, value);\n        }\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.css`\n      :host {\n        display: flex;\n        min-height: 100px;\n        background: var(\n          --ha-card-background,\n          var(--card-background-color, white)\n        );\n        border-top: 1px solid var(--divider-color);\n      }\n\n      mwc-linear-progress {\n        width: 100%;\n        padding: 0 4px;\n        --mdc-theme-primary: var(--secondary-text-color);\n      }\n\n      mwc-button[slot=\"trigger\"] {\n        --mdc-theme-primary: var(--primary-text-color);\n        --mdc-icon-size: 36px;\n      }\n\n      .info {\n        flex: 1;\n        display: flex;\n        align-items: center;\n        width: 100%;\n        margin-right: 16px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n      }\n\n      .pointer {\n        cursor: pointer;\n      }\n\n      .secondary,\n      .progress {\n        color: var(--secondary-text-color);\n      }\n\n      .choose-player {\n        flex: 1;\n        display: flex;\n        justify-content: flex-end;\n        align-items: center;\n        padding: 16px;\n      }\n\n      .controls {\n        height: 48px;\n        padding-bottom: 4px;\n      }\n\n      .controls-progress {\n        flex: 2;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        flex-direction: column;\n        direction: ltr;\n      }\n\n      .progress {\n        display: flex;\n        width: 100%;\n        align-items: center;\n      }\n\n      mwc-linear-progress[wide] {\n        margin: 0 4px;\n      }\n\n      .media-info {\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        padding-left: 16px;\n        width: 100%;\n      }\n\n      hui-marquee {\n        font-size: 1.2em;\n        margin: 0px 0 4px;\n      }\n\n      img {\n        max-height: 100px;\n        max-width: 100px;\n      }\n\n      .app img {\n        max-height: 68px;\n        margin: 16px 0 16px 16px;\n      }\n\n      ha-button-menu mwc-button {\n        line-height: 1;\n      }\n\n      :host([narrow]) {\n        min-height: 56px;\n        max-height: 56px;\n      }\n\n      :host([narrow]) .controls-progress {\n        flex: unset;\n        min-width: 48px;\n      }\n\n      :host([narrow]) .media-info {\n        padding-left: 8px;\n      }\n\n      :host([narrow]) .controls {\n        display: flex;\n        padding-bottom: 0;\n        --mdc-icon-size: 30px;\n      }\n\n      :host([narrow]) .choose-player {\n        padding-left: 0;\n        padding-right: 8px;\n        min-width: 48px;\n        flex: unset;\n        justify-content: center;\n      }\n\n      :host([narrow]) .choose-player.browser {\n        justify-content: flex-end;\n      }\n\n      :host([narrow]) img {\n        max-height: 56px;\n        max-width: 56px;\n      }\n\n      :host([narrow]) .blank-image {\n        height: 56px;\n        width: 56px;\n      }\n\n      :host([narrow]) mwc-linear-progress {\n        padding: 0;\n        position: absolute;\n        top: -4px;\n        left: 0;\n      }\n\n      mwc-list-item[selected] {\n        font-weight: bold;\n      }\n\n      ha-svg-icon[slot=\"icon\"] {\n        margin-inline-start: 8px !important;\n        margin-inline-end: 8px !important;\n        direction: var(--direction);\n      }\n      ha-svg-icon[slot=\"trailingIcon\"] {\n        margin-inline-start: 8px !important;\n        margin-inline-end: 0px !important;\n        direction: var(--direction);\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_20__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_3__.LitElement));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtYmFyLW1lZGlhLXBsYXllci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFFQTs7Ozs7Ozs7QUFXQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtCQTtBQUNBO0FBRUE7QUFDQTtBQVlBO0FBREE7QUFDQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBR0E7QUFBQTtBQUhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFLQTtBQUFBO0FBQUE7QUFMQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBMEJBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUtBO0FBSUE7QUFDQTtBQTVDQTtBQUFBO0FBQUE7QUFBQTtBQStDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBcERBO0FBQUE7QUFBQTtBQUFBO0FBdURBOztBQUNBO0FBQ0E7QUF6REE7QUFBQTtBQUFBO0FBQUE7QUE0REE7QUFDQTtBQTdEQTtBQUFBO0FBQUE7QUFBQTtBQWdFQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFLQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBeEZBO0FBQUE7QUFBQTtBQUFBO0FBMEZBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFZQTtBQVFBO0FBVEE7QUFrQkE7QUFDQTtBQUNBO0FBR0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBSUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBcE5BO0FBQUE7QUFBQTtBQUFBO0FBdU5BO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3U0E7QUFBQTtBQUFBO0FBQUE7QUFnVEE7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7O0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUEvVEE7QUFBQTtBQUFBO0FBQUE7QUFrVUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBOztBQUVBO0FBS0E7QUFJQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBbldBO0FBQUE7QUFBQTtBQUFBO0FBc1dBO0FBQ0E7QUFHQTs7QUFDQTtBQUNBO0FBNVdBO0FBQUE7QUFBQTtBQUFBO0FBK1dBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBblhBO0FBQUE7QUFBQTtBQUFBO0FBc1hBO0FBQ0E7QUFDQTs7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQTFYQTtBQUFBO0FBQUE7QUFBQTtBQTZYQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQU1BO0FBellBO0FBQUE7QUFBQTtBQUFBO0FBNFlBO0FBTUE7QUFsWkE7QUFBQTtBQUFBO0FBQUE7QUFxWkE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQXhhQTtBQUFBO0FBQUE7QUFBQTtBQThhQTtBQUVBOztBQUVBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBOWJBO0FBQUE7QUFBQTtBQUFBO0FBaWNBOztBQUVBO0FBQ0E7QUFLQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhkQTtBQUFBO0FBQUE7QUFBQTtBQW1kQTtBQUNBO0FBQ0E7QUFDQTtBQXRkQTtBQUFBO0FBQUE7QUFBQTtBQXlkQTtBQUNBO0FBQ0E7QUFDQTtBQTVkQTtBQUFBO0FBQUE7QUFBQTtBQStkQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBamVBO0FBQUE7QUFBQTtBQUFBO0FBb2VBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNWVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUErZUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFwcEJBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9tZWRpYS1icm93c2VyL2hhLWJhci1tZWRpYS1wbGF5ZXIudHM/MmIyYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWJ1dHRvbi9td2MtYnV0dG9uXCI7XG5pbXBvcnQgXCJAbWF0ZXJpYWwvbXdjLWxpbmVhci1wcm9ncmVzcy9td2MtbGluZWFyLXByb2dyZXNzXCI7XG5pbXBvcnQgdHlwZSB7IExpbmVhclByb2dyZXNzIH0gZnJvbSBcIkBtYXRlcmlhbC9td2MtbGluZWFyLXByb2dyZXNzL213Yy1saW5lYXItcHJvZ3Jlc3NcIjtcbmltcG9ydCBcIkBtYXRlcmlhbC9td2MtbGlzdC9td2MtbGlzdC1pdGVtXCI7XG5pbXBvcnQge1xuICBtZGlDaGV2cm9uRG93bixcbiAgbWRpTW9uaXRvcixcbiAgbWRpUGF1c2UsXG4gIG1kaVBsYXksXG4gIG1kaVBsYXlQYXVzZSxcbiAgbWRpU3RvcCxcbiAgbWRpVm9sdW1lSGlnaCxcbn0gZnJvbSBcIkBtZGkvanNcIjtcbmltcG9ydCB7IFVuc3Vic2NyaWJlRnVuYyB9IGZyb20gXCJob21lLWFzc2lzdGFudC1qcy13ZWJzb2NrZXRcIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgY2xhc3NNYXAgfSBmcm9tIFwibGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwXCI7XG5pbXBvcnQgeyB1bnRpbCB9IGZyb20gXCJsaXQvZGlyZWN0aXZlcy91bnRpbFwiO1xuaW1wb3J0IHsgZmlyZUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgY29tcHV0ZURvbWFpbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfZG9tYWluXCI7XG5pbXBvcnQgeyBjb21wdXRlU3RhdGVEb21haW4gfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX2RvbWFpblwiO1xuaW1wb3J0IHsgY29tcHV0ZVN0YXRlTmFtZSB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2NvbXB1dGVfc3RhdGVfbmFtZVwiO1xuaW1wb3J0IHsgZG9tYWluSWNvbiB9IGZyb20gXCIuLi8uLi9jb21tb24vZW50aXR5L2RvbWFpbl9pY29uXCI7XG5pbXBvcnQgeyBzdXBwb3J0c0ZlYXR1cmUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL2VudGl0eS9zdXBwb3J0cy1mZWF0dXJlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWJ1dHRvbi1tZW51XCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWNpcmN1bGFyLXByb2dyZXNzXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgeyBVTkFWQUlMQUJMRV9TVEFURVMgfSBmcm9tIFwiLi4vLi4vZGF0YS9lbnRpdHlcIjtcbmltcG9ydCB7IHN1YnNjcmliZUVudGl0eVJlZ2lzdHJ5IH0gZnJvbSBcIi4uLy4uL2RhdGEvZW50aXR5X3JlZ2lzdHJ5XCI7XG5pbXBvcnQge1xuICBCUk9XU0VSX1BMQVlFUixcbiAgY2xlYW51cE1lZGlhVGl0bGUsXG4gIGNvbXB1dGVNZWRpYUNvbnRyb2xzLFxuICBjb21wdXRlTWVkaWFEZXNjcmlwdGlvbixcbiAgZm9ybWF0TWVkaWFUaW1lLFxuICBnZXRDdXJyZW50UHJvZ3Jlc3MsXG4gIGhhbmRsZU1lZGlhQ29udHJvbENsaWNrLFxuICBNZWRpYVBsYXllckVudGl0eSxcbiAgTWVkaWFQbGF5ZXJJdGVtLFxuICBzZXRNZWRpYVBsYXllclZvbHVtZSxcbiAgU1VQUE9SVF9CUk9XU0VfTUVESUEsXG4gIFNVUFBPUlRfUEFVU0UsXG4gIFNVUFBPUlRfUExBWSxcbiAgU1VQUE9SVF9TVE9QLFxuICBTVVBQT1JUX1ZPTFVNRV9TRVQsXG59IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhLXBsYXllclwiO1xuaW1wb3J0IHsgUmVzb2x2ZWRNZWRpYVNvdXJjZSB9IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhX3NvdXJjZVwiO1xuaW1wb3J0IHsgc2hvd0FsZXJ0RGlhbG9nIH0gZnJvbSBcIi4uLy4uL2RpYWxvZ3MvZ2VuZXJpYy9zaG93LWRpYWxvZy1ib3hcIjtcbmltcG9ydCB7IFN1YnNjcmliZU1peGluIH0gZnJvbSBcIi4uLy4uL21peGlucy9zdWJzY3JpYmUtbWl4aW5cIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCB9IGZyb20gXCIuLi8uLi90eXBlc1wiO1xuaW1wb3J0IFwiLi4vbG92ZWxhY2UvY29tcG9uZW50cy9odWktbWFycXVlZVwiO1xuaW1wb3J0IHtcbiAgQnJvd3Nlck1lZGlhUGxheWVyLFxuICBFUlJfVU5TVVBQT1JURURfTUVESUEsXG59IGZyb20gXCIuL2Jyb3dzZXItbWVkaWEtcGxheWVyXCI7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhBU1NEb21FdmVudHMge1xuICAgIFwicGxheWVyLXBpY2tlZFwiOiB7IGVudGl0eUlkOiBzdHJpbmcgfTtcbiAgfVxufVxuXG5AY3VzdG9tRWxlbWVudChcImhhLWJhci1tZWRpYS1wbGF5ZXJcIilcbmV4cG9ydCBjbGFzcyBCYXJNZWRpYVBsYXllciBleHRlbmRzIFN1YnNjcmliZU1peGluKExpdEVsZW1lbnQpIHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgZW50aXR5SWQhOiBzdHJpbmc7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuICBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcXVlcnkoXCJtd2MtbGluZWFyLXByb2dyZXNzXCIpIHByaXZhdGUgX3Byb2dyZXNzQmFyPzogTGluZWFyUHJvZ3Jlc3M7XG5cbiAgQHF1ZXJ5KFwiI0N1cnJlbnRQcm9ncmVzc1wiKSBwcml2YXRlIF9jdXJyZW50UHJvZ3Jlc3M/OiBIVE1MRWxlbWVudDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9tYXJxdWVlQWN0aXZlID0gZmFsc2U7XG5cbiAgQHN0YXRlKCkgcHJpdmF0ZSBfbmV3TWVkaWFFeHBlY3RlZCA9IGZhbHNlO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2Jyb3dzZXJQbGF5ZXI/OiBCcm93c2VyTWVkaWFQbGF5ZXI7XG5cbiAgQHN0YXRlKClcbiAgcHJpdmF0ZSBfaGlkZGVuRW50aXRpZXMgPSBuZXcgU2V0PHN0cmluZz4oKTtcblxuICBwcml2YXRlIF9wcm9ncmVzc0ludGVydmFsPzogbnVtYmVyO1xuXG4gIHByaXZhdGUgX2Jyb3dzZXJQbGF5ZXJWb2x1bWUgPSAwLjg7XG5cbiAgcHVibGljIGNvbm5lY3RlZENhbGxiYWNrKCk6IHZvaWQge1xuICAgIHN1cGVyLmNvbm5lY3RlZENhbGxiYWNrKCk7XG5cbiAgICBjb25zdCBzdGF0ZU9iaiA9IHRoaXMuX3N0YXRlT2JqO1xuXG4gICAgaWYgKCFzdGF0ZU9iaikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChcbiAgICAgICF0aGlzLl9wcm9ncmVzc0ludGVydmFsICYmXG4gICAgICB0aGlzLl9zaG93UHJvZ3Jlc3NCYXIgJiZcbiAgICAgIHN0YXRlT2JqLnN0YXRlID09PSBcInBsYXlpbmdcIlxuICAgICkge1xuICAgICAgdGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChcbiAgICAgICAgKCkgPT4gdGhpcy5fdXBkYXRlUHJvZ3Jlc3NCYXIoKSxcbiAgICAgICAgMTAwMFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZGlzY29ubmVjdGVkQ2FsbGJhY2soKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX3Byb2dyZXNzSW50ZXJ2YWwpIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCk7XG4gICAgICB0aGlzLl9wcm9ncmVzc0ludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0aGlzLl90ZWFyRG93bkJyb3dzZXJQbGF5ZXIoKTtcbiAgfVxuXG4gIHB1YmxpYyBzaG93UmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKSB7XG4gICAgdGhpcy5fdGVhckRvd25Ccm93c2VyUGxheWVyKCk7XG4gICAgdGhpcy5fbmV3TWVkaWFFeHBlY3RlZCA9IHRydWU7XG4gIH1cblxuICBwdWJsaWMgaGlkZVJlc29sdmluZ05ld01lZGlhUGlja2VkKCkge1xuICAgIHRoaXMuX25ld01lZGlhRXhwZWN0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyBwbGF5SXRlbShpdGVtOiBNZWRpYVBsYXllckl0ZW0sIHJlc29sdmVkOiBSZXNvbHZlZE1lZGlhU291cmNlKSB7XG4gICAgaWYgKHRoaXMuZW50aXR5SWQgIT09IEJST1dTRVJfUExBWUVSKSB7XG4gICAgICB0aHJvdyBFcnJvcihcIk9ubHkgYnJvd3NlciBzdXBwb3J0ZWRcIik7XG4gICAgfVxuICAgIHRoaXMuX3RlYXJEb3duQnJvd3NlclBsYXllcigpO1xuICAgIHRyeSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyID0gbmV3IEJyb3dzZXJNZWRpYVBsYXllcihcbiAgICAgICAgdGhpcy5oYXNzLFxuICAgICAgICBpdGVtLFxuICAgICAgICByZXNvbHZlZCxcbiAgICAgICAgdGhpcy5fYnJvd3NlclBsYXllclZvbHVtZSxcbiAgICAgICAgKCkgPT4gdGhpcy5yZXF1ZXN0VXBkYXRlKFwiX2Jyb3dzZXJQbGF5ZXJcIilcbiAgICAgICk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGlmIChlcnIubWVzc2FnZSA9PT0gRVJSX1VOU1VQUE9SVEVEX01FRElBKSB7XG4gICAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLm1lZGlhLWJyb3dzZXIubWVkaWFfbm90X3N1cHBvcnRlZFwiXG4gICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX25ld01lZGlhRXhwZWN0ZWQgPSBmYWxzZTtcbiAgfVxuXG4gIHByb3RlY3RlZCByZW5kZXIoKTogVGVtcGxhdGVSZXN1bHQge1xuICAgIGlmICh0aGlzLl9uZXdNZWRpYUV4cGVjdGVkKSB7XG4gICAgICByZXR1cm4gaHRtbGBcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzLXByb2dyZXNzXCI+XG4gICAgICAgICAgJHt1bnRpbChcbiAgICAgICAgICAgIC8vIE9ubHkgc2hvdyBzcGlubmVyIGFmdGVyIDUwMG1zXG4gICAgICAgICAgICBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCA1MDApKS50aGVuKFxuICAgICAgICAgICAgICAoKSA9PiBodG1sYDxoYS1jaXJjdWxhci1wcm9ncmVzcyBhY3RpdmU+PC9oYS1jaXJjdWxhci1wcm9ncmVzcz5gXG4gICAgICAgICAgICApXG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICBgO1xuICAgIH1cblxuICAgIGNvbnN0IGlzQnJvd3NlciA9IHRoaXMuZW50aXR5SWQgPT09IEJST1dTRVJfUExBWUVSO1xuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICBpZiAoIXN0YXRlT2JqKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVuZGVyQ2hvb3NlUGxheWVyKHN0YXRlT2JqKTtcbiAgICB9XG5cbiAgICBjb25zdCBjb250cm9scyA9ICF0aGlzLm5hcnJvd1xuICAgICAgPyBjb21wdXRlTWVkaWFDb250cm9scyhzdGF0ZU9iaiwgdHJ1ZSlcbiAgICAgIDogKHN0YXRlT2JqLnN0YXRlID09PSBcInBsYXlpbmdcIiAmJlxuICAgICAgICAgIChzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIFNVUFBPUlRfUEFVU0UpIHx8XG4gICAgICAgICAgICBzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIFNVUFBPUlRfU1RPUCkpKSB8fFxuICAgICAgICAoKHN0YXRlT2JqLnN0YXRlID09PSBcInBhdXNlZFwiIHx8IHN0YXRlT2JqLnN0YXRlID09PSBcImlkbGVcIikgJiZcbiAgICAgICAgICBzdXBwb3J0c0ZlYXR1cmUoc3RhdGVPYmosIFNVUFBPUlRfUExBWSkpIHx8XG4gICAgICAgIChzdGF0ZU9iai5zdGF0ZSA9PT0gXCJvblwiICYmXG4gICAgICAgICAgKHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9QTEFZKSB8fFxuICAgICAgICAgICAgc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBTVVBQT1JUX1BBVVNFKSkpXG4gICAgICA/IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpY29uOlxuICAgICAgICAgICAgICBzdGF0ZU9iai5zdGF0ZSA9PT0gXCJvblwiXG4gICAgICAgICAgICAgICAgPyBtZGlQbGF5UGF1c2VcbiAgICAgICAgICAgICAgICA6IHN0YXRlT2JqLnN0YXRlICE9PSBcInBsYXlpbmdcIlxuICAgICAgICAgICAgICAgID8gbWRpUGxheVxuICAgICAgICAgICAgICAgIDogc3VwcG9ydHNGZWF0dXJlKHN0YXRlT2JqLCBTVVBQT1JUX1BBVVNFKVxuICAgICAgICAgICAgICAgID8gbWRpUGF1c2VcbiAgICAgICAgICAgICAgICA6IG1kaVN0b3AsXG4gICAgICAgICAgICBhY3Rpb246XG4gICAgICAgICAgICAgIHN0YXRlT2JqLnN0YXRlICE9PSBcInBsYXlpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJtZWRpYV9wbGF5XCJcbiAgICAgICAgICAgICAgICA6IHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9QQVVTRSlcbiAgICAgICAgICAgICAgICA/IFwibWVkaWFfcGF1c2VcIlxuICAgICAgICAgICAgICAgIDogXCJtZWRpYV9zdG9wXCIsXG4gICAgICAgICAgfSxcbiAgICAgICAgXVxuICAgICAgOiBbe31dO1xuICAgIGNvbnN0IG1lZGlhRGVzY3JpcHRpb24gPSBjb21wdXRlTWVkaWFEZXNjcmlwdGlvbihzdGF0ZU9iaik7XG4gICAgY29uc3QgbWVkaWFEdXJhdGlvbiA9IGZvcm1hdE1lZGlhVGltZShzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX2R1cmF0aW9uKTtcbiAgICBjb25zdCBtZWRpYVRpdGxlQ2xlYW4gPSBjbGVhbnVwTWVkaWFUaXRsZShcbiAgICAgIHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfdGl0bGUgfHwgXCJcIlxuICAgICk7XG4gICAgY29uc3QgbWVkaWFBcnQgPVxuICAgICAgc3RhdGVPYmouYXR0cmlidXRlcy5lbnRpdHlfcGljdHVyZV9sb2NhbCB8fFxuICAgICAgc3RhdGVPYmouYXR0cmlidXRlcy5lbnRpdHlfcGljdHVyZTtcblxuICAgIHJldHVybiBodG1sYFxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz0ke2NsYXNzTWFwKHtcbiAgICAgICAgICBpbmZvOiB0cnVlLFxuICAgICAgICAgIHBvaW50ZXI6ICFpc0Jyb3dzZXIsXG4gICAgICAgICAgYXBwOiB0aGlzLl9icm93c2VyUGxheWVyPy5pdGVtLm1lZGlhX2NsYXNzID09PSBcImFwcFwiLFxuICAgICAgICB9KX1cbiAgICAgICAgQGNsaWNrPSR7dGhpcy5fb3Blbk1vcmVJbmZvfVxuICAgICAgPlxuICAgICAgICAke21lZGlhQXJ0ID8gaHRtbGA8aW1nIHNyYz0ke3RoaXMuaGFzcy5oYXNzVXJsKG1lZGlhQXJ0KX0gLz5gIDogXCJcIn1cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWluZm9cIj5cbiAgICAgICAgICA8aHVpLW1hcnF1ZWVcbiAgICAgICAgICAgIC50ZXh0PSR7bWVkaWFUaXRsZUNsZWFuIHx8XG4gICAgICAgICAgICBtZWRpYURlc2NyaXB0aW9uIHx8XG4gICAgICAgICAgICBjbGVhbnVwTWVkaWFUaXRsZShzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX2NvbnRlbnRfaWQpIHx8XG4gICAgICAgICAgICAoc3RhdGVPYmouc3RhdGUgIT09IFwicGxheWluZ1wiICYmIHN0YXRlT2JqLnN0YXRlICE9PSBcIm9uXCJcbiAgICAgICAgICAgICAgPyB0aGlzLmhhc3MubG9jYWxpemUoYHVpLmNhcmQubWVkaWFfcGxheWVyLm5vdGhpbmdfcGxheWluZ2ApXG4gICAgICAgICAgICAgIDogXCJcIil9XG4gICAgICAgICAgICAuYWN0aXZlPSR7dGhpcy5fbWFycXVlZUFjdGl2ZX1cbiAgICAgICAgICAgIEBtb3VzZW92ZXI9JHt0aGlzLl9tYXJxdWVlTW91c2VPdmVyfVxuICAgICAgICAgICAgQG1vdXNlbGVhdmU9JHt0aGlzLl9tYXJxdWVlTW91c2VMZWF2ZX1cbiAgICAgICAgICA+PC9odWktbWFycXVlZT5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInNlY29uZGFyeVwiPlxuICAgICAgICAgICAgJHttZWRpYVRpdGxlQ2xlYW4gPyBtZWRpYURlc2NyaXB0aW9uIDogXCJcIn1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiY29udHJvbHMtcHJvZ3Jlc3NcIj5cbiAgICAgICAgJHt0aGlzLl9icm93c2VyUGxheWVyPy5idWZmZXJpbmdcbiAgICAgICAgICA/IGh0bWxgIDxoYS1jaXJjdWxhci1wcm9ncmVzcyBhY3RpdmU+PC9oYS1jaXJjdWxhci1wcm9ncmVzcz4gYFxuICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRyb2xzXCI+XG4gICAgICAgICAgICAgICAgJHtjb250cm9scyA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICA/IFwiXCJcbiAgICAgICAgICAgICAgICAgIDogY29udHJvbHMubWFwKFxuICAgICAgICAgICAgICAgICAgICAgIChjb250cm9sKSA9PiBodG1sYFxuICAgICAgICAgICAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5sYWJlbD0ke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBgdWkuY2FyZC5tZWRpYV9wbGF5ZXIuJHtjb250cm9sLmFjdGlvbn1gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7Y29udHJvbC5pY29ufVxuICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249JHtjb250cm9sLmFjdGlvbn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5faGFuZGxlQ29udHJvbENsaWNrfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9oYS1pY29uLWJ1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAke3N0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfZHVyYXRpb24gPT09IEluZmluaXR5XG4gICAgICAgICAgICAgICAgPyBodG1sYGBcbiAgICAgICAgICAgICAgICA6IHRoaXMubmFycm93XG4gICAgICAgICAgICAgICAgPyBodG1sYDxtd2MtbGluZWFyLXByb2dyZXNzPjwvbXdjLWxpbmVhci1wcm9ncmVzcz5gXG4gICAgICAgICAgICAgICAgOiBodG1sYFxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3NcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiQ3VycmVudFByb2dyZXNzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPG13Yy1saW5lYXItcHJvZ3Jlc3Mgd2lkZT48L213Yy1saW5lYXItcHJvZ3Jlc3M+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdj4ke21lZGlhRHVyYXRpb259PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIGB9XG4gICAgICA8L2Rpdj5cbiAgICAgICR7dGhpcy5fcmVuZGVyQ2hvb3NlUGxheWVyKHN0YXRlT2JqKX1cbiAgICBgO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVuZGVyQ2hvb3NlUGxheWVyKHN0YXRlT2JqOiBNZWRpYVBsYXllckVudGl0eSB8IHVuZGVmaW5lZCkge1xuICAgIGNvbnN0IGlzQnJvd3NlciA9IHRoaXMuZW50aXR5SWQgPT09IEJST1dTRVJfUExBWUVSO1xuICAgIHJldHVybiBodG1sYFxuICAgIDxkaXYgY2xhc3M9XCJjaG9vc2UtcGxheWVyICR7aXNCcm93c2VyID8gXCJicm93c2VyXCIgOiBcIlwifVwiPlxuICAgICAgJHtcbiAgICAgICAgIXRoaXMubmFycm93ICYmXG4gICAgICAgIHN0YXRlT2JqICYmXG4gICAgICAgIHN1cHBvcnRzRmVhdHVyZShzdGF0ZU9iaiwgU1VQUE9SVF9WT0xVTUVfU0VUKVxuICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgPGhhLWJ1dHRvbi1tZW51IGNvcm5lcj1cIkJPVFRPTV9TVEFSVFwiIHk9XCIwXCIgeD1cIjc2XCI+XG4gICAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgICBzbG90PVwidHJpZ2dlclwiXG4gICAgICAgICAgICAgICAgICAucGF0aD0ke21kaVZvbHVtZUhpZ2h9XG4gICAgICAgICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24+XG4gICAgICAgICAgICAgICAgPGhhLXNsaWRlclxuICAgICAgICAgICAgICAgICAgbWluPVwiMFwiXG4gICAgICAgICAgICAgICAgICBtYXg9XCIxMDBcIlxuICAgICAgICAgICAgICAgICAgc3RlcD1cIjFcIlxuICAgICAgICAgICAgICAgICAgLnZhbHVlPSR7c3RhdGVPYmouYXR0cmlidXRlcy52b2x1bWVfbGV2ZWwhICogMTAwfVxuICAgICAgICAgICAgICAgICAgQGNoYW5nZT0ke3RoaXMuX2hhbmRsZVZvbHVtZUNoYW5nZX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPC9oYS1zbGlkZXI+XG4gICAgICAgICAgICAgIDwvaGEtYnV0dG9uLW1lbnU+XG4gICAgICAgICAgICBgXG4gICAgICAgICAgOiBcIlwiXG4gICAgICB9XG5cbiAgICAgICAgICA8aGEtYnV0dG9uLW1lbnUgY29ybmVyPVwiQk9UVE9NX1NUQVJUXCI+XG4gICAgICAgICAgICAke1xuICAgICAgICAgICAgICB0aGlzLm5hcnJvd1xuICAgICAgICAgICAgICAgID8gaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPGhhLWljb24tYnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgc2xvdD1cInRyaWdnZXJcIlxuICAgICAgICAgICAgICAgICAgICAgIC5wYXRoPSR7aXNCcm93c2VyXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG1kaU1vbml0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZG9tYWluSWNvbihjb21wdXRlRG9tYWluKHRoaXMuZW50aXR5SWQpLCBzdGF0ZU9iail9XG4gICAgICAgICAgICAgICAgICAgID48L2hhLWljb24tYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgICAgPG13Yy1idXR0b25cbiAgICAgICAgICAgICAgICAgICAgICBzbG90PVwidHJpZ2dlclwiXG4gICAgICAgICAgICAgICAgICAgICAgLmxhYmVsPSR7dGhpcy5uYXJyb3dcbiAgICAgICAgICAgICAgICAgICAgICAgID8gXCJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBgJHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZU9ialxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBjb21wdXRlU3RhdGVOYW1lKHN0YXRlT2JqKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLmVudGl0eUlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBgfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGhhLXN2Zy1pY29uXG4gICAgICAgICAgICAgICAgICAgICAgICBzbG90PVwiaWNvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAucGF0aD0ke2lzQnJvd3NlclxuICAgICAgICAgICAgICAgICAgICAgICAgICA/IG1kaU1vbml0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBkb21haW5JY29uKGNvbXB1dGVEb21haW4odGhpcy5lbnRpdHlJZCksIHN0YXRlT2JqKX1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgICA8aGEtc3ZnLWljb25cbiAgICAgICAgICAgICAgICAgICAgICAgIHNsb3Q9XCJ0cmFpbGluZ0ljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgLnBhdGg9JHttZGlDaGV2cm9uRG93bn1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9oYS1zdmctaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9td2MtYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgYFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgPG13Yy1saXN0LWl0ZW1cbiAgICAgICAgICAgICAgLnBsYXllcj0ke0JST1dTRVJfUExBWUVSfVxuICAgICAgICAgICAgICA/c2VsZWN0ZWQ9JHtpc0Jyb3dzZXJ9XG4gICAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3NlbGVjdFBsYXllcn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXCJ1aS5jb21wb25lbnRzLm1lZGlhLWJyb3dzZXIud2ViLWJyb3dzZXJcIil9XG4gICAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG4gICAgICAgICAgICAke3RoaXMuX21lZGlhUGxheWVyRW50aXRpZXMubWFwKFxuICAgICAgICAgICAgICAoc291cmNlKSA9PiBodG1sYFxuICAgICAgICAgICAgICAgIDxtd2MtbGlzdC1pdGVtXG4gICAgICAgICAgICAgICAgICA/c2VsZWN0ZWQ9JHtzb3VyY2UuZW50aXR5X2lkID09PSB0aGlzLmVudGl0eUlkfVxuICAgICAgICAgICAgICAgICAgLmRpc2FibGVkPSR7VU5BVkFJTEFCTEVfU1RBVEVTLmluY2x1ZGVzKHNvdXJjZS5zdGF0ZSl9XG4gICAgICAgICAgICAgICAgICAucGxheWVyPSR7c291cmNlLmVudGl0eV9pZH1cbiAgICAgICAgICAgICAgICAgIEBjbGljaz0ke3RoaXMuX3NlbGVjdFBsYXllcn1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAke2NvbXB1dGVTdGF0ZU5hbWUoc291cmNlKX1cbiAgICAgICAgICAgICAgICA8L213Yy1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgIGBcbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9oYS1idXR0b24tbWVudT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgIGA7XG4gIH1cblxuICBwdWJsaWMgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKSB7XG4gICAgc3VwZXIud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHMpO1xuICAgIGlmIChjaGFuZ2VkUHJvcHMuaGFzKFwiZW50aXR5SWRcIikpIHtcbiAgICAgIHRoaXMuX3RlYXJEb3duQnJvd3NlclBsYXllcigpO1xuICAgIH1cbiAgICBpZiAoIWNoYW5nZWRQcm9wcy5oYXMoXCJoYXNzXCIpIHx8IHRoaXMuZW50aXR5SWQgPT09IEJST1dTRVJfUExBWUVSKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIFJlc2V0IG5ldyBtZWRpYSBleHBlY3RlZCBpZiBtZWRpYSBwbGF5ZXIgc3RhdGUgY2hhbmdlc1xuICAgIGNvbnN0IG9sZEhhc3MgPSBjaGFuZ2VkUHJvcHMuZ2V0KFwiaGFzc1wiKSBhcyBIb21lQXNzaXN0YW50IHwgdW5kZWZpbmVkO1xuICAgIGlmIChcbiAgICAgICFvbGRIYXNzIHx8XG4gICAgICBvbGRIYXNzLnN0YXRlc1t0aGlzLmVudGl0eUlkXSAhPT0gdGhpcy5oYXNzLnN0YXRlc1t0aGlzLmVudGl0eUlkXVxuICAgICkge1xuICAgICAgdGhpcy5fbmV3TWVkaWFFeHBlY3RlZCA9IGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCB1cGRhdGVkKGNoYW5nZWRQcm9wczogUHJvcGVydHlWYWx1ZXMpIHtcbiAgICBzdXBlci51cGRhdGVkKGNoYW5nZWRQcm9wcyk7XG5cbiAgICBpZiAodGhpcy5lbnRpdHlJZCA9PT0gQlJPV1NFUl9QTEFZRVIpIHtcbiAgICAgIGlmICghY2hhbmdlZFByb3BzLmhhcyhcIl9icm93c2VyUGxheWVyXCIpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3Qgb2xkSGFzcyA9IGNoYW5nZWRQcm9wcy5nZXQoXCJoYXNzXCIpIGFzIEhvbWVBc3Npc3RhbnQgfCB1bmRlZmluZWQ7XG4gICAgICBpZiAob2xkSGFzcyAmJiBvbGRIYXNzLnN0YXRlc1t0aGlzLmVudGl0eUlkXSA9PT0gdGhpcy5fc3RhdGVPYmopIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICB0aGlzLl91cGRhdGVQcm9ncmVzc0JhcigpO1xuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuX3Byb2dyZXNzSW50ZXJ2YWwgJiZcbiAgICAgIHRoaXMuX3Nob3dQcm9ncmVzc0JhciAmJlxuICAgICAgc3RhdGVPYmo/LnN0YXRlID09PSBcInBsYXlpbmdcIlxuICAgICkge1xuICAgICAgdGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCA9IHdpbmRvdy5zZXRJbnRlcnZhbChcbiAgICAgICAgKCkgPT4gdGhpcy5fdXBkYXRlUHJvZ3Jlc3NCYXIoKSxcbiAgICAgICAgMTAwMFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgdGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCAmJlxuICAgICAgKCF0aGlzLl9zaG93UHJvZ3Jlc3NCYXIgfHwgc3RhdGVPYmo/LnN0YXRlICE9PSBcInBsYXlpbmdcIilcbiAgICApIHtcbiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5fcHJvZ3Jlc3NJbnRlcnZhbCk7XG4gICAgICB0aGlzLl9wcm9ncmVzc0ludGVydmFsID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0IF9zdGF0ZU9iaigpOiBNZWRpYVBsYXllckVudGl0eSB8IHVuZGVmaW5lZCB7XG4gICAgaWYgKHRoaXMuZW50aXR5SWQgPT09IEJST1dTRVJfUExBWUVSKSB7XG4gICAgICByZXR1cm4gdGhpcy5fYnJvd3NlclBsYXllclxuICAgICAgICA/IHRoaXMuX2Jyb3dzZXJQbGF5ZXIudG9TdGF0ZU9iaigpXG4gICAgICAgIDogQnJvd3Nlck1lZGlhUGxheWVyLmlkbGVTdGF0ZU9iaigpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5oYXNzIS5zdGF0ZXNbdGhpcy5lbnRpdHlJZF0gYXMgTWVkaWFQbGF5ZXJFbnRpdHkgfCB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIF90ZWFyRG93bkJyb3dzZXJQbGF5ZXIoKSB7XG4gICAgaWYgKHRoaXMuX2Jyb3dzZXJQbGF5ZXIpIHtcbiAgICAgIHRoaXMuX2Jyb3dzZXJQbGF5ZXIucmVtb3ZlKCk7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgX29wZW5Nb3JlSW5mbygpIHtcbiAgICBpZiAodGhpcy5fYnJvd3NlclBsYXllcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLW1vcmUtaW5mb1wiLCB7IGVudGl0eUlkOiB0aGlzLmVudGl0eUlkIH0pO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX3Nob3dQcm9ncmVzc0JhcigpIHtcbiAgICBpZiAoIXRoaXMuaGFzcykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICByZXR1cm4gKFxuICAgICAgc3RhdGVPYmogJiZcbiAgICAgIChzdGF0ZU9iai5zdGF0ZSA9PT0gXCJwbGF5aW5nXCIgfHwgc3RhdGVPYmouc3RhdGUgPT09IFwicGF1c2VkXCIpICYmXG4gICAgICBcIm1lZGlhX2R1cmF0aW9uXCIgaW4gc3RhdGVPYmouYXR0cmlidXRlcyAmJlxuICAgICAgXCJtZWRpYV9wb3NpdGlvblwiIGluIHN0YXRlT2JqLmF0dHJpYnV0ZXNcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXQgX21lZGlhUGxheWVyRW50aXRpZXMoKSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy5oYXNzIS5zdGF0ZXMpLmZpbHRlcihcbiAgICAgIChlbnRpdHkpID0+XG4gICAgICAgIGNvbXB1dGVTdGF0ZURvbWFpbihlbnRpdHkpID09PSBcIm1lZGlhX3BsYXllclwiICYmXG4gICAgICAgIHN1cHBvcnRzRmVhdHVyZShlbnRpdHksIFNVUFBPUlRfQlJPV1NFX01FRElBKSAmJlxuICAgICAgICAhdGhpcy5faGlkZGVuRW50aXRpZXMuaGFzKGVudGl0eS5lbnRpdHlfaWQpXG4gICAgKTtcbiAgfVxuXG4gIHByaXZhdGUgX3VwZGF0ZVByb2dyZXNzQmFyKCk6IHZvaWQge1xuICAgIGNvbnN0IHN0YXRlT2JqID0gdGhpcy5fc3RhdGVPYmo7XG5cbiAgICBpZiAoIXRoaXMuX3Byb2dyZXNzQmFyIHx8ICF0aGlzLl9jdXJyZW50UHJvZ3Jlc3MgfHwgIXN0YXRlT2JqKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFzdGF0ZU9iai5hdHRyaWJ1dGVzLm1lZGlhX2R1cmF0aW9uKSB7XG4gICAgICB0aGlzLl9wcm9ncmVzc0Jhci5wcm9ncmVzcyA9IDA7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3Jlc3MuaW5uZXJIVE1MID0gXCJcIjtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBjdXJyZW50UHJvZ3Jlc3MgPSBnZXRDdXJyZW50UHJvZ3Jlc3Moc3RhdGVPYmopO1xuICAgIHRoaXMuX3Byb2dyZXNzQmFyLnByb2dyZXNzID1cbiAgICAgIGN1cnJlbnRQcm9ncmVzcyAvIHN0YXRlT2JqLmF0dHJpYnV0ZXMubWVkaWFfZHVyYXRpb247XG5cbiAgICBpZiAodGhpcy5fY3VycmVudFByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9jdXJyZW50UHJvZ3Jlc3MuaW5uZXJIVE1MID0gZm9ybWF0TWVkaWFUaW1lKGN1cnJlbnRQcm9ncmVzcyk7XG4gICAgfVxuICB9XG5cbiAgcHJvdGVjdGVkIG92ZXJyaWRlIGhhc3NTdWJzY3JpYmUoKTogKFxuICAgIHwgVW5zdWJzY3JpYmVGdW5jXG4gICAgfCBQcm9taXNlPFVuc3Vic2NyaWJlRnVuYz5cbiAgKVtdIHtcbiAgICByZXR1cm4gW1xuICAgICAgc3Vic2NyaWJlRW50aXR5UmVnaXN0cnkodGhpcy5oYXNzLmNvbm5lY3Rpb24sIChlbnRyaWVzKSA9PiB7XG4gICAgICAgIGNvbnN0IGhpZGRlbkVudGl0aWVzID0gbmV3IFNldDxzdHJpbmc+KCk7XG5cbiAgICAgICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZW50cnkuaGlkZGVuX2J5ICYmXG4gICAgICAgICAgICBjb21wdXRlRG9tYWluKGVudHJ5LmVudGl0eV9pZCkgPT09IFwibWVkaWFfcGxheWVyXCJcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGhpZGRlbkVudGl0aWVzLmFkZChlbnRyeS5lbnRpdHlfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2hpZGRlbkVudGl0aWVzID0gaGlkZGVuRW50aXRpZXM7XG4gICAgICB9KSxcbiAgICBdO1xuICB9XG5cbiAgcHJpdmF0ZSBfaGFuZGxlQ29udHJvbENsaWNrKGU6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBhY3Rpb24gPSAoZS5jdXJyZW50VGFyZ2V0ISBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpITtcblxuICAgIGlmICghdGhpcy5fYnJvd3NlclBsYXllcikge1xuICAgICAgaGFuZGxlTWVkaWFDb250cm9sQ2xpY2soXG4gICAgICAgIHRoaXMuaGFzcyEsXG4gICAgICAgIHRoaXMuX3N0YXRlT2JqISxcbiAgICAgICAgKGUuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuZ2V0QXR0cmlidXRlKFwiYWN0aW9uXCIpIVxuICAgICAgKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGFjdGlvbiA9PT0gXCJtZWRpYV9wYXVzZVwiKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnBhdXNlKCk7XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwibWVkaWFfcGxheVwiKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnBsYXkoKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9tYXJxdWVlTW91c2VPdmVyKCk6IHZvaWQge1xuICAgIGlmICghdGhpcy5fbWFycXVlZUFjdGl2ZSkge1xuICAgICAgdGhpcy5fbWFycXVlZUFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgcHJpdmF0ZSBfbWFycXVlZU1vdXNlTGVhdmUoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuX21hcnF1ZWVBY3RpdmUpIHtcbiAgICAgIHRoaXMuX21hcnF1ZWVBY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIF9zZWxlY3RQbGF5ZXIoZXY6IEN1c3RvbUV2ZW50KTogdm9pZCB7XG4gICAgY29uc3QgZW50aXR5SWQgPSAoZXYuY3VycmVudFRhcmdldCBhcyBhbnkpLnBsYXllcjtcbiAgICBmaXJlRXZlbnQodGhpcywgXCJwbGF5ZXItcGlja2VkXCIsIHsgZW50aXR5SWQgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9oYW5kbGVWb2x1bWVDaGFuZ2UoZXYpIHtcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBjb25zdCB2YWx1ZSA9IE51bWJlcihldi50YXJnZXQudmFsdWUpIC8gMTAwO1xuICAgIGlmICh0aGlzLl9icm93c2VyUGxheWVyKSB7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyVm9sdW1lID0gdmFsdWU7XG4gICAgICB0aGlzLl9icm93c2VyUGxheWVyLnNldFZvbHVtZSh2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IHNldE1lZGlhUGxheWVyVm9sdW1lKHRoaXMuaGFzcywgdGhpcy5lbnRpdHlJZCwgdmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBnZXQgc3R5bGVzKCk6IENTU1Jlc3VsdEdyb3VwIHtcbiAgICByZXR1cm4gY3NzYFxuICAgICAgOmhvc3Qge1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBtaW4taGVpZ2h0OiAxMDBweDtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKFxuICAgICAgICAgIC0taGEtY2FyZC1iYWNrZ3JvdW5kLFxuICAgICAgICAgIHZhcigtLWNhcmQtYmFja2dyb3VuZC1jb2xvciwgd2hpdGUpXG4gICAgICAgICk7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cblxuICAgICAgbXdjLWxpbmVhci1wcm9ncmVzcyB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBwYWRkaW5nOiAwIDRweDtcbiAgICAgICAgLS1tZGMtdGhlbWUtcHJpbWFyeTogdmFyKC0tc2Vjb25kYXJ5LXRleHQtY29sb3IpO1xuICAgICAgfVxuXG4gICAgICBtd2MtYnV0dG9uW3Nsb3Q9XCJ0cmlnZ2VyXCJdIHtcbiAgICAgICAgLS1tZGMtdGhlbWUtcHJpbWFyeTogdmFyKC0tcHJpbWFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgLS1tZGMtaWNvbi1zaXplOiAzNnB4O1xuICAgICAgfVxuXG4gICAgICAuaW5mbyB7XG4gICAgICAgIGZsZXg6IDE7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBtYXJnaW4tcmlnaHQ6IDE2cHg7XG4gICAgICAgIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xuICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgICAgfVxuXG4gICAgICAucG9pbnRlciB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgIH1cblxuICAgICAgLnNlY29uZGFyeSxcbiAgICAgIC5wcm9ncmVzcyB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1zZWNvbmRhcnktdGV4dC1jb2xvcik7XG4gICAgICB9XG5cbiAgICAgIC5jaG9vc2UtcGxheWVyIHtcbiAgICAgICAgZmxleDogMTtcbiAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cblxuICAgICAgLmNvbnRyb2xzIHtcbiAgICAgICAgaGVpZ2h0OiA0OHB4O1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNHB4O1xuICAgICAgfVxuXG4gICAgICAuY29udHJvbHMtcHJvZ3Jlc3Mge1xuICAgICAgICBmbGV4OiAyO1xuICAgICAgICBkaXNwbGF5OiBmbGV4O1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAgICAgICAgZGlyZWN0aW9uOiBsdHI7XG4gICAgICB9XG5cbiAgICAgIC5wcm9ncmVzcyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgICAgfVxuXG4gICAgICBtd2MtbGluZWFyLXByb2dyZXNzW3dpZGVdIHtcbiAgICAgICAgbWFyZ2luOiAwIDRweDtcbiAgICAgIH1cblxuICAgICAgLm1lZGlhLWluZm8ge1xuICAgICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICAgICAgcGFkZGluZy1sZWZ0OiAxNnB4O1xuICAgICAgICB3aWR0aDogMTAwJTtcbiAgICAgIH1cblxuICAgICAgaHVpLW1hcnF1ZWUge1xuICAgICAgICBmb250LXNpemU6IDEuMmVtO1xuICAgICAgICBtYXJnaW46IDBweCAwIDRweDtcbiAgICAgIH1cblxuICAgICAgaW1nIHtcbiAgICAgICAgbWF4LWhlaWdodDogMTAwcHg7XG4gICAgICAgIG1heC13aWR0aDogMTAwcHg7XG4gICAgICB9XG5cbiAgICAgIC5hcHAgaW1nIHtcbiAgICAgICAgbWF4LWhlaWdodDogNjhweDtcbiAgICAgICAgbWFyZ2luOiAxNnB4IDAgMTZweCAxNnB4O1xuICAgICAgfVxuXG4gICAgICBoYS1idXR0b24tbWVudSBtd2MtYnV0dG9uIHtcbiAgICAgICAgbGluZS1oZWlnaHQ6IDE7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSB7XG4gICAgICAgIG1pbi1oZWlnaHQ6IDU2cHg7XG4gICAgICAgIG1heC1oZWlnaHQ6IDU2cHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSAuY29udHJvbHMtcHJvZ3Jlc3Mge1xuICAgICAgICBmbGV4OiB1bnNldDtcbiAgICAgICAgbWluLXdpZHRoOiA0OHB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgLm1lZGlhLWluZm8ge1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDhweDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIC5jb250cm9scyB7XG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgIHBhZGRpbmctYm90dG9tOiAwO1xuICAgICAgICAtLW1kYy1pY29uLXNpemU6IDMwcHg7XG4gICAgICB9XG5cbiAgICAgIDpob3N0KFtuYXJyb3ddKSAuY2hvb3NlLXBsYXllciB7XG4gICAgICAgIHBhZGRpbmctbGVmdDogMDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogOHB4O1xuICAgICAgICBtaW4td2lkdGg6IDQ4cHg7XG4gICAgICAgIGZsZXg6IHVuc2V0O1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIC5jaG9vc2UtcGxheWVyLmJyb3dzZXIge1xuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgaW1nIHtcbiAgICAgICAgbWF4LWhlaWdodDogNTZweDtcbiAgICAgICAgbWF4LXdpZHRoOiA1NnB4O1xuICAgICAgfVxuXG4gICAgICA6aG9zdChbbmFycm93XSkgLmJsYW5rLWltYWdlIHtcbiAgICAgICAgaGVpZ2h0OiA1NnB4O1xuICAgICAgICB3aWR0aDogNTZweDtcbiAgICAgIH1cblxuICAgICAgOmhvc3QoW25hcnJvd10pIG13Yy1saW5lYXItcHJvZ3Jlc3Mge1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIHRvcDogLTRweDtcbiAgICAgICAgbGVmdDogMDtcbiAgICAgIH1cblxuICAgICAgbXdjLWxpc3QtaXRlbVtzZWxlY3RlZF0ge1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgIH1cblxuICAgICAgaGEtc3ZnLWljb25bc2xvdD1cImljb25cIl0ge1xuICAgICAgICBtYXJnaW4taW5saW5lLXN0YXJ0OiA4cHggIWltcG9ydGFudDtcbiAgICAgICAgbWFyZ2luLWlubGluZS1lbmQ6IDhweCAhaW1wb3J0YW50O1xuICAgICAgICBkaXJlY3Rpb246IHZhcigtLWRpcmVjdGlvbik7XG4gICAgICB9XG4gICAgICBoYS1zdmctaWNvbltzbG90PVwidHJhaWxpbmdJY29uXCJdIHtcbiAgICAgICAgbWFyZ2luLWlubGluZS1zdGFydDogOHB4ICFpbXBvcnRhbnQ7XG4gICAgICAgIG1hcmdpbi1pbmxpbmUtZW5kOiAwcHggIWltcG9ydGFudDtcbiAgICAgICAgZGlyZWN0aW9uOiB2YXIoLS1kaXJlY3Rpb24pO1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLWJhci1tZWRpYS1wbGF5ZXJcIjogQmFyTWVkaWFQbGF5ZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/media-browser/ha-bar-media-player.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/ha-panel-media-browser.ts":
/*!************************************************************!*\
  !*** ./src/panels/media-browser/ha-panel-media-browser.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _polymer_app_layout_app_header_app_header__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @polymer/app-layout/app-header/app-header */ \"./node_modules/@polymer/app-layout/app-header/app-header.js\");\n/* harmony import */ var _polymer_app_layout_app_toolbar_app_toolbar__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @polymer/app-layout/app-toolbar/app-toolbar */ \"./node_modules/@polymer/app-layout/app-toolbar/app-toolbar.js\");\n/* harmony import */ var _material_mwc_button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-button */ \"./node_modules/@material/mwc-button/mwc-button.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../common/decorators/local-storage */ \"./src/common/decorators/local-storage.ts\");\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n/* harmony import */ var _common_navigate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../common/navigate */ \"./src/common/navigate.ts\");\n/* harmony import */ var _components_ha_menu_button__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../components/ha-menu-button */ \"./src/components/ha-menu-button.ts\");\n/* harmony import */ var _components_ha_icon_button__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../components/ha-icon-button */ \"./src/components/ha-icon-button.ts\");\n/* harmony import */ var _components_ha_icon_button_arrow_prev__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../components/ha-icon-button-arrow-prev */ \"./src/components/ha-icon-button-arrow-prev.ts\");\n/* harmony import */ var _components_media_player_ha_media_player_browse__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../components/media-player/ha-media-player-browse */ \"./src/components/media-player/ha-media-player-browse.ts\");\n/* harmony import */ var _components_media_player_ha_media_manage_button__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../components/media-player/ha-media-manage-button */ \"./src/components/media-player/ha-media-manage-button.ts\");\n/* harmony import */ var _data_media_player__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../data/media-player */ \"./src/data/media-player.ts\");\n/* harmony import */ var _data_media_source__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../data/media_source */ \"./src/data/media_source.ts\");\n/* harmony import */ var _layouts_ha_app_layout__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../layouts/ha-app-layout */ \"./src/layouts/ha-app-layout.js\");\n/* harmony import */ var _resources_styles__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../resources/styles */ \"./src/resources/styles.ts\");\n/* harmony import */ var _ha_bar_media_player__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ha-bar-media-player */ \"./src/panels/media-browser/ha-bar-media-player.ts\");\n/* harmony import */ var _show_media_player_dialog__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./show-media-player-dialog */ \"./src/panels/media-browser/show-media-player-dialog.ts\");\n/* harmony import */ var _dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../../dialogs/generic/show-dialog-box */ \"./src/dialogs/generic/show-dialog-box.ts\");\n/* harmony import */ var _data_camera__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../data/camera */ \"./src/data/camera.ts\");\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _get(target, property, receiver) { if (typeof Reflect !== \"undefined\" && Reflect.get) { _get = Reflect.get; } else { _get = function _get(target, property, receiver) { var base = _superPropBase(target, property); if (!base) return; var desc = Object.getOwnPropertyDescriptor(base, property); if (desc.get) { return desc.get.call(receiver); } return desc.value; }; } return _get(target, property, receiver || target); }\n\nfunction _superPropBase(object, property) { while (!Object.prototype.hasOwnProperty.call(object, property)) { object = _getPrototypeOf(object); if (object === null) break; } return object; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nconst mdiArrowLeft = \"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z\";\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst createMediaPanelUrl = (entityId, items) => {\n  let path = `/media-browser/${entityId}`;\n\n  for (const item of items.slice(1)) {\n    path += \"/\" + encodeURIComponent(`${item.media_content_type},${item.media_content_id}`);\n  }\n\n  return path;\n};\n\nlet PanelMediaBrowser = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.customElement)(\"ha-panel-media-browser\")], function (_initialize, _LitElement) {\n  class PanelMediaBrowser extends _LitElement {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: PanelMediaBrowser,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)({\n        type: Boolean,\n        reflect: true\n      })],\n      key: \"narrow\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.property)()],\n      key: \"route\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.state)()],\n      key: \"_currentItem\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"_navigateIds\",\n\n      value() {\n        return [{\n          media_content_id: undefined,\n          media_content_type: undefined\n        }];\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,_common_decorators_local_storage__WEBPACK_IMPORTED_MODULE_5__.LocalStorage)(\"mediaBrowseEntityId\", true, false)],\n      key: \"_entityId\",\n\n      value() {\n        return _data_media_player__WEBPACK_IMPORTED_MODULE_13__.BROWSER_PLAYER;\n      }\n\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"ha-media-player-browse\")],\n      key: \"_browser\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_4__.query)(\"ha-bar-media-player\")],\n      key: \"_player\",\n      value: void 0\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <ha-app-layout>\n        <app-header fixed slot=\"header\">\n          <app-toolbar>\n            ${this._navigateIds.length > 1 ? lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                  <ha-icon-button-arrow-prev\n                    .path=${mdiArrowLeft}\n                    @click=${this._goBack}\n                  ></ha-icon-button-arrow-prev>\n                ` : lit__WEBPACK_IMPORTED_MODULE_3__.html`\n                  <ha-menu-button\n                    .hass=${this.hass}\n                    .narrow=${this.narrow}\n                  ></ha-menu-button>\n                `}\n            <div main-title>\n              ${!this._currentItem ? this.hass.localize(\"ui.components.media-browser.media-player-browser\") : this._currentItem.title}\n            </div>\n            <ha-media-manage-button\n              .hass=${this.hass}\n              .currentItem=${this._currentItem}\n              @media-refresh=${this._refreshMedia}\n            ></ha-media-manage-button>\n          </app-toolbar>\n        </app-header>\n        <ha-media-player-browse\n          .hass=${this.hass}\n          .entityId=${this._entityId}\n          .navigateIds=${this._navigateIds}\n          @media-picked=${this._mediaPicked}\n          @media-browsed=${this._mediaBrowsed}\n        ></ha-media-player-browse>\n      </ha-app-layout>\n      <ha-bar-media-player\n        .hass=${this.hass}\n        .entityId=${this._entityId}\n        .narrow=${this.narrow}\n        @player-picked=${this._playerPicked}\n      ></ha-bar-media-player>\n    `;\n      }\n    }, {\n      kind: \"method\",\n      key: \"willUpdate\",\n      value: function willUpdate(changedProps) {\n        _get(_getPrototypeOf(PanelMediaBrowser.prototype), \"willUpdate\", this).call(this, changedProps);\n\n        if (!changedProps.has(\"route\")) {\n          return;\n        }\n\n        if (this.route.path === \"\") {\n          (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(`/media-browser/${this._entityId}`, {\n            replace: true\n          });\n          return;\n        }\n\n        const [routePlayer, ...navigateIdsEncoded] = this.route.path.substring(1).split(\"/\");\n\n        if (routePlayer !== this._entityId) {\n          // Detect if picked player doesn't exist (anymore)\n          // Can happen if URL bookmarked or stored in local storage\n          if (routePlayer !== _data_media_player__WEBPACK_IMPORTED_MODULE_13__.BROWSER_PLAYER && this.hass.states[routePlayer] === undefined) {\n            (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(`/media-browser/${_data_media_player__WEBPACK_IMPORTED_MODULE_13__.BROWSER_PLAYER}`, {\n              replace: true\n            });\n            (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_19__.showAlertDialog)(this, {\n              text: this.hass.localize(\"ui.panel.media-browser.error.player_not_exist\", {\n                name: routePlayer\n              })\n            });\n            return;\n          }\n\n          this._entityId = routePlayer;\n        }\n\n        this._navigateIds = [{\n          media_content_type: undefined,\n          media_content_id: undefined\n        }, ...navigateIdsEncoded.map(navigateId => {\n          const decoded = decodeURIComponent(navigateId); // Don't use split because media_content_id could contain commas\n\n          const delimiter = decoded.indexOf(\",\");\n          return {\n            media_content_type: decoded.substring(0, delimiter),\n            media_content_id: decoded.substring(delimiter + 1)\n          };\n        })];\n        this._currentItem = undefined;\n      }\n    }, {\n      kind: \"method\",\n      key: \"_goBack\",\n      value: function _goBack() {\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(this._entityId, this._navigateIds.slice(0, -1)));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaBrowsed\",\n      value: function _mediaBrowsed(ev) {\n        if (ev.detail.ids === this._navigateIds) {\n          this._currentItem = ev.detail.current;\n          return;\n        }\n\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(this._entityId, ev.detail.ids), {\n          replace: ev.detail.replace\n        });\n      }\n    }, {\n      kind: \"method\",\n      key: \"_mediaPicked\",\n      value: async function _mediaPicked(ev) {\n        const item = ev.detail.item;\n\n        if (this._entityId !== _data_media_player__WEBPACK_IMPORTED_MODULE_13__.BROWSER_PLAYER) {\n          this._player.showResolvingNewMediaPicked();\n\n          try {\n            await (0,_data_media_player__WEBPACK_IMPORTED_MODULE_13__.mediaPlayerPlayMedia)(this.hass, this._entityId, item.media_content_id, item.media_content_type);\n          } catch (err) {\n            this._player.hideResolvingNewMediaPicked();\n          }\n\n          return;\n        } // We won't cancel current media being played if we're going to\n        // open a camera.\n\n\n        if ((0,_data_camera__WEBPACK_IMPORTED_MODULE_20__.isCameraMediaSource)(item.media_content_id)) {\n          (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_6__.fireEvent)(this, \"hass-more-info\", {\n            entityId: (0,_data_camera__WEBPACK_IMPORTED_MODULE_20__.getEntityIdFromCameraMediaSource)(item.media_content_id)\n          });\n          return;\n        }\n\n        this._player.showResolvingNewMediaPicked();\n\n        let resolvedUrl;\n\n        try {\n          resolvedUrl = await (0,_data_media_source__WEBPACK_IMPORTED_MODULE_14__.resolveMediaSource)(this.hass, item.media_content_id);\n        } catch (err) {\n          (0,_dialogs_generic_show_dialog_box__WEBPACK_IMPORTED_MODULE_19__.showAlertDialog)(this, {\n            title: this.hass.localize(\"ui.components.media-browser.media_browsing_error\"),\n            text: err.message\n          });\n\n          this._player.hideResolvingNewMediaPicked();\n\n          return;\n        }\n\n        if (resolvedUrl.mime_type.startsWith(\"audio/\")) {\n          this._player.playItem(item, resolvedUrl);\n\n          return;\n        }\n\n        (0,_show_media_player_dialog__WEBPACK_IMPORTED_MODULE_18__.showWebBrowserPlayMediaDialog)(this, {\n          sourceUrl: resolvedUrl.url,\n          sourceType: resolvedUrl.mime_type,\n          title: item.title,\n          can_play: item.can_play\n        });\n\n        this._player.hideResolvingNewMediaPicked();\n      }\n    }, {\n      kind: \"method\",\n      key: \"_playerPicked\",\n      value: function _playerPicked(ev) {\n        const entityId = ev.detail.entityId;\n\n        if (entityId === this._entityId) {\n          return;\n        }\n\n        (0,_common_navigate__WEBPACK_IMPORTED_MODULE_7__.navigate)(createMediaPanelUrl(entityId, this._navigateIds));\n      }\n    }, {\n      kind: \"method\",\n      key: \"_refreshMedia\",\n      value: function _refreshMedia() {\n        this._browser.refresh();\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return [_resources_styles__WEBPACK_IMPORTED_MODULE_16__.haStyle, lit__WEBPACK_IMPORTED_MODULE_3__.css`\n        app-toolbar {\n          --mdc-theme-primary: var(--app-header-text-color);\n        }\n\n        ha-media-player-browse {\n          height: calc(100vh - (100px + var(--header-height)));\n          direction: ltr;\n        }\n\n        :host([narrow]) ha-media-player-browse {\n          height: calc(100vh - (80px + var(--header-height)));\n        }\n\n        ha-bar-media-player {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          right: 0;\n        }\n      `];\n      }\n    }]\n  };\n}, lit__WEBPACK_IMPORTED_MODULE_3__.LitElement);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtcGFuZWwtbWVkaWEtYnJvd3Nlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQU1BO0FBSUE7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUNBOztBQUtBO0FBQ0E7O0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7O0FBR0E7QUFEQTtBQUNBO0FBQUE7O0FBQUE7QUFBQTs7QUFBQTs7O0FBQUE7OztBQUNBO0FBQUE7QUFBQTs7Ozs7QUFFQTtBQUFBO0FBQUE7QUFBQTs7Ozs7QUFHQTs7Ozs7QUFFQTs7Ozs7Ozs7QUFFQTtBQUVBO0FBQ0E7QUFGQTs7Ozs7QUFNQTs7OztBQUNBOzs7OztBQUVBOzs7OztBQUVBOzs7Ozs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7O0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBR0E7QUFEQTtBQUhBO0FBUUE7QUFDQTs7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUZBO0FBS0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBRUE7QUFDQTs7OztBQUVBO0FBQ0E7QUFHQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQURBO0FBR0E7Ozs7QUFFQTtBQUdBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBR0E7OztBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTs7QUFFQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFKQTs7QUFNQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7O0FBTUE7QUFDQTs7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7Ozs7QUFFQTtBQUNBO0FBQ0E7Ozs7O0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7O0FBaFBBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaG9tZS1hc3Npc3RhbnQtZnJvbnRlbmQvLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvaGEtcGFuZWwtbWVkaWEtYnJvd3Nlci50cz8xYWZjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG1kaUFycm93TGVmdCB9IGZyb20gXCJAbWRpL2pzXCI7XG5pbXBvcnQgXCJAcG9seW1lci9hcHAtbGF5b3V0L2FwcC1oZWFkZXIvYXBwLWhlYWRlclwiO1xuaW1wb3J0IFwiQHBvbHltZXIvYXBwLWxheW91dC9hcHAtdG9vbGJhci9hcHAtdG9vbGJhclwiO1xuaW1wb3J0IFwiQG1hdGVyaWFsL213Yy1idXR0b25cIjtcbmltcG9ydCB7XG4gIGNzcyxcbiAgQ1NTUmVzdWx0R3JvdXAsXG4gIGh0bWwsXG4gIExpdEVsZW1lbnQsXG4gIFByb3BlcnR5VmFsdWVzLFxuICBUZW1wbGF0ZVJlc3VsdCxcbn0gZnJvbSBcImxpdFwiO1xuaW1wb3J0IHsgY3VzdG9tRWxlbWVudCwgcHJvcGVydHksIHF1ZXJ5LCBzdGF0ZSB9IGZyb20gXCJsaXQvZGVjb3JhdG9yc1wiO1xuaW1wb3J0IHsgTG9jYWxTdG9yYWdlIH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kZWNvcmF0b3JzL2xvY2FsLXN0b3JhZ2VcIjtcbmltcG9ydCB7IGZpcmVFdmVudCwgSEFTU0RvbUV2ZW50IH0gZnJvbSBcIi4uLy4uL2NvbW1vbi9kb20vZmlyZV9ldmVudFwiO1xuaW1wb3J0IHsgbmF2aWdhdGUgfSBmcm9tIFwiLi4vLi4vY29tbW9uL25hdmlnYXRlXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLW1lbnUtYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uXCI7XG5pbXBvcnQgXCIuLi8uLi9jb21wb25lbnRzL2hhLWljb24tYnV0dG9uLWFycm93LXByZXZcIjtcbmltcG9ydCBcIi4uLy4uL2NvbXBvbmVudHMvbWVkaWEtcGxheWVyL2hhLW1lZGlhLXBsYXllci1icm93c2VcIjtcbmltcG9ydCBcIi4uLy4uL2NvbXBvbmVudHMvbWVkaWEtcGxheWVyL2hhLW1lZGlhLW1hbmFnZS1idXR0b25cIjtcbmltcG9ydCB0eXBlIHtcbiAgSGFNZWRpYVBsYXllckJyb3dzZSxcbiAgTWVkaWFQbGF5ZXJJdGVtSWQsXG59IGZyb20gXCIuLi8uLi9jb21wb25lbnRzL21lZGlhLXBsYXllci9oYS1tZWRpYS1wbGF5ZXItYnJvd3NlXCI7XG5pbXBvcnQge1xuICBCUk9XU0VSX1BMQVlFUixcbiAgTWVkaWFQaWNrZWRFdmVudCxcbiAgTWVkaWFQbGF5ZXJJdGVtLFxuICBtZWRpYVBsYXllclBsYXlNZWRpYSxcbn0gZnJvbSBcIi4uLy4uL2RhdGEvbWVkaWEtcGxheWVyXCI7XG5pbXBvcnQge1xuICBSZXNvbHZlZE1lZGlhU291cmNlLFxuICByZXNvbHZlTWVkaWFTb3VyY2UsXG59IGZyb20gXCIuLi8uLi9kYXRhL21lZGlhX3NvdXJjZVwiO1xuaW1wb3J0IFwiLi4vLi4vbGF5b3V0cy9oYS1hcHAtbGF5b3V0XCI7XG5pbXBvcnQgeyBoYVN0eWxlIH0gZnJvbSBcIi4uLy4uL3Jlc291cmNlcy9zdHlsZXNcIjtcbmltcG9ydCB0eXBlIHsgSG9tZUFzc2lzdGFudCwgUm91dGUgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCBcIi4vaGEtYmFyLW1lZGlhLXBsYXllclwiO1xuaW1wb3J0IHR5cGUgeyBCYXJNZWRpYVBsYXllciB9IGZyb20gXCIuL2hhLWJhci1tZWRpYS1wbGF5ZXJcIjtcbmltcG9ydCB7IHNob3dXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nIH0gZnJvbSBcIi4vc2hvdy1tZWRpYS1wbGF5ZXItZGlhbG9nXCI7XG5pbXBvcnQgeyBzaG93QWxlcnREaWFsb2cgfSBmcm9tIFwiLi4vLi4vZGlhbG9ncy9nZW5lcmljL3Nob3ctZGlhbG9nLWJveFwiO1xuaW1wb3J0IHtcbiAgZ2V0RW50aXR5SWRGcm9tQ2FtZXJhTWVkaWFTb3VyY2UsXG4gIGlzQ2FtZXJhTWVkaWFTb3VyY2UsXG59IGZyb20gXCIuLi8uLi9kYXRhL2NhbWVyYVwiO1xuXG5jb25zdCBjcmVhdGVNZWRpYVBhbmVsVXJsID0gKGVudGl0eUlkOiBzdHJpbmcsIGl0ZW1zOiBNZWRpYVBsYXllckl0ZW1JZFtdKSA9PiB7XG4gIGxldCBwYXRoID0gYC9tZWRpYS1icm93c2VyLyR7ZW50aXR5SWR9YDtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zLnNsaWNlKDEpKSB7XG4gICAgcGF0aCArPVxuICAgICAgXCIvXCIgK1xuICAgICAgZW5jb2RlVVJJQ29tcG9uZW50KGAke2l0ZW0ubWVkaWFfY29udGVudF90eXBlfSwke2l0ZW0ubWVkaWFfY29udGVudF9pZH1gKTtcbiAgfVxuICByZXR1cm4gcGF0aDtcbn07XG5cbkBjdXN0b21FbGVtZW50KFwiaGEtcGFuZWwtbWVkaWEtYnJvd3NlclwiKVxuY2xhc3MgUGFuZWxNZWRpYUJyb3dzZXIgZXh0ZW5kcyBMaXRFbGVtZW50IHtcbiAgQHByb3BlcnR5KHsgYXR0cmlidXRlOiBmYWxzZSB9KSBwdWJsaWMgaGFzcyE6IEhvbWVBc3Npc3RhbnQ7XG5cbiAgQHByb3BlcnR5KHsgdHlwZTogQm9vbGVhbiwgcmVmbGVjdDogdHJ1ZSB9KVxuICBwdWJsaWMgbmFycm93ITogYm9vbGVhbjtcblxuICBAcHJvcGVydHkoKSBwdWJsaWMgcm91dGUhOiBSb3V0ZTtcblxuICBAc3RhdGUoKSBfY3VycmVudEl0ZW0/OiBNZWRpYVBsYXllckl0ZW07XG5cbiAgcHJpdmF0ZSBfbmF2aWdhdGVJZHM6IE1lZGlhUGxheWVySXRlbUlkW10gPSBbXG4gICAge1xuICAgICAgbWVkaWFfY29udGVudF9pZDogdW5kZWZpbmVkLFxuICAgICAgbWVkaWFfY29udGVudF90eXBlOiB1bmRlZmluZWQsXG4gICAgfSxcbiAgXTtcblxuICBATG9jYWxTdG9yYWdlKFwibWVkaWFCcm93c2VFbnRpdHlJZFwiLCB0cnVlLCBmYWxzZSlcbiAgcHJpdmF0ZSBfZW50aXR5SWQgPSBCUk9XU0VSX1BMQVlFUjtcblxuICBAcXVlcnkoXCJoYS1tZWRpYS1wbGF5ZXItYnJvd3NlXCIpIHByaXZhdGUgX2Jyb3dzZXIhOiBIYU1lZGlhUGxheWVyQnJvd3NlO1xuXG4gIEBxdWVyeShcImhhLWJhci1tZWRpYS1wbGF5ZXJcIikgcHJpdmF0ZSBfcGxheWVyITogQmFyTWVkaWFQbGF5ZXI7XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8aGEtYXBwLWxheW91dD5cbiAgICAgICAgPGFwcC1oZWFkZXIgZml4ZWQgc2xvdD1cImhlYWRlclwiPlxuICAgICAgICAgIDxhcHAtdG9vbGJhcj5cbiAgICAgICAgICAgICR7dGhpcy5fbmF2aWdhdGVJZHMubGVuZ3RoID4gMVxuICAgICAgICAgICAgICA/IGh0bWxgXG4gICAgICAgICAgICAgICAgICA8aGEtaWNvbi1idXR0b24tYXJyb3ctcHJldlxuICAgICAgICAgICAgICAgICAgICAucGF0aD0ke21kaUFycm93TGVmdH1cbiAgICAgICAgICAgICAgICAgICAgQGNsaWNrPSR7dGhpcy5fZ29CYWNrfVxuICAgICAgICAgICAgICAgICAgPjwvaGEtaWNvbi1idXR0b24tYXJyb3ctcHJldj5cbiAgICAgICAgICAgICAgICBgXG4gICAgICAgICAgICAgIDogaHRtbGBcbiAgICAgICAgICAgICAgICAgIDxoYS1tZW51LWJ1dHRvblxuICAgICAgICAgICAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAgICAgICAgICAgLm5hcnJvdz0ke3RoaXMubmFycm93fVxuICAgICAgICAgICAgICAgICAgPjwvaGEtbWVudS1idXR0b24+XG4gICAgICAgICAgICAgICAgYH1cbiAgICAgICAgICAgIDxkaXYgbWFpbi10aXRsZT5cbiAgICAgICAgICAgICAgJHshdGhpcy5fY3VycmVudEl0ZW1cbiAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgXCJ1aS5jb21wb25lbnRzLm1lZGlhLWJyb3dzZXIubWVkaWEtcGxheWVyLWJyb3dzZXJcIlxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIDogdGhpcy5fY3VycmVudEl0ZW0udGl0bGV9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxoYS1tZWRpYS1tYW5hZ2UtYnV0dG9uXG4gICAgICAgICAgICAgIC5oYXNzPSR7dGhpcy5oYXNzfVxuICAgICAgICAgICAgICAuY3VycmVudEl0ZW09JHt0aGlzLl9jdXJyZW50SXRlbX1cbiAgICAgICAgICAgICAgQG1lZGlhLXJlZnJlc2g9JHt0aGlzLl9yZWZyZXNoTWVkaWF9XG4gICAgICAgICAgICA+PC9oYS1tZWRpYS1tYW5hZ2UtYnV0dG9uPlxuICAgICAgICAgIDwvYXBwLXRvb2xiYXI+XG4gICAgICAgIDwvYXBwLWhlYWRlcj5cbiAgICAgICAgPGhhLW1lZGlhLXBsYXllci1icm93c2VcbiAgICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgICAuZW50aXR5SWQ9JHt0aGlzLl9lbnRpdHlJZH1cbiAgICAgICAgICAubmF2aWdhdGVJZHM9JHt0aGlzLl9uYXZpZ2F0ZUlkc31cbiAgICAgICAgICBAbWVkaWEtcGlja2VkPSR7dGhpcy5fbWVkaWFQaWNrZWR9XG4gICAgICAgICAgQG1lZGlhLWJyb3dzZWQ9JHt0aGlzLl9tZWRpYUJyb3dzZWR9XG4gICAgICAgID48L2hhLW1lZGlhLXBsYXllci1icm93c2U+XG4gICAgICA8L2hhLWFwcC1sYXlvdXQ+XG4gICAgICA8aGEtYmFyLW1lZGlhLXBsYXllclxuICAgICAgICAuaGFzcz0ke3RoaXMuaGFzc31cbiAgICAgICAgLmVudGl0eUlkPSR7dGhpcy5fZW50aXR5SWR9XG4gICAgICAgIC5uYXJyb3c9JHt0aGlzLm5hcnJvd31cbiAgICAgICAgQHBsYXllci1waWNrZWQ9JHt0aGlzLl9wbGF5ZXJQaWNrZWR9XG4gICAgICA+PC9oYS1iYXItbWVkaWEtcGxheWVyPlxuICAgIGA7XG4gIH1cblxuICBwdWJsaWMgd2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHM6IFByb3BlcnR5VmFsdWVzKTogdm9pZCB7XG4gICAgc3VwZXIud2lsbFVwZGF0ZShjaGFuZ2VkUHJvcHMpO1xuXG4gICAgaWYgKCFjaGFuZ2VkUHJvcHMuaGFzKFwicm91dGVcIikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5yb3V0ZS5wYXRoID09PSBcIlwiKSB7XG4gICAgICBuYXZpZ2F0ZShgL21lZGlhLWJyb3dzZXIvJHt0aGlzLl9lbnRpdHlJZH1gLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY29uc3QgW3JvdXRlUGxheWVyLCAuLi5uYXZpZ2F0ZUlkc0VuY29kZWRdID0gdGhpcy5yb3V0ZS5wYXRoXG4gICAgICAuc3Vic3RyaW5nKDEpXG4gICAgICAuc3BsaXQoXCIvXCIpO1xuXG4gICAgaWYgKHJvdXRlUGxheWVyICE9PSB0aGlzLl9lbnRpdHlJZCkge1xuICAgICAgLy8gRGV0ZWN0IGlmIHBpY2tlZCBwbGF5ZXIgZG9lc24ndCBleGlzdCAoYW55bW9yZSlcbiAgICAgIC8vIENhbiBoYXBwZW4gaWYgVVJMIGJvb2ttYXJrZWQgb3Igc3RvcmVkIGluIGxvY2FsIHN0b3JhZ2VcbiAgICAgIGlmIChcbiAgICAgICAgcm91dGVQbGF5ZXIgIT09IEJST1dTRVJfUExBWUVSICYmXG4gICAgICAgIHRoaXMuaGFzcy5zdGF0ZXNbcm91dGVQbGF5ZXJdID09PSB1bmRlZmluZWRcbiAgICAgICkge1xuICAgICAgICBuYXZpZ2F0ZShgL21lZGlhLWJyb3dzZXIvJHtCUk9XU0VSX1BMQVlFUn1gLCB7IHJlcGxhY2U6IHRydWUgfSk7XG4gICAgICAgIHNob3dBbGVydERpYWxvZyh0aGlzLCB7XG4gICAgICAgICAgdGV4dDogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgXCJ1aS5wYW5lbC5tZWRpYS1icm93c2VyLmVycm9yLnBsYXllcl9ub3RfZXhpc3RcIixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbmFtZTogcm91dGVQbGF5ZXIsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgKSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuX2VudGl0eUlkID0gcm91dGVQbGF5ZXI7XG4gICAgfVxuXG4gICAgdGhpcy5fbmF2aWdhdGVJZHMgPSBbXG4gICAgICB7XG4gICAgICAgIG1lZGlhX2NvbnRlbnRfdHlwZTogdW5kZWZpbmVkLFxuICAgICAgICBtZWRpYV9jb250ZW50X2lkOiB1bmRlZmluZWQsXG4gICAgICB9LFxuICAgICAgLi4ubmF2aWdhdGVJZHNFbmNvZGVkLm1hcCgobmF2aWdhdGVJZCkgPT4ge1xuICAgICAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlVVJJQ29tcG9uZW50KG5hdmlnYXRlSWQpO1xuICAgICAgICAvLyBEb24ndCB1c2Ugc3BsaXQgYmVjYXVzZSBtZWRpYV9jb250ZW50X2lkIGNvdWxkIGNvbnRhaW4gY29tbWFzXG4gICAgICAgIGNvbnN0IGRlbGltaXRlciA9IGRlY29kZWQuaW5kZXhPZihcIixcIik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgbWVkaWFfY29udGVudF90eXBlOiBkZWNvZGVkLnN1YnN0cmluZygwLCBkZWxpbWl0ZXIpLFxuICAgICAgICAgIG1lZGlhX2NvbnRlbnRfaWQ6IGRlY29kZWQuc3Vic3RyaW5nKGRlbGltaXRlciArIDEpLFxuICAgICAgICB9O1xuICAgICAgfSksXG4gICAgXTtcbiAgICB0aGlzLl9jdXJyZW50SXRlbSA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIHByaXZhdGUgX2dvQmFjaygpIHtcbiAgICBuYXZpZ2F0ZShcbiAgICAgIGNyZWF0ZU1lZGlhUGFuZWxVcmwodGhpcy5fZW50aXR5SWQsIHRoaXMuX25hdmlnYXRlSWRzLnNsaWNlKDAsIC0xKSlcbiAgICApO1xuICB9XG5cbiAgcHJpdmF0ZSBfbWVkaWFCcm93c2VkKGV2OiB7IGRldGFpbDogSEFTU0RvbUV2ZW50c1tcIm1lZGlhLWJyb3dzZWRcIl0gfSkge1xuICAgIGlmIChldi5kZXRhaWwuaWRzID09PSB0aGlzLl9uYXZpZ2F0ZUlkcykge1xuICAgICAgdGhpcy5fY3VycmVudEl0ZW0gPSBldi5kZXRhaWwuY3VycmVudDtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBuYXZpZ2F0ZShjcmVhdGVNZWRpYVBhbmVsVXJsKHRoaXMuX2VudGl0eUlkLCBldi5kZXRhaWwuaWRzKSwge1xuICAgICAgcmVwbGFjZTogZXYuZGV0YWlsLnJlcGxhY2UsXG4gICAgfSk7XG4gIH1cblxuICBwcml2YXRlIGFzeW5jIF9tZWRpYVBpY2tlZChcbiAgICBldjogSEFTU0RvbUV2ZW50PE1lZGlhUGlja2VkRXZlbnQ+XG4gICk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IGl0ZW0gPSBldi5kZXRhaWwuaXRlbTtcblxuICAgIGlmICh0aGlzLl9lbnRpdHlJZCAhPT0gQlJPV1NFUl9QTEFZRVIpIHtcbiAgICAgIHRoaXMuX3BsYXllci5zaG93UmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IG1lZGlhUGxheWVyUGxheU1lZGlhKFxuICAgICAgICAgIHRoaXMuaGFzcyxcbiAgICAgICAgICB0aGlzLl9lbnRpdHlJZCxcbiAgICAgICAgICBpdGVtLm1lZGlhX2NvbnRlbnRfaWQsXG4gICAgICAgICAgaXRlbS5tZWRpYV9jb250ZW50X3R5cGVcbiAgICAgICAgKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aGlzLl9wbGF5ZXIuaGlkZVJlc29sdmluZ05ld01lZGlhUGlja2VkKCk7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gV2Ugd29uJ3QgY2FuY2VsIGN1cnJlbnQgbWVkaWEgYmVpbmcgcGxheWVkIGlmIHdlJ3JlIGdvaW5nIHRvXG4gICAgLy8gb3BlbiBhIGNhbWVyYS5cbiAgICBpZiAoaXNDYW1lcmFNZWRpYVNvdXJjZShpdGVtLm1lZGlhX2NvbnRlbnRfaWQpKSB7XG4gICAgICBmaXJlRXZlbnQodGhpcywgXCJoYXNzLW1vcmUtaW5mb1wiLCB7XG4gICAgICAgIGVudGl0eUlkOiBnZXRFbnRpdHlJZEZyb21DYW1lcmFNZWRpYVNvdXJjZShpdGVtLm1lZGlhX2NvbnRlbnRfaWQpLFxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fcGxheWVyLnNob3dSZXNvbHZpbmdOZXdNZWRpYVBpY2tlZCgpO1xuICAgIGxldCByZXNvbHZlZFVybDogUmVzb2x2ZWRNZWRpYVNvdXJjZTtcbiAgICB0cnkge1xuICAgICAgcmVzb2x2ZWRVcmwgPSBhd2FpdCByZXNvbHZlTWVkaWFTb3VyY2UodGhpcy5oYXNzLCBpdGVtLm1lZGlhX2NvbnRlbnRfaWQpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBzaG93QWxlcnREaWFsb2codGhpcywge1xuICAgICAgICB0aXRsZTogdGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgIFwidWkuY29tcG9uZW50cy5tZWRpYS1icm93c2VyLm1lZGlhX2Jyb3dzaW5nX2Vycm9yXCJcbiAgICAgICAgKSxcbiAgICAgICAgdGV4dDogZXJyLm1lc3NhZ2UsXG4gICAgICB9KTtcbiAgICAgIHRoaXMuX3BsYXllci5oaWRlUmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocmVzb2x2ZWRVcmwubWltZV90eXBlLnN0YXJ0c1dpdGgoXCJhdWRpby9cIikpIHtcbiAgICAgIHRoaXMuX3BsYXllci5wbGF5SXRlbShpdGVtLCByZXNvbHZlZFVybCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgc2hvd1dlYkJyb3dzZXJQbGF5TWVkaWFEaWFsb2codGhpcywge1xuICAgICAgc291cmNlVXJsOiByZXNvbHZlZFVybC51cmwsXG4gICAgICBzb3VyY2VUeXBlOiByZXNvbHZlZFVybC5taW1lX3R5cGUsXG4gICAgICB0aXRsZTogaXRlbS50aXRsZSxcbiAgICAgIGNhbl9wbGF5OiBpdGVtLmNhbl9wbGF5LFxuICAgIH0pO1xuICAgIHRoaXMuX3BsYXllci5oaWRlUmVzb2x2aW5nTmV3TWVkaWFQaWNrZWQoKTtcbiAgfVxuXG4gIHByaXZhdGUgX3BsYXllclBpY2tlZChldikge1xuICAgIGNvbnN0IGVudGl0eUlkOiBzdHJpbmcgPSBldi5kZXRhaWwuZW50aXR5SWQ7XG4gICAgaWYgKGVudGl0eUlkID09PSB0aGlzLl9lbnRpdHlJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBuYXZpZ2F0ZShjcmVhdGVNZWRpYVBhbmVsVXJsKGVudGl0eUlkLCB0aGlzLl9uYXZpZ2F0ZUlkcykpO1xuICB9XG5cbiAgcHJpdmF0ZSBfcmVmcmVzaE1lZGlhKCkge1xuICAgIHRoaXMuX2Jyb3dzZXIucmVmcmVzaCgpO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBbXG4gICAgICBoYVN0eWxlLFxuICAgICAgY3NzYFxuICAgICAgICBhcHAtdG9vbGJhciB7XG4gICAgICAgICAgLS1tZGMtdGhlbWUtcHJpbWFyeTogdmFyKC0tYXBwLWhlYWRlci10ZXh0LWNvbG9yKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGhhLW1lZGlhLXBsYXllci1icm93c2Uge1xuICAgICAgICAgIGhlaWdodDogY2FsYygxMDB2aCAtICgxMDBweCArIHZhcigtLWhlYWRlci1oZWlnaHQpKSk7XG4gICAgICAgICAgZGlyZWN0aW9uOiBsdHI7XG4gICAgICAgIH1cblxuICAgICAgICA6aG9zdChbbmFycm93XSkgaGEtbWVkaWEtcGxheWVyLWJyb3dzZSB7XG4gICAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMHZoIC0gKDgwcHggKyB2YXIoLS1oZWFkZXItaGVpZ2h0KSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaGEtYmFyLW1lZGlhLXBsYXllciB7XG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgIGJvdHRvbTogMDtcbiAgICAgICAgICBsZWZ0OiAwO1xuICAgICAgICAgIHJpZ2h0OiAwO1xuICAgICAgICB9XG4gICAgICBgLFxuICAgIF07XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImhhLXBhbmVsLW1lZGlhLWJyb3dzZXJcIjogUGFuZWxNZWRpYUJyb3dzZXI7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/media-browser/ha-panel-media-browser.ts\n");

/***/ }),

/***/ "./src/panels/media-browser/show-media-player-dialog.ts":
/*!**************************************************************!*\
  !*** ./src/panels/media-browser/show-media-player-dialog.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"showWebBrowserPlayMediaDialog\": () => (/* binding */ showWebBrowserPlayMediaDialog)\n/* harmony export */ });\n/* harmony import */ var _common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common/dom/fire_event */ \"./src/common/dom/fire_event.ts\");\n\nconst showWebBrowserPlayMediaDialog = (element, webBrowserPlayMediaDialogParams) => {\n  (0,_common_dom_fire_event__WEBPACK_IMPORTED_MODULE_0__.fireEvent)(element, \"show-dialog\", {\n    dialogTag: \"hui-dialog-web-browser-play-media\",\n    dialogImport: () => Promise.all(/*! import() */[__webpack_require__.e(\"vendors-node_modules_material_mwc-dialog_mwc-dialog-base_js-node_modules_material_mwc-dialog_-be868e\"), __webpack_require__.e(\"src_components_ha-dialog_ts\"), __webpack_require__.e(\"src_components_ha-hls-player_ts\"), __webpack_require__.e(\"src_panels_media-browser_hui-dialog-web-browser-play-media_ts\")]).then(__webpack_require__.bind(__webpack_require__, /*! ./hui-dialog-web-browser-play-media */ \"./src/panels/media-browser/hui-dialog-web-browser-play-media.ts\")),\n    dialogParams: webBrowserPlayMediaDialogParams\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL21lZGlhLWJyb3dzZXIvc2hvdy1tZWRpYS1wbGF5ZXItZGlhbG9nLnRzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7QUFTQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kLy4vc3JjL3BhbmVscy9tZWRpYS1icm93c2VyL3Nob3ctbWVkaWEtcGxheWVyLWRpYWxvZy50cz84OWYzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGZpcmVFdmVudCB9IGZyb20gXCIuLi8uLi9jb21tb24vZG9tL2ZpcmVfZXZlbnRcIjtcblxuZXhwb3J0IGludGVyZmFjZSBXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nUGFyYW1zIHtcbiAgc291cmNlVXJsOiBzdHJpbmc7XG4gIHNvdXJjZVR5cGU6IHN0cmluZztcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIGNhbl9wbGF5PzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IHNob3dXZWJCcm93c2VyUGxheU1lZGlhRGlhbG9nID0gKFxuICBlbGVtZW50OiBIVE1MRWxlbWVudCxcbiAgd2ViQnJvd3NlclBsYXlNZWRpYURpYWxvZ1BhcmFtczogV2ViQnJvd3NlclBsYXlNZWRpYURpYWxvZ1BhcmFtc1xuKTogdm9pZCA9PiB7XG4gIGZpcmVFdmVudChlbGVtZW50LCBcInNob3ctZGlhbG9nXCIsIHtcbiAgICBkaWFsb2dUYWc6IFwiaHVpLWRpYWxvZy13ZWItYnJvd3Nlci1wbGF5LW1lZGlhXCIsXG4gICAgZGlhbG9nSW1wb3J0OiAoKSA9PiBpbXBvcnQoXCIuL2h1aS1kaWFsb2ctd2ViLWJyb3dzZXItcGxheS1tZWRpYVwiKSxcbiAgICBkaWFsb2dQYXJhbXM6IHdlYkJyb3dzZXJQbGF5TWVkaWFEaWFsb2dQYXJhbXMsXG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/media-browser/show-media-player-dialog.ts\n");

/***/ })

}]);