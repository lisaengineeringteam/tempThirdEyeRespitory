"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["src_panels_lovelace_cards_energy_hui-energy-sources-table-card_ts"],{

/***/ "./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts":
/*!***************************************************************************!*\
  !*** ./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts ***!
  \***************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__) => {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"HuiEnergySourcesTableCard\": () => (/* binding */ HuiEnergySourcesTableCard)\n/* harmony export */ });\n/* harmony import */ var _material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @material/data-table/dist/mdc.data-table.min.css */ \"./node_modules/@material/data-table/dist/mdc.data-table.min.css\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lit/decorators */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lit/directives/style-map */ \"./node_modules/lit/directives/style-map.js\");\n/* harmony import */ var _common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common/color/convert-color */ \"./src/common/color/convert-color.ts\");\n/* harmony import */ var _common_color_lab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common/color/lab */ \"./src/common/color/lab.ts\");\n/* harmony import */ var _common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../common/entity/compute_state_name */ \"./src/common/entity/compute_state_name.ts\");\n/* harmony import */ var _common_number_format_number__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../common/number/format_number */ \"./src/common/number/format_number.ts\");\n/* harmony import */ var _components_chart_statistics_chart__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../components/chart/statistics-chart */ \"./src/components/chart/statistics-chart.ts\");\n/* harmony import */ var _components_ha_card__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../components/ha-card */ \"./src/components/ha-card.ts\");\n/* harmony import */ var _data_energy__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../../../data/energy */ \"./src/data/energy.ts\");\n/* harmony import */ var _data_history__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../../../data/history */ \"./src/data/history.ts\");\n/* harmony import */ var _mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../mixins/subscribe-mixin */ \"./src/mixins/subscribe-mixin.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_data_history__WEBPACK_IMPORTED_MODULE_10__, _data_energy__WEBPACK_IMPORTED_MODULE_9__, _components_chart_statistics_chart__WEBPACK_IMPORTED_MODULE_7__]);\n([_data_history__WEBPACK_IMPORTED_MODULE_10__, _data_energy__WEBPACK_IMPORTED_MODULE_9__, _components_chart_statistics_chart__WEBPACK_IMPORTED_MODULE_7__] = __webpack_async_dependencies__.then ? await __webpack_async_dependencies__ : __webpack_async_dependencies__);\nfunction _decorate(decorators, factory, superClass, mixins) { var api = _getDecoratorsApi(); if (mixins) { for (var i = 0; i < mixins.length; i++) { api = mixins[i](api); } } var r = factory(function initialize(O) { api.initializeInstanceElements(O, decorated.elements); }, superClass); var decorated = api.decorateClass(_coalesceClassElements(r.d.map(_createElementDescriptor)), decorators); api.initializeClassElements(r.F, decorated.elements); return api.runClassFinishers(r.F, decorated.finishers); }\n\nfunction _getDecoratorsApi() { _getDecoratorsApi = function () { return api; }; var api = { elementsDefinitionOrder: [[\"method\"], [\"field\"]], initializeInstanceElements: function (O, elements) { [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { if (element.kind === kind && element.placement === \"own\") { this.defineClassElement(O, element); } }, this); }, this); }, initializeClassElements: function (F, elements) { var proto = F.prototype; [\"method\", \"field\"].forEach(function (kind) { elements.forEach(function (element) { var placement = element.placement; if (element.kind === kind && (placement === \"static\" || placement === \"prototype\")) { var receiver = placement === \"static\" ? F : proto; this.defineClassElement(receiver, element); } }, this); }, this); }, defineClassElement: function (receiver, element) { var descriptor = element.descriptor; if (element.kind === \"field\") { var initializer = element.initializer; descriptor = { enumerable: descriptor.enumerable, writable: descriptor.writable, configurable: descriptor.configurable, value: initializer === void 0 ? void 0 : initializer.call(receiver) }; } Object.defineProperty(receiver, element.key, descriptor); }, decorateClass: function (elements, decorators) { var newElements = []; var finishers = []; var placements = { static: [], prototype: [], own: [] }; elements.forEach(function (element) { this.addElementPlacement(element, placements); }, this); elements.forEach(function (element) { if (!_hasDecorators(element)) return newElements.push(element); var elementFinishersExtras = this.decorateElement(element, placements); newElements.push(elementFinishersExtras.element); newElements.push.apply(newElements, elementFinishersExtras.extras); finishers.push.apply(finishers, elementFinishersExtras.finishers); }, this); if (!decorators) { return { elements: newElements, finishers: finishers }; } var result = this.decorateConstructor(newElements, decorators); finishers.push.apply(finishers, result.finishers); result.finishers = finishers; return result; }, addElementPlacement: function (element, placements, silent) { var keys = placements[element.placement]; if (!silent && keys.indexOf(element.key) !== -1) { throw new TypeError(\"Duplicated element (\" + element.key + \")\"); } keys.push(element.key); }, decorateElement: function (element, placements) { var extras = []; var finishers = []; for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) { var keys = placements[element.placement]; keys.splice(keys.indexOf(element.key), 1); var elementObject = this.fromElementDescriptor(element); var elementFinisherExtras = this.toElementFinisherExtras((0, decorators[i])(elementObject) || elementObject); element = elementFinisherExtras.element; this.addElementPlacement(element, placements); if (elementFinisherExtras.finisher) { finishers.push(elementFinisherExtras.finisher); } var newExtras = elementFinisherExtras.extras; if (newExtras) { for (var j = 0; j < newExtras.length; j++) { this.addElementPlacement(newExtras[j], placements); } extras.push.apply(extras, newExtras); } } return { element: element, finishers: finishers, extras: extras }; }, decorateConstructor: function (elements, decorators) { var finishers = []; for (var i = decorators.length - 1; i >= 0; i--) { var obj = this.fromClassDescriptor(elements); var elementsAndFinisher = this.toClassDescriptor((0, decorators[i])(obj) || obj); if (elementsAndFinisher.finisher !== undefined) { finishers.push(elementsAndFinisher.finisher); } if (elementsAndFinisher.elements !== undefined) { elements = elementsAndFinisher.elements; for (var j = 0; j < elements.length - 1; j++) { for (var k = j + 1; k < elements.length; k++) { if (elements[j].key === elements[k].key && elements[j].placement === elements[k].placement) { throw new TypeError(\"Duplicated element (\" + elements[j].key + \")\"); } } } } } return { elements: elements, finishers: finishers }; }, fromElementDescriptor: function (element) { var obj = { kind: element.kind, key: element.key, placement: element.placement, descriptor: element.descriptor }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); if (element.kind === \"field\") obj.initializer = element.initializer; return obj; }, toElementDescriptors: function (elementObjects) { if (elementObjects === undefined) return; return _toArray(elementObjects).map(function (elementObject) { var element = this.toElementDescriptor(elementObject); this.disallowProperty(elementObject, \"finisher\", \"An element descriptor\"); this.disallowProperty(elementObject, \"extras\", \"An element descriptor\"); return element; }, this); }, toElementDescriptor: function (elementObject) { var kind = String(elementObject.kind); if (kind !== \"method\" && kind !== \"field\") { throw new TypeError('An element descriptor\\'s .kind property must be either \"method\" or' + ' \"field\", but a decorator created an element descriptor with' + ' .kind \"' + kind + '\"'); } var key = _toPropertyKey(elementObject.key); var placement = String(elementObject.placement); if (placement !== \"static\" && placement !== \"prototype\" && placement !== \"own\") { throw new TypeError('An element descriptor\\'s .placement property must be one of \"static\",' + ' \"prototype\" or \"own\", but a decorator created an element descriptor' + ' with .placement \"' + placement + '\"'); } var descriptor = elementObject.descriptor; this.disallowProperty(elementObject, \"elements\", \"An element descriptor\"); var element = { kind: kind, key: key, placement: placement, descriptor: Object.assign({}, descriptor) }; if (kind !== \"field\") { this.disallowProperty(elementObject, \"initializer\", \"A method descriptor\"); } else { this.disallowProperty(descriptor, \"get\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"set\", \"The property descriptor of a field descriptor\"); this.disallowProperty(descriptor, \"value\", \"The property descriptor of a field descriptor\"); element.initializer = elementObject.initializer; } return element; }, toElementFinisherExtras: function (elementObject) { var element = this.toElementDescriptor(elementObject); var finisher = _optionalCallableProperty(elementObject, \"finisher\"); var extras = this.toElementDescriptors(elementObject.extras); return { element: element, finisher: finisher, extras: extras }; }, fromClassDescriptor: function (elements) { var obj = { kind: \"class\", elements: elements.map(this.fromElementDescriptor, this) }; var desc = { value: \"Descriptor\", configurable: true }; Object.defineProperty(obj, Symbol.toStringTag, desc); return obj; }, toClassDescriptor: function (obj) { var kind = String(obj.kind); if (kind !== \"class\") { throw new TypeError('A class descriptor\\'s .kind property must be \"class\", but a decorator' + ' created a class descriptor with .kind \"' + kind + '\"'); } this.disallowProperty(obj, \"key\", \"A class descriptor\"); this.disallowProperty(obj, \"placement\", \"A class descriptor\"); this.disallowProperty(obj, \"descriptor\", \"A class descriptor\"); this.disallowProperty(obj, \"initializer\", \"A class descriptor\"); this.disallowProperty(obj, \"extras\", \"A class descriptor\"); var finisher = _optionalCallableProperty(obj, \"finisher\"); var elements = this.toElementDescriptors(obj.elements); return { elements: elements, finisher: finisher }; }, runClassFinishers: function (constructor, finishers) { for (var i = 0; i < finishers.length; i++) { var newConstructor = (0, finishers[i])(constructor); if (newConstructor !== undefined) { if (typeof newConstructor !== \"function\") { throw new TypeError(\"Finishers must return a constructor.\"); } constructor = newConstructor; } } return constructor; }, disallowProperty: function (obj, name, objectType) { if (obj[name] !== undefined) { throw new TypeError(objectType + \" can't have a .\" + name + \" property.\"); } } }; return api; }\n\nfunction _createElementDescriptor(def) { var key = _toPropertyKey(def.key); var descriptor; if (def.kind === \"method\") { descriptor = { value: def.value, writable: true, configurable: true, enumerable: false }; } else if (def.kind === \"get\") { descriptor = { get: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"set\") { descriptor = { set: def.value, configurable: true, enumerable: false }; } else if (def.kind === \"field\") { descriptor = { configurable: true, writable: true, enumerable: true }; } var element = { kind: def.kind === \"field\" ? \"field\" : \"method\", key: key, placement: def.static ? \"static\" : def.kind === \"field\" ? \"own\" : \"prototype\", descriptor: descriptor }; if (def.decorators) element.decorators = def.decorators; if (def.kind === \"field\") element.initializer = def.value; return element; }\n\nfunction _coalesceGetterSetter(element, other) { if (element.descriptor.get !== undefined) { other.descriptor.get = element.descriptor.get; } else { other.descriptor.set = element.descriptor.set; } }\n\nfunction _coalesceClassElements(elements) { var newElements = []; var isSameElement = function (other) { return other.kind === \"method\" && other.key === element.key && other.placement === element.placement; }; for (var i = 0; i < elements.length; i++) { var element = elements[i]; var other; if (element.kind === \"method\" && (other = newElements.find(isSameElement))) { if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) { if (_hasDecorators(element) || _hasDecorators(other)) { throw new ReferenceError(\"Duplicated methods (\" + element.key + \") can't be decorated.\"); } other.descriptor = element.descriptor; } else { if (_hasDecorators(element)) { if (_hasDecorators(other)) { throw new ReferenceError(\"Decorators can't be placed on different accessors with for \" + \"the same property (\" + element.key + \").\"); } other.decorators = element.decorators; } _coalesceGetterSetter(element, other); } } else { newElements.push(element); } } return newElements; }\n\nfunction _hasDecorators(element) { return element.decorators && element.decorators.length; }\n\nfunction _isDataDescriptor(desc) { return desc !== undefined && !(desc.value === undefined && desc.writable === undefined); }\n\nfunction _optionalCallableProperty(obj, name) { var value = obj[name]; if (value !== undefined && typeof value !== \"function\") { throw new TypeError(\"Expected '\" + name + \"' to be a function\"); } return value; }\n\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\n\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\n\nfunction _toArray(arr) { return _arrayWithHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\n// @ts-ignore\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet HuiEnergySourcesTableCard = _decorate([(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.customElement)(\"hui-energy-sources-table-card\")], function (_initialize, _SubscribeMixin) {\n  class HuiEnergySourcesTableCard extends _SubscribeMixin {\n    constructor(...args) {\n      super(...args);\n\n      _initialize(this);\n    }\n\n  }\n\n  return {\n    F: HuiEnergySourcesTableCard,\n    d: [{\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.property)({\n        attribute: false\n      })],\n      key: \"hass\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_config\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      decorators: [(0,lit_decorators__WEBPACK_IMPORTED_MODULE_1__.state)()],\n      key: \"_data\",\n      value: void 0\n    }, {\n      kind: \"field\",\n      key: \"hassSubscribeRequiredHostProps\",\n\n      value() {\n        return [\"_config\"];\n      }\n\n    }, {\n      kind: \"method\",\n      key: \"hassSubscribe\",\n      value: function hassSubscribe() {\n        var _this$_config;\n\n        return [(0,_data_energy__WEBPACK_IMPORTED_MODULE_9__.getEnergyDataCollection)(this.hass, {\n          key: (_this$_config = this._config) === null || _this$_config === void 0 ? void 0 : _this$_config.collection_key\n        }).subscribe(data => {\n          this._data = data;\n        })];\n      }\n    }, {\n      kind: \"method\",\n      key: \"getCardSize\",\n      value: function getCardSize() {\n        return 3;\n      }\n    }, {\n      kind: \"method\",\n      key: \"setConfig\",\n      value: function setConfig(config) {\n        this._config = config;\n      }\n    }, {\n      kind: \"method\",\n      key: \"render\",\n      value: function render() {\n        var _types$grid, _types$grid2, _types$gas, _types$solar, _types$battery, _types$grid3, _types$gas2;\n\n        if (!this.hass || !this._config) {\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html``;\n        }\n\n        if (!this._data) {\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`${this.hass.localize(\"ui.panel.lovelace.cards.energy.loading\")}`;\n        }\n\n        let totalGrid = 0;\n        let totalGridCost = 0;\n        let totalSolar = 0;\n        let totalBattery = 0;\n        let totalGas = 0;\n        let totalGasCost = 0;\n        let totalGridCompare = 0;\n        let totalGridCostCompare = 0;\n        let totalSolarCompare = 0;\n        let totalBatteryCompare = 0;\n        let totalGasCompare = 0;\n        let totalGasCostCompare = 0;\n        const types = (0,_data_energy__WEBPACK_IMPORTED_MODULE_9__.energySourcesByType)(this._data.prefs);\n        const computedStyles = getComputedStyle(this);\n        const solarColor = computedStyles.getPropertyValue(\"--energy-solar-color\").trim();\n        const batteryFromColor = computedStyles.getPropertyValue(\"--energy-battery-out-color\").trim();\n        const batteryToColor = computedStyles.getPropertyValue(\"--energy-battery-in-color\").trim();\n        const returnColor = computedStyles.getPropertyValue(\"--energy-grid-return-color\").trim();\n        const consumptionColor = computedStyles.getPropertyValue(\"--energy-grid-consumption-color\").trim();\n        const gasColor = computedStyles.getPropertyValue(\"--energy-gas-color\").trim();\n        const showCosts = ((_types$grid = types.grid) === null || _types$grid === void 0 ? void 0 : _types$grid[0].flow_from.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price)) || ((_types$grid2 = types.grid) === null || _types$grid2 === void 0 ? void 0 : _types$grid2[0].flow_to.some(flow => flow.stat_compensation || flow.entity_energy_price || flow.number_energy_price)) || ((_types$gas = types.gas) === null || _types$gas === void 0 ? void 0 : _types$gas.some(flow => flow.stat_cost || flow.entity_energy_price || flow.number_energy_price));\n        const gasUnit = (0,_data_energy__WEBPACK_IMPORTED_MODULE_9__.getEnergyGasUnit)(this.hass, this._data.prefs, this._data.statsMetadata) || \"\";\n        const compare = this._data.statsCompare !== undefined;\n        return lit__WEBPACK_IMPORTED_MODULE_0__.html` <ha-card>\n      ${this._config.title ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<h1 class=\"card-header\">${this._config.title}</h1>` : \"\"}\n      <div class=\"mdc-data-table\">\n        <div class=\"mdc-data-table__table-container\">\n          <table class=\"mdc-data-table__table\" aria-label=\"Energy sources\">\n            <thead>\n              <tr class=\"mdc-data-table__header-row\">\n                <th class=\"mdc-data-table__header-cell\"></th>\n                <th\n                  class=\"mdc-data-table__header-cell\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.source\")}\n                </th>\n                ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<th\n                        class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                        role=\"columnheader\"\n                        scope=\"col\"\n                      >\n                        ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_energy\")}\n                      </th>\n                      ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<th\n                            class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                            role=\"columnheader\"\n                            scope=\"col\"\n                          >\n                            ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.previous_cost\")}\n                          </th>` : \"\"}` : \"\"}\n                <th\n                  class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                  role=\"columnheader\"\n                  scope=\"col\"\n                >\n                  ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.energy\")}\n                </th>\n                ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <th\n                      class=\"mdc-data-table__header-cell mdc-data-table__header-cell--numeric\"\n                      role=\"columnheader\"\n                      scope=\"col\"\n                    >\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.cost\")}\n                    </th>` : \"\"}\n              </tr>\n            </thead>\n            <tbody class=\"mdc-data-table__content\">\n              ${(_types$solar = types.solar) === null || _types$solar === void 0 ? void 0 : _types$solar.map((source, idx) => {\n          const entity = this.hass.states[source.stat_energy_from];\n          const energy = (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalSolar += energy;\n          const compareEnergy = compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalSolarCompare += compareEnergy;\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(solarColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(solarColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedColor)) : solarColor;\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${entity ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entity) : source.stat_energy_from}\n                  </th>\n                  ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)} kWh\n                        </td>\n                        ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                  </td>\n                  ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.solar ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      Solar total\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolarCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalSolar, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$battery = types.battery) === null || _types$battery === void 0 ? void 0 : _types$battery.map((source, idx) => {\n          const entityFrom = this.hass.states[source.stat_energy_from];\n          const entityTo = this.hass.states[source.stat_energy_to];\n          const energyFrom = (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          const energyTo = (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_to]) || 0;\n          totalBattery += energyFrom - energyTo;\n          const energyFromCompare = compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          const energyToCompare = compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_to]) || 0;\n          totalBatteryCompare += energyFromCompare - energyToCompare;\n          const modifiedFromColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(batteryFromColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(batteryFromColor)), idx) : undefined;\n          const fromColor = modifiedFromColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedFromColor)) : batteryFromColor;\n          const modifiedToColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(batteryToColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(batteryToColor)), idx) : undefined;\n          const toColor = modifiedToColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedToColor)) : batteryToColor;\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: fromColor,\n            backgroundColor: fromColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${entityFrom ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entityFrom) : source.stat_energy_from}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFromCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyFrom, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>\n                  <tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: toColor,\n            backgroundColor: toColor + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${entityTo ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entityTo) : source.stat_energy_from}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyToCompare * -1, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyTo * -1, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>`;\n        })}\n              ${types.battery ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.battery_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBatteryCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalBattery, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$grid3 = types.grid) === null || _types$grid3 === void 0 ? void 0 : _types$grid3.map(source => lit__WEBPACK_IMPORTED_MODULE_0__.html`${source.flow_from.map((flow, idx) => {\n          const entity = this.hass.states[flow.stat_energy_from];\n          const energy = (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_from]) || 0;\n          totalGrid += energy;\n          const compareEnergy = compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_from]) || 0;\n          totalGridCompare += compareEnergy;\n          const cost_stat = flow.stat_cost || this._data.info.cost_sensors[flow.stat_energy_from];\n          const cost = cost_stat ? (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n\n          if (cost !== null) {\n            totalGridCost += cost;\n          }\n\n          const costCompare = compare && cost_stat ? (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(consumptionColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(consumptionColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedColor)) : consumptionColor;\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${entity ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entity) : flow.stat_energy_from}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(compareEnergy, this.hass.locale)} kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>`;\n        })}\n                ${source.flow_to.map((flow, idx) => {\n          const entity = this.hass.states[flow.stat_energy_to];\n          const energy = ((0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[flow.stat_energy_to]) || 0) * -1;\n          totalGrid += energy;\n          const cost_stat = flow.stat_compensation || this._data.info.cost_sensors[flow.stat_energy_to];\n          const cost = cost_stat ? ((0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0) * -1 : null;\n\n          if (cost !== null) {\n            totalGridCost += cost;\n          }\n\n          const energyCompare = (compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[flow.stat_energy_to]) || 0) * -1;\n          totalGridCompare += energyCompare;\n          const costCompare = compare && cost_stat ? ((0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0) * -1 : null;\n\n          if (costCompare !== null) {\n            totalGridCostCompare += costCompare;\n          }\n\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(returnColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(returnColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedColor)) : returnColor;\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row\">\n                    <td class=\"mdc-data-table__cell cell-bullet\">\n                      <div\n                        class=\"bullet\"\n                        style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                      ></div>\n                    </td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${entity ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entity) : flow.stat_energy_to}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)} kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                        </td>` : \"\"}\n                  </tr>`;\n        })}`)}\n              ${types.grid ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.grid_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCompare, this.hass.locale)}\n                            kWh\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGrid, this.hass.locale)} kWh\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGridCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${(_types$gas2 = types.gas) === null || _types$gas2 === void 0 ? void 0 : _types$gas2.map((source, idx) => {\n          const entity = this.hass.states[source.stat_energy_from];\n          const energy = (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[source.stat_energy_from]) || 0;\n          totalGas += energy;\n          const energyCompare = compare && (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[source.stat_energy_from]) || 0;\n          totalGasCompare += energyCompare;\n          const cost_stat = source.stat_cost || this._data.info.cost_sensors[source.stat_energy_from];\n          const cost = cost_stat ? (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.stats[cost_stat]) || 0 : null;\n\n          if (cost !== null) {\n            totalGasCost += cost;\n          }\n\n          const costCompare = compare && cost_stat ? (0,_data_history__WEBPACK_IMPORTED_MODULE_10__.calculateStatisticSumGrowth)(this._data.statsCompare[cost_stat]) || 0 : null;\n\n          if (costCompare !== null) {\n            totalGasCostCompare += costCompare;\n          }\n\n          const modifiedColor = idx > 0 ? this.hass.themes.darkMode ? (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labBrighten)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(gasColor)), idx) : (0,_common_color_lab__WEBPACK_IMPORTED_MODULE_4__.labDarken)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2lab)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.hex2rgb)(gasColor)), idx) : undefined;\n          const color = modifiedColor ? (0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.rgb2hex)((0,_common_color_convert_color__WEBPACK_IMPORTED_MODULE_3__.lab2rgb)(modifiedColor)) : gasColor;\n          return lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row\">\n                  <td class=\"mdc-data-table__cell cell-bullet\">\n                    <div\n                      class=\"bullet\"\n                      style=${(0,lit_directives_style_map__WEBPACK_IMPORTED_MODULE_2__.styleMap)({\n            borderColor: color,\n            backgroundColor: color + \"7F\"\n          })}\n                    ></div>\n                  </td>\n                  <th class=\"mdc-data-table__cell\" scope=\"row\">\n                    ${entity ? (0,_common_entity_compute_state_name__WEBPACK_IMPORTED_MODULE_5__.computeStateName)(entity) : source.stat_energy_from}\n                  </th>\n                  ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html` <td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energyCompare, this.hass.locale)}\n                          ${gasUnit}\n                        </td>\n                        ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                              class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                            >\n                              ${costCompare !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(costCompare, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                            </td>` : \"\"}` : \"\"}\n                  <td\n                    class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                  >\n                    ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(energy, this.hass.locale)} ${gasUnit}\n                  </td>\n                  ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                        class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                      >\n                        ${cost !== null ? (0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(cost, this.hass.locale, {\n            style: \"currency\",\n            currency: this.hass.config.currency\n          }) : \"\"}\n                      </td>` : \"\"}\n                </tr>`;\n        })}\n              ${types.gas ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.gas_total\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCompare, this.hass.locale)}\n                            ${gasUnit}\n                          </td>\n                          ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                                class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                              >\n                                ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                              </td>` : \"\"}` : \"\"}\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGas, this.hass.locale)} ${gasUnit}\n                    </td>\n                    ${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td\n                          class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                        >\n                          ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                        </td>` : \"\"}\n                  </tr>` : \"\"}\n              ${totalGasCost && totalGridCost ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<tr class=\"mdc-data-table__row total\">\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <th class=\"mdc-data-table__cell\" scope=\"row\">\n                      ${this.hass.localize(\"ui.panel.lovelace.cards.energy.energy_sources_table.total_costs\")}\n                    </th>\n                    ${compare ? lit__WEBPACK_IMPORTED_MODULE_0__.html`${showCosts ? lit__WEBPACK_IMPORTED_MODULE_0__.html`<td class=\"mdc-data-table__cell\"></td>` : \"\"}\n                          <td\n                            class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                          >\n                            ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCostCompare + totalGridCostCompare, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                          </td>` : \"\"}\n                    <td class=\"mdc-data-table__cell\"></td>\n                    <td\n                      class=\"mdc-data-table__cell mdc-data-table__cell--numeric\"\n                    >\n                      ${(0,_common_number_format_number__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(totalGasCost + totalGridCost, this.hass.locale, {\n          style: \"currency\",\n          currency: this.hass.config.currency\n        })}\n                    </td>\n                  </tr>` : \"\"}\n            </tbody>\n          </table>\n        </div>\n      </div>\n    </ha-card>`;\n      }\n    }, {\n      kind: \"get\",\n      static: true,\n      key: \"styles\",\n      value: function styles() {\n        return lit__WEBPACK_IMPORTED_MODULE_0__.css`\n      ${(0,lit__WEBPACK_IMPORTED_MODULE_0__.unsafeCSS)(_material_data_table_dist_mdc_data_table_min_css__WEBPACK_IMPORTED_MODULE_12__)}\n      .mdc-data-table {\n        width: 100%;\n        border: 0;\n      }\n      .mdc-data-table__header-cell,\n      .mdc-data-table__cell {\n        color: var(--primary-text-color);\n        border-bottom-color: var(--divider-color);\n      }\n      .mdc-data-table__row:not(.mdc-data-table__row--selected):hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n      .total {\n        --mdc-typography-body2-font-weight: 500;\n      }\n      .total .mdc-data-table__cell {\n        border-top: 1px solid var(--divider-color);\n      }\n      ha-card {\n        height: 100%;\n      }\n      .card-header {\n        padding-bottom: 0;\n      }\n      .content {\n        padding: 16px;\n      }\n      .has-header {\n        padding-top: 0;\n      }\n      .cell-bullet {\n        width: 32px;\n        padding-right: 0;\n      }\n      .bullet {\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 4px;\n        height: 16px;\n        width: 32px;\n      }\n    `;\n      }\n    }]\n  };\n}, (0,_mixins_subscribe_mixin__WEBPACK_IMPORTED_MODULE_11__.SubscribeMixin)(lit__WEBPACK_IMPORTED_MODULE_0__.LitElement));\n});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFuZWxzL2xvdmVsYWNlL2NhcmRzL2VuZXJneS9odWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZC50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBUUE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQU1BO0FBREE7QUFJQTtBQUFBOztBQUFBO0FBQUE7O0FBQUE7O0FBSEE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUlBO0FBQUE7QUFKQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWUE7O0FBQ0E7QUFFQTtBQURBO0FBR0E7QUFDQTtBQUVBO0FBcEJBO0FBQUE7QUFBQTtBQUFBO0FBdUJBO0FBQ0E7QUF4QkE7QUFBQTtBQUFBO0FBQUE7QUEyQkE7QUFDQTtBQTVCQTtBQUFBO0FBQUE7QUFBQTtBQThCQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUdBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUdBO0FBR0E7QUFHQTtBQUdBO0FBR0E7QUFJQTtBQWdCQTtBQUlBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQU1BO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBSUE7QUFFQTtBQU1BO0FBTUE7QUFFQTtBQU1BO0FBR0E7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFFQTtBQUVBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQUdBOztBQUtBO0FBQ0E7QUFDQTs7QUFFQTs7QUFNQTtBQUNBO0FBQ0E7O0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUZBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBR0E7O0FBS0E7QUFDQTtBQUNBOztBQUVBO0FBTUE7QUFFQTs7QUFNQTtBQUNBO0FBQ0E7O0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUZBO0FBTUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUVBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBRkE7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFJQTtBQUVBO0FBTUE7QUFFQTtBQUdBOztBQUlBO0FBQ0E7QUFDQTs7QUFFQTs7QUFNQTtBQUNBO0FBQ0E7O0FBRUE7QUFNQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRkE7QUFLQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFGQTtBQUtBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFFQTtBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUZBO0FBS0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXAxQkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXUxQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBbjRCQTtBQUFBO0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC8uL3NyYy9wYW5lbHMvbG92ZWxhY2UvY2FyZHMvZW5lcmd5L2h1aS1lbmVyZ3ktc291cmNlcy10YWJsZS1jYXJkLnRzP2FlMTQiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQHRzLWlnbm9yZVxuaW1wb3J0IGRhdGFUYWJsZVN0eWxlcyBmcm9tIFwiQG1hdGVyaWFsL2RhdGEtdGFibGUvZGlzdC9tZGMuZGF0YS10YWJsZS5taW4uY3NzXCI7XG5pbXBvcnQgeyBVbnN1YnNjcmliZUZ1bmMgfSBmcm9tIFwiaG9tZS1hc3Npc3RhbnQtanMtd2Vic29ja2V0XCI7XG5pbXBvcnQge1xuICBjc3MsXG4gIENTU1Jlc3VsdEdyb3VwLFxuICBodG1sLFxuICBMaXRFbGVtZW50LFxuICBUZW1wbGF0ZVJlc3VsdCxcbiAgdW5zYWZlQ1NTLFxufSBmcm9tIFwibGl0XCI7XG5pbXBvcnQgeyBjdXN0b21FbGVtZW50LCBwcm9wZXJ0eSwgc3RhdGUgfSBmcm9tIFwibGl0L2RlY29yYXRvcnNcIjtcbmltcG9ydCB7IHN0eWxlTWFwIH0gZnJvbSBcImxpdC9kaXJlY3RpdmVzL3N0eWxlLW1hcFwiO1xuaW1wb3J0IHtcbiAgcmdiMmhleCxcbiAgbGFiMnJnYixcbiAgcmdiMmxhYixcbiAgaGV4MnJnYixcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9jb252ZXJ0LWNvbG9yXCI7XG5pbXBvcnQgeyBsYWJCcmlnaHRlbiwgbGFiRGFya2VuIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvbW1vbi9jb2xvci9sYWJcIjtcbmltcG9ydCB7IGNvbXB1dGVTdGF0ZU5hbWUgfSBmcm9tIFwiLi4vLi4vLi4vLi4vY29tbW9uL2VudGl0eS9jb21wdXRlX3N0YXRlX25hbWVcIjtcbmltcG9ydCB7IGZvcm1hdE51bWJlciB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb21tb24vbnVtYmVyL2Zvcm1hdF9udW1iZXJcIjtcbmltcG9ydCBcIi4uLy4uLy4uLy4uL2NvbXBvbmVudHMvY2hhcnQvc3RhdGlzdGljcy1jaGFydFwiO1xuaW1wb3J0IFwiLi4vLi4vLi4vLi4vY29tcG9uZW50cy9oYS1jYXJkXCI7XG5pbXBvcnQge1xuICBFbmVyZ3lEYXRhLFxuICBlbmVyZ3lTb3VyY2VzQnlUeXBlLFxuICBnZXRFbmVyZ3lEYXRhQ29sbGVjdGlvbixcbiAgZ2V0RW5lcmd5R2FzVW5pdCxcbn0gZnJvbSBcIi4uLy4uLy4uLy4uL2RhdGEvZW5lcmd5XCI7XG5pbXBvcnQgeyBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGggfSBmcm9tIFwiLi4vLi4vLi4vLi4vZGF0YS9oaXN0b3J5XCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVNaXhpbiB9IGZyb20gXCIuLi8uLi8uLi8uLi9taXhpbnMvc3Vic2NyaWJlLW1peGluXCI7XG5pbXBvcnQgeyBIb21lQXNzaXN0YW50IH0gZnJvbSBcIi4uLy4uLy4uLy4uL3R5cGVzXCI7XG5pbXBvcnQgeyBMb3ZlbGFjZUNhcmQgfSBmcm9tIFwiLi4vLi4vdHlwZXNcIjtcbmltcG9ydCB7IEVuZXJneVNvdXJjZXNUYWJsZUNhcmRDb25maWcgfSBmcm9tIFwiLi4vdHlwZXNcIjtcblxuQGN1c3RvbUVsZW1lbnQoXCJodWktZW5lcmd5LXNvdXJjZXMtdGFibGUtY2FyZFwiKVxuZXhwb3J0IGNsYXNzIEh1aUVuZXJneVNvdXJjZXNUYWJsZUNhcmRcbiAgZXh0ZW5kcyBTdWJzY3JpYmVNaXhpbihMaXRFbGVtZW50KVxuICBpbXBsZW1lbnRzIExvdmVsYWNlQ2FyZFxue1xuICBAcHJvcGVydHkoeyBhdHRyaWJ1dGU6IGZhbHNlIH0pIHB1YmxpYyBoYXNzITogSG9tZUFzc2lzdGFudDtcblxuICBAc3RhdGUoKSBwcml2YXRlIF9jb25maWc/OiBFbmVyZ3lTb3VyY2VzVGFibGVDYXJkQ29uZmlnO1xuXG4gIEBzdGF0ZSgpIHByaXZhdGUgX2RhdGE/OiBFbmVyZ3lEYXRhO1xuXG4gIHByb3RlY3RlZCBoYXNzU3Vic2NyaWJlUmVxdWlyZWRIb3N0UHJvcHMgPSBbXCJfY29uZmlnXCJdO1xuXG4gIHB1YmxpYyBoYXNzU3Vic2NyaWJlKCk6IFVuc3Vic2NyaWJlRnVuY1tdIHtcbiAgICByZXR1cm4gW1xuICAgICAgZ2V0RW5lcmd5RGF0YUNvbGxlY3Rpb24odGhpcy5oYXNzLCB7XG4gICAgICAgIGtleTogdGhpcy5fY29uZmlnPy5jb2xsZWN0aW9uX2tleSxcbiAgICAgIH0pLnN1YnNjcmliZSgoZGF0YSkgPT4ge1xuICAgICAgICB0aGlzLl9kYXRhID0gZGF0YTtcbiAgICAgIH0pLFxuICAgIF07XG4gIH1cblxuICBwdWJsaWMgZ2V0Q2FyZFNpemUoKTogUHJvbWlzZTxudW1iZXI+IHwgbnVtYmVyIHtcbiAgICByZXR1cm4gMztcbiAgfVxuXG4gIHB1YmxpYyBzZXRDb25maWcoY29uZmlnOiBFbmVyZ3lTb3VyY2VzVGFibGVDYXJkQ29uZmlnKTogdm9pZCB7XG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICB9XG5cbiAgcHJvdGVjdGVkIHJlbmRlcigpOiBUZW1wbGF0ZVJlc3VsdCB7XG4gICAgaWYgKCF0aGlzLmhhc3MgfHwgIXRoaXMuX2NvbmZpZykge1xuICAgICAgcmV0dXJuIGh0bWxgYDtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuX2RhdGEpIHtcbiAgICAgIHJldHVybiBodG1sYCR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5sb2FkaW5nXCJcbiAgICAgICl9YDtcbiAgICB9XG5cbiAgICBsZXQgdG90YWxHcmlkID0gMDtcbiAgICBsZXQgdG90YWxHcmlkQ29zdCA9IDA7XG4gICAgbGV0IHRvdGFsU29sYXIgPSAwO1xuICAgIGxldCB0b3RhbEJhdHRlcnkgPSAwO1xuICAgIGxldCB0b3RhbEdhcyA9IDA7XG4gICAgbGV0IHRvdGFsR2FzQ29zdCA9IDA7XG5cbiAgICBsZXQgdG90YWxHcmlkQ29tcGFyZSA9IDA7XG4gICAgbGV0IHRvdGFsR3JpZENvc3RDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxTb2xhckNvbXBhcmUgPSAwO1xuICAgIGxldCB0b3RhbEJhdHRlcnlDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxHYXNDb21wYXJlID0gMDtcbiAgICBsZXQgdG90YWxHYXNDb3N0Q29tcGFyZSA9IDA7XG5cbiAgICBjb25zdCB0eXBlcyA9IGVuZXJneVNvdXJjZXNCeVR5cGUodGhpcy5fZGF0YS5wcmVmcyk7XG5cbiAgICBjb25zdCBjb21wdXRlZFN0eWxlcyA9IGdldENvbXB1dGVkU3R5bGUodGhpcyk7XG4gICAgY29uc3Qgc29sYXJDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LXNvbGFyLWNvbG9yXCIpXG4gICAgICAudHJpbSgpO1xuICAgIGNvbnN0IGJhdHRlcnlGcm9tQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWVuZXJneS1iYXR0ZXJ5LW91dC1jb2xvclwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBiYXR0ZXJ5VG9Db2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LWJhdHRlcnktaW4tY29sb3JcIilcbiAgICAgIC50cmltKCk7XG4gICAgY29uc3QgcmV0dXJuQ29sb3IgPSBjb21wdXRlZFN0eWxlc1xuICAgICAgLmdldFByb3BlcnR5VmFsdWUoXCItLWVuZXJneS1ncmlkLXJldHVybi1jb2xvclwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBjb25zdW1wdGlvbkNvbG9yID0gY29tcHV0ZWRTdHlsZXNcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKFwiLS1lbmVyZ3ktZ3JpZC1jb25zdW1wdGlvbi1jb2xvclwiKVxuICAgICAgLnRyaW0oKTtcbiAgICBjb25zdCBnYXNDb2xvciA9IGNvbXB1dGVkU3R5bGVzXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZShcIi0tZW5lcmd5LWdhcy1jb2xvclwiKVxuICAgICAgLnRyaW0oKTtcblxuICAgIGNvbnN0IHNob3dDb3N0cyA9XG4gICAgICB0eXBlcy5ncmlkPy5bMF0uZmxvd19mcm9tLnNvbWUoXG4gICAgICAgIChmbG93KSA9PlxuICAgICAgICAgIGZsb3cuc3RhdF9jb3N0IHx8IGZsb3cuZW50aXR5X2VuZXJneV9wcmljZSB8fCBmbG93Lm51bWJlcl9lbmVyZ3lfcHJpY2VcbiAgICAgICkgfHxcbiAgICAgIHR5cGVzLmdyaWQ/LlswXS5mbG93X3RvLnNvbWUoXG4gICAgICAgIChmbG93KSA9PlxuICAgICAgICAgIGZsb3cuc3RhdF9jb21wZW5zYXRpb24gfHxcbiAgICAgICAgICBmbG93LmVudGl0eV9lbmVyZ3lfcHJpY2UgfHxcbiAgICAgICAgICBmbG93Lm51bWJlcl9lbmVyZ3lfcHJpY2VcbiAgICAgICkgfHxcbiAgICAgIHR5cGVzLmdhcz8uc29tZShcbiAgICAgICAgKGZsb3cpID0+XG4gICAgICAgICAgZmxvdy5zdGF0X2Nvc3QgfHwgZmxvdy5lbnRpdHlfZW5lcmd5X3ByaWNlIHx8IGZsb3cubnVtYmVyX2VuZXJneV9wcmljZVxuICAgICAgKTtcblxuICAgIGNvbnN0IGdhc1VuaXQgPVxuICAgICAgZ2V0RW5lcmd5R2FzVW5pdCh0aGlzLmhhc3MsIHRoaXMuX2RhdGEucHJlZnMsIHRoaXMuX2RhdGEuc3RhdHNNZXRhZGF0YSkgfHxcbiAgICAgIFwiXCI7XG5cbiAgICBjb25zdCBjb21wYXJlID0gdGhpcy5fZGF0YS5zdGF0c0NvbXBhcmUgIT09IHVuZGVmaW5lZDtcblxuICAgIHJldHVybiBodG1sYCA8aGEtY2FyZD5cbiAgICAgICR7dGhpcy5fY29uZmlnLnRpdGxlXG4gICAgICAgID8gaHRtbGA8aDEgY2xhc3M9XCJjYXJkLWhlYWRlclwiPiR7dGhpcy5fY29uZmlnLnRpdGxlfTwvaDE+YFxuICAgICAgICA6IFwiXCJ9XG4gICAgICA8ZGl2IGNsYXNzPVwibWRjLWRhdGEtdGFibGVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX190YWJsZS1jb250YWluZXJcIj5cbiAgICAgICAgICA8dGFibGUgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fdGFibGVcIiBhcmlhLWxhYmVsPVwiRW5lcmd5IHNvdXJjZXNcIj5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1yb3dcIj5cbiAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGxcIj48L3RoPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGxcIlxuICAgICAgICAgICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLnNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICA/IGh0bWxgPHRoXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCBtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzY29wZT1cImNvbFwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLnByZXZpb3VzX2VuZXJneVwiXG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbCBtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlPVwiY29sXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1aS5wYW5lbC5sb3ZlbGFjZS5jYXJkcy5lbmVyZ3kuZW5lcmd5X3NvdXJjZXNfdGFibGUucHJldmlvdXNfY29zdFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90aD5gXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwgbWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgIHJvbGU9XCJjb2x1bW5oZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICR7dGhpcy5oYXNzLmxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5lbmVyZ3lcIlxuICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICA/IGh0bWxgIDx0aFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2hlYWRlci1jZWxsIG1kYy1kYXRhLXRhYmxlX19oZWFkZXItY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgcm9sZT1cImNvbHVtbmhlYWRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgc2NvcGU9XCJjb2xcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5jb3N0XCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPmBcbiAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHkgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY29udGVudFwiPlxuICAgICAgICAgICAgICAke3R5cGVzLnNvbGFyPy5tYXAoKHNvdXJjZSwgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZW50aXR5ID0gdGhpcy5oYXNzLnN0YXRlc1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV07XG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICApIHx8IDA7XG4gICAgICAgICAgICAgICAgdG90YWxTb2xhciArPSBlbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlRW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIHRvdGFsU29sYXJDb21wYXJlICs9IGNvbXBhcmVFbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZENvbG9yID1cbiAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgPyBsYWJCcmlnaHRlbihyZ2IybGFiKGhleDJyZ2Ioc29sYXJDb2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKHNvbGFyQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IG1vZGlmaWVkQ29sb3JcbiAgICAgICAgICAgICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkQ29sb3IpKVxuICAgICAgICAgICAgICAgICAgOiBzb2xhckNvbG9yO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICR7ZW50aXR5XG4gICAgICAgICAgICAgICAgICAgICAgPyBjb21wdXRlU3RhdGVOYW1lKGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHNvdXJjZS5zdGF0X2VuZXJneV9mcm9tfVxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihjb21wYXJlRW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAke3R5cGVzLnNvbGFyXG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgU29sYXIgdG90YWxcbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxTb2xhckNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKHRvdGFsU29sYXIsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7dHlwZXMuYmF0dGVyeT8ubWFwKChzb3VyY2UsIGlkeCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eUZyb20gPSB0aGlzLmhhc3Muc3RhdGVzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHlUbyA9IHRoaXMuaGFzcy5zdGF0ZXNbc291cmNlLnN0YXRfZW5lcmd5X3RvXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lGcm9tID1cbiAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICApIHx8IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5VG8gPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfdG9dXG4gICAgICAgICAgICAgICAgICApIHx8IDA7XG4gICAgICAgICAgICAgICAgdG90YWxCYXR0ZXJ5ICs9IGVuZXJneUZyb20gLSBlbmVyZ3lUbztcblxuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneUZyb21Db21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVuZXJneVRvQ29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAoY29tcGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW3NvdXJjZS5zdGF0X2VuZXJneV90b11cbiAgICAgICAgICAgICAgICAgICAgKSkgfHxcbiAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgdG90YWxCYXR0ZXJ5Q29tcGFyZSArPSBlbmVyZ3lGcm9tQ29tcGFyZSAtIGVuZXJneVRvQ29tcGFyZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkRnJvbUNvbG9yID1cbiAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgPyBsYWJCcmlnaHRlbihyZ2IybGFiKGhleDJyZ2IoYmF0dGVyeUZyb21Db2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKGJhdHRlcnlGcm9tQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCBmcm9tQ29sb3IgPSBtb2RpZmllZEZyb21Db2xvclxuICAgICAgICAgICAgICAgICAgPyByZ2IyaGV4KGxhYjJyZ2IobW9kaWZpZWRGcm9tQ29sb3IpKVxuICAgICAgICAgICAgICAgICAgOiBiYXR0ZXJ5RnJvbUNvbG9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGlmaWVkVG9Db2xvciA9XG4gICAgICAgICAgICAgICAgICBpZHggPiAwXG4gICAgICAgICAgICAgICAgICAgID8gdGhpcy5oYXNzLnRoZW1lcy5kYXJrTW9kZVxuICAgICAgICAgICAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKGJhdHRlcnlUb0NvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgICA6IGxhYkRhcmtlbihyZ2IybGFiKGhleDJyZ2IoYmF0dGVyeVRvQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b0NvbG9yID0gbW9kaWZpZWRUb0NvbG9yXG4gICAgICAgICAgICAgICAgICA/IHJnYjJoZXgobGFiMnJnYihtb2RpZmllZFRvQ29sb3IpKVxuICAgICAgICAgICAgICAgICAgOiBiYXR0ZXJ5VG9Db2xvcjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGZyb21Db2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBmcm9tQ29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICA+PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke2VudGl0eUZyb21cbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcHV0ZVN0YXRlTmFtZShlbnRpdHlGcm9tKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5RnJvbUNvbXBhcmUsIHRoaXMuaGFzcy5sb2NhbGUpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneUZyb20sIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgICAgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBjZWxsLWJ1bGxldFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXZcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlPSR7c3R5bGVNYXAoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogdG9Db2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiB0b0NvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtlbnRpdHlUb1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBjb21wdXRlU3RhdGVOYW1lKGVudGl0eVRvKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmVyZ3lUb0NvbXBhcmUgKiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneVRvICogLTEsIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAke3R5cGVzLmJhdHRlcnlcbiAgICAgICAgICAgICAgICA/IGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3JvdyB0b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLmJhdHRlcnlfdG90YWxcIlxuICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsQmF0dGVyeUNvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEJhdHRlcnksIHRoaXMuaGFzcy5sb2NhbGUpfSBrV2hcbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmBcbiAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICR7dHlwZXMuZ3JpZD8ubWFwKFxuICAgICAgICAgICAgICAgIChzb3VyY2UpID0+IGh0bWxgJHtzb3VyY2UuZmxvd19mcm9tLm1hcCgoZmxvdywgaWR4KSA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmhhc3Muc3RhdGVzW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV07XG4gICAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbZmxvdy5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICApIHx8IDA7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdyaWQgKz0gZW5lcmd5O1xuXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb21wYXJlRW5lcmd5ID1cbiAgICAgICAgICAgICAgICAgICAgKGNvbXBhcmUgJiZcbiAgICAgICAgICAgICAgICAgICAgICBjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbZmxvdy5zdGF0X2VuZXJneV9mcm9tXVxuICAgICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAgIDA7XG4gICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb21wYXJlICs9IGNvbXBhcmVFbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3Rfc3RhdCA9XG4gICAgICAgICAgICAgICAgICAgIGZsb3cuc3RhdF9jb3N0IHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW2Zsb3cuc3RhdF9lbmVyZ3lfZnJvbV07XG4gICAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNbY29zdF9zdGF0XVxuICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgICBpZiAoY29zdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0ICs9IGNvc3Q7XG4gICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgICAgY29tcGFyZSAmJiBjb3N0X3N0YXRcbiAgICAgICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW2Nvc3Rfc3RhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMFxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIGlmIChjb3N0Q29tcGFyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0Q29tcGFyZSArPSBjb3N0Q29tcGFyZTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKGNvbnN1bXB0aW9uQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBsYWJEYXJrZW4ocmdiMmxhYihoZXgycmdiKGNvbnN1bXB0aW9uQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29sb3IgPSBtb2RpZmllZENvbG9yXG4gICAgICAgICAgICAgICAgICAgID8gcmdiMmhleChsYWIycmdiKG1vZGlmaWVkQ29sb3IpKVxuICAgICAgICAgICAgICAgICAgICA6IGNvbnN1bXB0aW9uQ29sb3I7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtlbnRpdHlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gY29tcHV0ZVN0YXRlTmFtZShlbnRpdHkpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGZsb3cuc3RhdF9lbmVyZ3lfZnJvbX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoY29tcGFyZUVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9IGtXaFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdENvbXBhcmUgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29zdENvbXBhcmUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKGVuZXJneSwgdGhpcy5oYXNzLmxvY2FsZSl9IGtXaFxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgID8gaHRtbGAgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3QgIT09IG51bGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGZvcm1hdE51bWJlcihjb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gO1xuICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICR7c291cmNlLmZsb3dfdG8ubWFwKChmbG93LCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGVudGl0eSA9IHRoaXMuaGFzcy5zdGF0ZXNbZmxvdy5zdGF0X2VuZXJneV90b107XG4gICAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgICAoY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzW2Zsb3cuc3RhdF9lbmVyZ3lfdG9dXG4gICAgICAgICAgICAgICAgICAgICkgfHwgMCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZCArPSBlbmVyZ3k7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjb3N0X3N0YXQgPVxuICAgICAgICAgICAgICAgICAgICBmbG93LnN0YXRfY29tcGVuc2F0aW9uIHx8XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW2Zsb3cuc3RhdF9lbmVyZ3lfdG9dO1xuICAgICAgICAgICAgICAgICAgY29uc3QgY29zdCA9IGNvc3Rfc3RhdFxuICAgICAgICAgICAgICAgICAgICA/IChjYWxjdWxhdGVTdGF0aXN0aWNTdW1Hcm93dGgoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tjb3N0X3N0YXRdXG4gICAgICAgICAgICAgICAgICAgICAgKSB8fCAwKSAqIC0xXG4gICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIGlmIChjb3N0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvc3QgKz0gY29zdDtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29uc3QgZW5lcmd5Q29tcGFyZSA9XG4gICAgICAgICAgICAgICAgICAgICgoY29tcGFyZSAmJlxuICAgICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLnN0YXRzQ29tcGFyZVtmbG93LnN0YXRfZW5lcmd5X3RvXVxuICAgICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAgICAgMCkgKiAtMTtcbiAgICAgICAgICAgICAgICAgIHRvdGFsR3JpZENvbXBhcmUgKz0gZW5lcmd5Q29tcGFyZTtcblxuICAgICAgICAgICAgICAgICAgY29uc3QgY29zdENvbXBhcmUgPVxuICAgICAgICAgICAgICAgICAgICBjb21wYXJlICYmIGNvc3Rfc3RhdFxuICAgICAgICAgICAgICAgICAgICAgID8gKGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW2Nvc3Rfc3RhdF1cbiAgICAgICAgICAgICAgICAgICAgICAgICkgfHwgMCkgKiAtMVxuICAgICAgICAgICAgICAgICAgICAgIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgIGlmIChjb3N0Q29tcGFyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0Q29tcGFyZSArPSBjb3N0Q29tcGFyZTtcbiAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgY29uc3QgbW9kaWZpZWRDb2xvciA9XG4gICAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuaGFzcy50aGVtZXMuZGFya01vZGVcbiAgICAgICAgICAgICAgICAgICAgICAgID8gbGFiQnJpZ2h0ZW4ocmdiMmxhYihoZXgycmdiKHJldHVybkNvbG9yKSksIGlkeClcbiAgICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYihyZXR1cm5Db2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjb2xvciA9IG1vZGlmaWVkQ29sb3JcbiAgICAgICAgICAgICAgICAgICAgPyByZ2IyaGV4KGxhYjJyZ2IobW9kaWZpZWRDb2xvcikpXG4gICAgICAgICAgICAgICAgICAgIDogcmV0dXJuQ29sb3I7XG5cbiAgICAgICAgICAgICAgICAgIHJldHVybiBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImJ1bGxldFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyQ29sb3I6IGNvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IGNvbG9yICsgXCI3RlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgICAgPjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHtlbnRpdHkgPyBjb21wdXRlU3RhdGVOYW1lKGVudGl0eSkgOiBmbG93LnN0YXRfZW5lcmd5X3RvfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3lDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0Q29tcGFyZSAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5LCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7Y29zdCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICA8L3RyPmA7XG4gICAgICAgICAgICAgICAgfSl9YFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAke3R5cGVzLmdyaWRcbiAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS5ncmlkX3RvdGFsXCJcbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICAke2NvbXBhcmVcbiAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcih0b3RhbEdyaWRDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrV2hcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbEdyaWRDb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHcmlkLCB0aGlzLmhhc3MubG9jYWxlKX0ga1doXG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHcmlkQ29zdCwgdGhpcy5oYXNzLmxvY2FsZSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgIDwvdHI+YFxuICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgJHt0eXBlcy5nYXM/Lm1hcCgoc291cmNlLCBpZHgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlbnRpdHkgPSB0aGlzLmhhc3Muc3RhdGVzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXTtcbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3kgPVxuICAgICAgICAgICAgICAgICAgY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c1tzb3VyY2Uuc3RhdF9lbmVyZ3lfZnJvbV1cbiAgICAgICAgICAgICAgICAgICkgfHwgMDtcbiAgICAgICAgICAgICAgICB0b3RhbEdhcyArPSBlbmVyZ3k7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBlbmVyZ3lDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgIChjb21wYXJlICYmXG4gICAgICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aChcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9kYXRhIS5zdGF0c0NvbXBhcmVbc291cmNlLnN0YXRfZW5lcmd5X2Zyb21dXG4gICAgICAgICAgICAgICAgICAgICkpIHx8XG4gICAgICAgICAgICAgICAgICAwO1xuICAgICAgICAgICAgICAgIHRvdGFsR2FzQ29tcGFyZSArPSBlbmVyZ3lDb21wYXJlO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgY29zdF9zdGF0ID1cbiAgICAgICAgICAgICAgICAgIHNvdXJjZS5zdGF0X2Nvc3QgfHxcbiAgICAgICAgICAgICAgICAgIHRoaXMuX2RhdGEhLmluZm8uY29zdF9zZW5zb3JzW3NvdXJjZS5zdGF0X2VuZXJneV9mcm9tXTtcbiAgICAgICAgICAgICAgICBjb25zdCBjb3N0ID0gY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICA/IGNhbGN1bGF0ZVN0YXRpc3RpY1N1bUdyb3d0aCh0aGlzLl9kYXRhIS5zdGF0c1tjb3N0X3N0YXRdKSB8fFxuICAgICAgICAgICAgICAgICAgICAwXG4gICAgICAgICAgICAgICAgICA6IG51bGw7XG4gICAgICAgICAgICAgICAgaWYgKGNvc3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHRvdGFsR2FzQ29zdCArPSBjb3N0O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGNvc3RDb21wYXJlID1cbiAgICAgICAgICAgICAgICAgIGNvbXBhcmUgJiYgY29zdF9zdGF0XG4gICAgICAgICAgICAgICAgICAgID8gY2FsY3VsYXRlU3RhdGlzdGljU3VtR3Jvd3RoKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZGF0YSEuc3RhdHNDb21wYXJlW2Nvc3Rfc3RhdF1cbiAgICAgICAgICAgICAgICAgICAgICApIHx8IDBcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsO1xuICAgICAgICAgICAgICAgIGlmIChjb3N0Q29tcGFyZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0Q29tcGFyZSArPSBjb3N0Q29tcGFyZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllZENvbG9yID1cbiAgICAgICAgICAgICAgICAgIGlkeCA+IDBcbiAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmhhc3MudGhlbWVzLmRhcmtNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgPyBsYWJCcmlnaHRlbihyZ2IybGFiKGhleDJyZ2IoZ2FzQ29sb3IpKSwgaWR4KVxuICAgICAgICAgICAgICAgICAgICAgIDogbGFiRGFya2VuKHJnYjJsYWIoaGV4MnJnYihnYXNDb2xvcikpLCBpZHgpXG4gICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gbW9kaWZpZWRDb2xvclxuICAgICAgICAgICAgICAgICAgPyByZ2IyaGV4KGxhYjJyZ2IobW9kaWZpZWRDb2xvcikpXG4gICAgICAgICAgICAgICAgICA6IGdhc0NvbG9yO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3Jvd1wiPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgY2VsbC1idWxsZXRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiYnVsbGV0XCJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZT0ke3N0eWxlTWFwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlckNvbG9yOiBjb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogY29sb3IgKyBcIjdGXCIsXG4gICAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICAgID48L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICR7ZW50aXR5XG4gICAgICAgICAgICAgICAgICAgICAgPyBjb21wdXRlU3RhdGVOYW1lKGVudGl0eSlcbiAgICAgICAgICAgICAgICAgICAgICA6IHNvdXJjZS5zdGF0X2VuZXJneV9mcm9tfVxuICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICR7Y29tcGFyZVxuICAgICAgICAgICAgICAgICAgICA/IGh0bWxgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoZW5lcmd5Q29tcGFyZSwgdGhpcy5oYXNzLmxvY2FsZSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7Z2FzVW5pdH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAke3Nob3dDb3N0c1xuICAgICAgICAgICAgICAgICAgICAgICAgICA/IGh0bWxgPHRkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2Nvc3RDb21wYXJlICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3RDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogXCJjdXJyZW5jeVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPHRkXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAke2Zvcm1hdE51bWJlcihlbmVyZ3ksIHRoaXMuaGFzcy5sb2NhbGUpfSAke2dhc1VuaXR9XG4gICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgJHtzaG93Q29zdHNcbiAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbCBtZGMtZGF0YS10YWJsZV9fY2VsbC0tbnVtZXJpY1wiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgJHtjb3N0ICE9PSBudWxsXG4gICAgICAgICAgICAgICAgICAgICAgICAgID8gZm9ybWF0TnVtYmVyKGNvc3QsIHRoaXMuaGFzcy5sb2NhbGUsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgPC90cj5gO1xuICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgJHt0eXBlcy5nYXNcbiAgICAgICAgICAgICAgICA/IGh0bWxgPHRyIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX3JvdyB0b3RhbFwiPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiPjwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCIgc2NvcGU9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAke3RoaXMuaGFzcy5sb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidWkucGFuZWwubG92ZWxhY2UuY2FyZHMuZW5lcmd5LmVuZXJneV9zb3VyY2VzX3RhYmxlLmdhc190b3RhbFwiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHYXNDb21wYXJlLCB0aGlzLmhhc3MubG9jYWxlKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke2dhc1VuaXR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0Q29tcGFyZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhc3MubG9jYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifWBcbiAgICAgICAgICAgICAgICAgICAgICA6IFwiXCJ9XG4gICAgICAgICAgICAgICAgICAgIDx0ZFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGwgbWRjLWRhdGEtdGFibGVfX2NlbGwtLW51bWVyaWNcIlxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHYXMsIHRoaXMuaGFzcy5sb2NhbGUpfSAke2dhc1VuaXR9XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgJHtmb3JtYXROdW1iZXIodG90YWxHYXNDb3N0LCB0aGlzLmhhc3MubG9jYWxlLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW5jeTogdGhpcy5oYXNzLmNvbmZpZy5jdXJyZW5jeSEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAke3RvdGFsR2FzQ29zdCAmJiB0b3RhbEdyaWRDb3N0XG4gICAgICAgICAgICAgICAgPyBodG1sYDx0ciBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19yb3cgdG90YWxcIj5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGggY2xhc3M9XCJtZGMtZGF0YS10YWJsZV9fY2VsbFwiIHNjb3BlPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgICAgJHt0aGlzLmhhc3MubG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICBcInVpLnBhbmVsLmxvdmVsYWNlLmNhcmRzLmVuZXJneS5lbmVyZ3lfc291cmNlc190YWJsZS50b3RhbF9jb3N0c1wiXG4gICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgJHtjb21wYXJlXG4gICAgICAgICAgICAgICAgICAgICAgPyBodG1sYCR7c2hvd0Nvc3RzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBodG1sYDx0ZCBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsXCI+PC90ZD5gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0Q29tcGFyZSArIHRvdGFsR3JpZENvc3RDb21wYXJlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYXNzLmxvY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IFwiY3VycmVuY3lcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6IHRoaXMuaGFzcy5jb25maWcuY3VycmVuY3khLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+YFxuICAgICAgICAgICAgICAgICAgICAgIDogXCJcIn1cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwibWRjLWRhdGEtdGFibGVfX2NlbGxcIj48L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGRcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1kYy1kYXRhLXRhYmxlX19jZWxsIG1kYy1kYXRhLXRhYmxlX19jZWxsLS1udW1lcmljXCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICR7Zm9ybWF0TnVtYmVyKFxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxHYXNDb3N0ICsgdG90YWxHcmlkQ29zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzcy5sb2NhbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiBcImN1cnJlbmN5XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiB0aGlzLmhhc3MuY29uZmlnLmN1cnJlbmN5ISxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5gXG4gICAgICAgICAgICAgICAgOiBcIlwifVxuICAgICAgICAgICAgPC90Ym9keT5cbiAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvaGEtY2FyZD5gO1xuICB9XG5cbiAgc3RhdGljIGdldCBzdHlsZXMoKTogQ1NTUmVzdWx0R3JvdXAge1xuICAgIHJldHVybiBjc3NgXG4gICAgICAke3Vuc2FmZUNTUyhkYXRhVGFibGVTdHlsZXMpfVxuICAgICAgLm1kYy1kYXRhLXRhYmxlIHtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgIGJvcmRlcjogMDtcbiAgICAgIH1cbiAgICAgIC5tZGMtZGF0YS10YWJsZV9faGVhZGVyLWNlbGwsXG4gICAgICAubWRjLWRhdGEtdGFibGVfX2NlbGwge1xuICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS10ZXh0LWNvbG9yKTtcbiAgICAgICAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tZGl2aWRlci1jb2xvcik7XG4gICAgICB9XG4gICAgICAubWRjLWRhdGEtdGFibGVfX3Jvdzpub3QoLm1kYy1kYXRhLXRhYmxlX19yb3ctLXNlbGVjdGVkKTpob3ZlciB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEodmFyKC0tcmdiLXByaW1hcnktdGV4dC1jb2xvciksIDAuMDQpO1xuICAgICAgfVxuICAgICAgLnRvdGFsIHtcbiAgICAgICAgLS1tZGMtdHlwb2dyYXBoeS1ib2R5Mi1mb250LXdlaWdodDogNTAwO1xuICAgICAgfVxuICAgICAgLnRvdGFsIC5tZGMtZGF0YS10YWJsZV9fY2VsbCB7XG4gICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS1kaXZpZGVyLWNvbG9yKTtcbiAgICAgIH1cbiAgICAgIGhhLWNhcmQge1xuICAgICAgICBoZWlnaHQ6IDEwMCU7XG4gICAgICB9XG4gICAgICAuY2FyZC1oZWFkZXIge1xuICAgICAgICBwYWRkaW5nLWJvdHRvbTogMDtcbiAgICAgIH1cbiAgICAgIC5jb250ZW50IHtcbiAgICAgICAgcGFkZGluZzogMTZweDtcbiAgICAgIH1cbiAgICAgIC5oYXMtaGVhZGVyIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDA7XG4gICAgICB9XG4gICAgICAuY2VsbC1idWxsZXQge1xuICAgICAgICB3aWR0aDogMzJweDtcbiAgICAgICAgcGFkZGluZy1yaWdodDogMDtcbiAgICAgIH1cbiAgICAgIC5idWxsZXQge1xuICAgICAgICBib3JkZXItd2lkdGg6IDFweDtcbiAgICAgICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICBoZWlnaHQ6IDE2cHg7XG4gICAgICAgIHdpZHRoOiAzMnB4O1xuICAgICAgfVxuICAgIGA7XG4gIH1cbn1cblxuZGVjbGFyZSBnbG9iYWwge1xuICBpbnRlcmZhY2UgSFRNTEVsZW1lbnRUYWdOYW1lTWFwIHtcbiAgICBcImh1aS1lbmVyZ3ktc291cmNlcy10YWJsZS1jYXJkXCI6IEh1aUVuZXJneVNvdXJjZXNUYWJsZUNhcmQ7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/panels/lovelace/cards/energy/hui-energy-sources-table-card.ts\n");

/***/ })

}]);