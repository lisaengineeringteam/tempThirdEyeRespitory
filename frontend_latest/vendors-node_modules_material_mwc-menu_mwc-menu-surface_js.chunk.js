"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkhome_assistant_frontend"] = self["webpackChunkhome_assistant_frontend"] || []).push([["vendors-node_modules_material_mwc-menu_mwc-menu-surface_js"],{

/***/ "./node_modules/@material/menu-surface/constants.js":
/*!**********************************************************!*\
  !*** ./node_modules/@material/menu-surface/constants.js ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"cssClasses\": () => (/* binding */ cssClasses),\n/* harmony export */   \"strings\": () => (/* binding */ strings),\n/* harmony export */   \"numbers\": () => (/* binding */ numbers),\n/* harmony export */   \"CornerBit\": () => (/* binding */ CornerBit),\n/* harmony export */   \"Corner\": () => (/* binding */ Corner)\n/* harmony export */ });\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\nvar cssClasses = {\n  ANCHOR: 'mdc-menu-surface--anchor',\n  ANIMATING_CLOSED: 'mdc-menu-surface--animating-closed',\n  ANIMATING_OPEN: 'mdc-menu-surface--animating-open',\n  FIXED: 'mdc-menu-surface--fixed',\n  IS_OPEN_BELOW: 'mdc-menu-surface--is-open-below',\n  OPEN: 'mdc-menu-surface--open',\n  ROOT: 'mdc-menu-surface'\n}; // tslint:disable:object-literal-sort-keys\n\nvar strings = {\n  CLOSED_EVENT: 'MDCMenuSurface:closed',\n  CLOSING_EVENT: 'MDCMenuSurface:closing',\n  OPENED_EVENT: 'MDCMenuSurface:opened',\n  FOCUSABLE_ELEMENTS: ['button:not(:disabled)', '[href]:not([aria-disabled=\"true\"])', 'input:not(:disabled)', 'select:not(:disabled)', 'textarea:not(:disabled)', '[tabindex]:not([tabindex=\"-1\"]):not([aria-disabled=\"true\"])'].join(', ')\n}; // tslint:enable:object-literal-sort-keys\n\nvar numbers = {\n  /** Total duration of menu-surface open animation. */\n  TRANSITION_OPEN_DURATION: 120,\n\n  /** Total duration of menu-surface close animation. */\n  TRANSITION_CLOSE_DURATION: 75,\n\n  /**\n   * Margin left to the edge of the viewport when menu-surface is at maximum\n   * possible height. Also used as a viewport margin.\n   */\n  MARGIN_TO_EDGE: 32,\n\n  /**\n   * Ratio of anchor width to menu-surface width for switching from corner\n   * positioning to center positioning.\n   */\n  ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO: 0.67,\n\n  /**\n   * Amount of time to wait before restoring focus when closing the menu\n   * surface. This is important because if a touch event triggered the menu\n   * close, and the subsequent mouse event occurs after focus is restored, then\n   * the restored focus would be lost.\n   */\n  TOUCH_EVENT_WAIT_MS: 30\n};\n/**\n * Enum for bits in the {@see Corner) bitmap.\n */\n\nvar CornerBit;\n\n(function (CornerBit) {\n  CornerBit[CornerBit[\"BOTTOM\"] = 1] = \"BOTTOM\";\n  CornerBit[CornerBit[\"CENTER\"] = 2] = \"CENTER\";\n  CornerBit[CornerBit[\"RIGHT\"] = 4] = \"RIGHT\";\n  CornerBit[CornerBit[\"FLIP_RTL\"] = 8] = \"FLIP_RTL\";\n})(CornerBit || (CornerBit = {}));\n/**\n * Enum for representing an element corner for positioning the menu-surface.\n *\n * The START constants map to LEFT if element directionality is left\n * to right and RIGHT if the directionality is right to left.\n * Likewise END maps to RIGHT or LEFT depending on the directionality.\n */\n\n\nvar Corner;\n\n(function (Corner) {\n  Corner[Corner[\"TOP_LEFT\"] = 0] = \"TOP_LEFT\";\n  Corner[Corner[\"TOP_RIGHT\"] = 4] = \"TOP_RIGHT\";\n  Corner[Corner[\"BOTTOM_LEFT\"] = 1] = \"BOTTOM_LEFT\";\n  Corner[Corner[\"BOTTOM_RIGHT\"] = 5] = \"BOTTOM_RIGHT\";\n  Corner[Corner[\"TOP_START\"] = 8] = \"TOP_START\";\n  Corner[Corner[\"TOP_END\"] = 12] = \"TOP_END\";\n  Corner[Corner[\"BOTTOM_START\"] = 9] = \"BOTTOM_START\";\n  Corner[Corner[\"BOTTOM_END\"] = 13] = \"BOTTOM_END\";\n})(Corner || (Corner = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9jb25zdGFudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBcUJBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBOztBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTs7QUFlQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTs7O0FBR0E7QUFDQTs7QUFFQTs7Ozs7QUFLQTtBQUNBO0FBekJBO0FBNEJBOztBQUVBOztBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7Ozs7QUFNQTs7O0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC9jb25zdGFudHMudHM/OWJiZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbnZhciBjc3NDbGFzc2VzID0ge1xuICAgIEFOQ0hPUjogJ21kYy1tZW51LXN1cmZhY2UtLWFuY2hvcicsXG4gICAgQU5JTUFUSU5HX0NMT1NFRDogJ21kYy1tZW51LXN1cmZhY2UtLWFuaW1hdGluZy1jbG9zZWQnLFxuICAgIEFOSU1BVElOR19PUEVOOiAnbWRjLW1lbnUtc3VyZmFjZS0tYW5pbWF0aW5nLW9wZW4nLFxuICAgIEZJWEVEOiAnbWRjLW1lbnUtc3VyZmFjZS0tZml4ZWQnLFxuICAgIElTX09QRU5fQkVMT1c6ICdtZGMtbWVudS1zdXJmYWNlLS1pcy1vcGVuLWJlbG93JyxcbiAgICBPUEVOOiAnbWRjLW1lbnUtc3VyZmFjZS0tb3BlbicsXG4gICAgUk9PVDogJ21kYy1tZW51LXN1cmZhY2UnLFxufTtcbi8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xudmFyIHN0cmluZ3MgPSB7XG4gICAgQ0xPU0VEX0VWRU5UOiAnTURDTWVudVN1cmZhY2U6Y2xvc2VkJyxcbiAgICBDTE9TSU5HX0VWRU5UOiAnTURDTWVudVN1cmZhY2U6Y2xvc2luZycsXG4gICAgT1BFTkVEX0VWRU5UOiAnTURDTWVudVN1cmZhY2U6b3BlbmVkJyxcbiAgICBGT0NVU0FCTEVfRUxFTUVOVFM6IFtcbiAgICAgICAgJ2J1dHRvbjpub3QoOmRpc2FibGVkKScsXG4gICAgICAgICdbaHJlZl06bm90KFthcmlhLWRpc2FibGVkPVwidHJ1ZVwiXSknLFxuICAgICAgICAnaW5wdXQ6bm90KDpkaXNhYmxlZCknLFxuICAgICAgICAnc2VsZWN0Om5vdCg6ZGlzYWJsZWQpJyxcbiAgICAgICAgJ3RleHRhcmVhOm5vdCg6ZGlzYWJsZWQpJyxcbiAgICAgICAgJ1t0YWJpbmRleF06bm90KFt0YWJpbmRleD1cIi0xXCJdKTpub3QoW2FyaWEtZGlzYWJsZWQ9XCJ0cnVlXCJdKScsXG4gICAgXS5qb2luKCcsICcpLFxufTtcbi8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG52YXIgbnVtYmVycyA9IHtcbiAgICAvKiogVG90YWwgZHVyYXRpb24gb2YgbWVudS1zdXJmYWNlIG9wZW4gYW5pbWF0aW9uLiAqL1xuICAgIFRSQU5TSVRJT05fT1BFTl9EVVJBVElPTjogMTIwLFxuICAgIC8qKiBUb3RhbCBkdXJhdGlvbiBvZiBtZW51LXN1cmZhY2UgY2xvc2UgYW5pbWF0aW9uLiAqL1xuICAgIFRSQU5TSVRJT05fQ0xPU0VfRFVSQVRJT046IDc1LFxuICAgIC8qKlxuICAgICAqIE1hcmdpbiBsZWZ0IHRvIHRoZSBlZGdlIG9mIHRoZSB2aWV3cG9ydCB3aGVuIG1lbnUtc3VyZmFjZSBpcyBhdCBtYXhpbXVtXG4gICAgICogcG9zc2libGUgaGVpZ2h0LiBBbHNvIHVzZWQgYXMgYSB2aWV3cG9ydCBtYXJnaW4uXG4gICAgICovXG4gICAgTUFSR0lOX1RPX0VER0U6IDMyLFxuICAgIC8qKlxuICAgICAqIFJhdGlvIG9mIGFuY2hvciB3aWR0aCB0byBtZW51LXN1cmZhY2Ugd2lkdGggZm9yIHN3aXRjaGluZyBmcm9tIGNvcm5lclxuICAgICAqIHBvc2l0aW9uaW5nIHRvIGNlbnRlciBwb3NpdGlvbmluZy5cbiAgICAgKi9cbiAgICBBTkNIT1JfVE9fTUVOVV9TVVJGQUNFX1dJRFRIX1JBVElPOiAwLjY3LFxuICAgIC8qKlxuICAgICAqIEFtb3VudCBvZiB0aW1lIHRvIHdhaXQgYmVmb3JlIHJlc3RvcmluZyBmb2N1cyB3aGVuIGNsb3NpbmcgdGhlIG1lbnVcbiAgICAgKiBzdXJmYWNlLiBUaGlzIGlzIGltcG9ydGFudCBiZWNhdXNlIGlmIGEgdG91Y2ggZXZlbnQgdHJpZ2dlcmVkIHRoZSBtZW51XG4gICAgICogY2xvc2UsIGFuZCB0aGUgc3Vic2VxdWVudCBtb3VzZSBldmVudCBvY2N1cnMgYWZ0ZXIgZm9jdXMgaXMgcmVzdG9yZWQsIHRoZW5cbiAgICAgKiB0aGUgcmVzdG9yZWQgZm9jdXMgd291bGQgYmUgbG9zdC5cbiAgICAgKi9cbiAgICBUT1VDSF9FVkVOVF9XQUlUX01TOiAzMCxcbn07XG4vKipcbiAqIEVudW0gZm9yIGJpdHMgaW4gdGhlIHtAc2VlIENvcm5lcikgYml0bWFwLlxuICovXG52YXIgQ29ybmVyQml0O1xuKGZ1bmN0aW9uIChDb3JuZXJCaXQpIHtcbiAgICBDb3JuZXJCaXRbQ29ybmVyQml0W1wiQk9UVE9NXCJdID0gMV0gPSBcIkJPVFRPTVwiO1xuICAgIENvcm5lckJpdFtDb3JuZXJCaXRbXCJDRU5URVJcIl0gPSAyXSA9IFwiQ0VOVEVSXCI7XG4gICAgQ29ybmVyQml0W0Nvcm5lckJpdFtcIlJJR0hUXCJdID0gNF0gPSBcIlJJR0hUXCI7XG4gICAgQ29ybmVyQml0W0Nvcm5lckJpdFtcIkZMSVBfUlRMXCJdID0gOF0gPSBcIkZMSVBfUlRMXCI7XG59KShDb3JuZXJCaXQgfHwgKENvcm5lckJpdCA9IHt9KSk7XG4vKipcbiAqIEVudW0gZm9yIHJlcHJlc2VudGluZyBhbiBlbGVtZW50IGNvcm5lciBmb3IgcG9zaXRpb25pbmcgdGhlIG1lbnUtc3VyZmFjZS5cbiAqXG4gKiBUaGUgU1RBUlQgY29uc3RhbnRzIG1hcCB0byBMRUZUIGlmIGVsZW1lbnQgZGlyZWN0aW9uYWxpdHkgaXMgbGVmdFxuICogdG8gcmlnaHQgYW5kIFJJR0hUIGlmIHRoZSBkaXJlY3Rpb25hbGl0eSBpcyByaWdodCB0byBsZWZ0LlxuICogTGlrZXdpc2UgRU5EIG1hcHMgdG8gUklHSFQgb3IgTEVGVCBkZXBlbmRpbmcgb24gdGhlIGRpcmVjdGlvbmFsaXR5LlxuICovXG52YXIgQ29ybmVyO1xuKGZ1bmN0aW9uIChDb3JuZXIpIHtcbiAgICBDb3JuZXJbQ29ybmVyW1wiVE9QX0xFRlRcIl0gPSAwXSA9IFwiVE9QX0xFRlRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiVE9QX1JJR0hUXCJdID0gNF0gPSBcIlRPUF9SSUdIVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJCT1RUT01fTEVGVFwiXSA9IDFdID0gXCJCT1RUT01fTEVGVFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJCT1RUT01fUklHSFRcIl0gPSA1XSA9IFwiQk9UVE9NX1JJR0hUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIlRPUF9TVEFSVFwiXSA9IDhdID0gXCJUT1BfU1RBUlRcIjtcbiAgICBDb3JuZXJbQ29ybmVyW1wiVE9QX0VORFwiXSA9IDEyXSA9IFwiVE9QX0VORFwiO1xuICAgIENvcm5lcltDb3JuZXJbXCJCT1RUT01fU1RBUlRcIl0gPSA5XSA9IFwiQk9UVE9NX1NUQVJUXCI7XG4gICAgQ29ybmVyW0Nvcm5lcltcIkJPVFRPTV9FTkRcIl0gPSAxM10gPSBcIkJPVFRPTV9FTkRcIjtcbn0pKENvcm5lciB8fCAoQ29ybmVyID0ge30pKTtcbmV4cG9ydCB7IGNzc0NsYXNzZXMsIHN0cmluZ3MsIG51bWJlcnMsIENvcm5lckJpdCwgQ29ybmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/@material/menu-surface/constants.js\n");

/***/ }),

/***/ "./node_modules/@material/menu-surface/foundation.js":
/*!***********************************************************!*\
  !*** ./node_modules/@material/menu-surface/foundation.js ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MDCMenuSurfaceFoundation\": () => (/* binding */ MDCMenuSurfaceFoundation),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _material_base_foundation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/base/foundation */ \"./node_modules/@material/base/foundation.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./constants */ \"./node_modules/@material/menu-surface/constants.js\");\n/**\n * @license\n * Copyright 2018 Google Inc.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n */\n\n\n\n\nvar MDCMenuSurfaceFoundation = function (_super) {\n  (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__extends)(MDCMenuSurfaceFoundation, _super);\n\n  function MDCMenuSurfaceFoundation(adapter) {\n    var _this = _super.call(this, (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, MDCMenuSurfaceFoundation.defaultAdapter), adapter)) || this;\n\n    _this.isSurfaceOpen = false;\n    _this.isQuickOpen = false;\n    _this.isHoistedElement = false;\n    _this.isFixedPosition = false;\n    _this.isHorizontallyCenteredOnViewport = false;\n    _this.maxHeight = 0;\n    _this.openBottomBias = 0;\n    _this.openAnimationEndTimerId = 0;\n    _this.closeAnimationEndTimerId = 0;\n    _this.animationRequestId = 0;\n    _this.anchorCorner = _constants__WEBPACK_IMPORTED_MODULE_1__.Corner.TOP_START;\n    /**\n     * Corner of the menu surface to which menu surface is attached to anchor.\n     *\n     *  Anchor corner --->+----------+\n     *                    |  ANCHOR  |\n     *                    +----------+\n     *  Origin corner --->+--------------+\n     *                    |              |\n     *                    |              |\n     *                    | MENU SURFACE |\n     *                    |              |\n     *                    |              |\n     *                    +--------------+\n     */\n\n    _this.originCorner = _constants__WEBPACK_IMPORTED_MODULE_1__.Corner.TOP_START;\n    _this.anchorMargin = {\n      top: 0,\n      right: 0,\n      bottom: 0,\n      left: 0\n    };\n    _this.position = {\n      x: 0,\n      y: 0\n    };\n    return _this;\n  }\n\n  Object.defineProperty(MDCMenuSurfaceFoundation, \"cssClasses\", {\n    get: function () {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.cssClasses;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenuSurfaceFoundation, \"strings\", {\n    get: function () {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.strings;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenuSurfaceFoundation, \"numbers\", {\n    get: function () {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.numbers;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenuSurfaceFoundation, \"Corner\", {\n    get: function () {\n      return _constants__WEBPACK_IMPORTED_MODULE_1__.Corner;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MDCMenuSurfaceFoundation, \"defaultAdapter\", {\n    /**\n     * @see {@link MDCMenuSurfaceAdapter} for typing information on parameters and return types.\n     */\n    get: function () {\n      // tslint:disable:object-literal-sort-keys Methods should be in the same order as the adapter interface.\n      return {\n        addClass: function () {\n          return undefined;\n        },\n        removeClass: function () {\n          return undefined;\n        },\n        hasClass: function () {\n          return false;\n        },\n        hasAnchor: function () {\n          return false;\n        },\n        isElementInContainer: function () {\n          return false;\n        },\n        isFocused: function () {\n          return false;\n        },\n        isRtl: function () {\n          return false;\n        },\n        getInnerDimensions: function () {\n          return {\n            height: 0,\n            width: 0\n          };\n        },\n        getAnchorDimensions: function () {\n          return null;\n        },\n        getWindowDimensions: function () {\n          return {\n            height: 0,\n            width: 0\n          };\n        },\n        getBodyDimensions: function () {\n          return {\n            height: 0,\n            width: 0\n          };\n        },\n        getWindowScroll: function () {\n          return {\n            x: 0,\n            y: 0\n          };\n        },\n        setPosition: function () {\n          return undefined;\n        },\n        setMaxHeight: function () {\n          return undefined;\n        },\n        setTransformOrigin: function () {\n          return undefined;\n        },\n        saveFocus: function () {\n          return undefined;\n        },\n        restoreFocus: function () {\n          return undefined;\n        },\n        notifyClose: function () {\n          return undefined;\n        },\n        notifyOpen: function () {\n          return undefined;\n        },\n        notifyClosing: function () {\n          return undefined;\n        }\n      }; // tslint:enable:object-literal-sort-keys\n    },\n    enumerable: false,\n    configurable: true\n  });\n\n  MDCMenuSurfaceFoundation.prototype.init = function () {\n    var _a = MDCMenuSurfaceFoundation.cssClasses,\n        ROOT = _a.ROOT,\n        OPEN = _a.OPEN;\n\n    if (!this.adapter.hasClass(ROOT)) {\n      throw new Error(ROOT + \" class required in root element.\");\n    }\n\n    if (this.adapter.hasClass(OPEN)) {\n      this.isSurfaceOpen = true;\n    }\n  };\n\n  MDCMenuSurfaceFoundation.prototype.destroy = function () {\n    clearTimeout(this.openAnimationEndTimerId);\n    clearTimeout(this.closeAnimationEndTimerId); // Cancel any currently running animations.\n\n    cancelAnimationFrame(this.animationRequestId);\n  };\n  /**\n   * @param corner Default anchor corner alignment of top-left menu surface\n   *     corner.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.setAnchorCorner = function (corner) {\n    this.anchorCorner = corner;\n  };\n  /**\n   * Flip menu corner horizontally.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.flipCornerHorizontally = function () {\n    this.originCorner = this.originCorner ^ _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT;\n  };\n  /**\n   * @param margin Set of margin values from anchor.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.setAnchorMargin = function (margin) {\n    this.anchorMargin.top = margin.top || 0;\n    this.anchorMargin.right = margin.right || 0;\n    this.anchorMargin.bottom = margin.bottom || 0;\n    this.anchorMargin.left = margin.left || 0;\n  };\n  /** Used to indicate if the menu-surface is hoisted to the body. */\n\n\n  MDCMenuSurfaceFoundation.prototype.setIsHoisted = function (isHoisted) {\n    this.isHoistedElement = isHoisted;\n  };\n  /**\n   * Used to set the menu-surface calculations based on a fixed position menu.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.setFixedPosition = function (isFixedPosition) {\n    this.isFixedPosition = isFixedPosition;\n  };\n  /**\n   * @return Returns true if menu is in fixed (`position: fixed`) position.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.isFixed = function () {\n    return this.isFixedPosition;\n  };\n  /** Sets the menu-surface position on the page. */\n\n\n  MDCMenuSurfaceFoundation.prototype.setAbsolutePosition = function (x, y) {\n    this.position.x = this.isFinite(x) ? x : 0;\n    this.position.y = this.isFinite(y) ? y : 0;\n  };\n  /** Sets whether menu-surface should be horizontally centered to viewport. */\n\n\n  MDCMenuSurfaceFoundation.prototype.setIsHorizontallyCenteredOnViewport = function (isCentered) {\n    this.isHorizontallyCenteredOnViewport = isCentered;\n  };\n\n  MDCMenuSurfaceFoundation.prototype.setQuickOpen = function (quickOpen) {\n    this.isQuickOpen = quickOpen;\n  };\n  /**\n   * Sets maximum menu-surface height on open.\n   * @param maxHeight The desired max-height. Set to 0 (default) to\n   *     automatically calculate max height based on available viewport space.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.setMaxHeight = function (maxHeight) {\n    this.maxHeight = maxHeight;\n  };\n  /**\n   * Set to a positive integer to influence the menu to preferentially open\n   * below the anchor instead of above.\n   * @param bias A value of `x` simulates an extra `x` pixels of available space\n   *     below the menu during positioning calculations.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.setOpenBottomBias = function (bias) {\n    this.openBottomBias = bias;\n  };\n\n  MDCMenuSurfaceFoundation.prototype.isOpen = function () {\n    return this.isSurfaceOpen;\n  };\n  /**\n   * Open the menu surface.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.open = function () {\n    var _this = this;\n\n    if (this.isSurfaceOpen) {\n      return;\n    }\n\n    this.adapter.saveFocus();\n\n    if (this.isQuickOpen) {\n      this.isSurfaceOpen = true;\n      this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      this.dimensions = this.adapter.getInnerDimensions();\n      this.autoposition();\n      this.adapter.notifyOpen();\n    } else {\n      this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n      this.animationRequestId = requestAnimationFrame(function () {\n        _this.dimensions = _this.adapter.getInnerDimensions();\n\n        _this.autoposition();\n\n        _this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n\n        _this.openAnimationEndTimerId = setTimeout(function () {\n          _this.openAnimationEndTimerId = 0;\n\n          _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_OPEN);\n\n          _this.adapter.notifyOpen();\n        }, _constants__WEBPACK_IMPORTED_MODULE_1__.numbers.TRANSITION_OPEN_DURATION);\n      });\n      this.isSurfaceOpen = true;\n    }\n  };\n  /**\n   * Closes the menu surface.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.close = function (skipRestoreFocus) {\n    var _this = this;\n\n    if (skipRestoreFocus === void 0) {\n      skipRestoreFocus = false;\n    }\n\n    if (!this.isSurfaceOpen) {\n      return;\n    }\n\n    this.adapter.notifyClosing();\n\n    if (this.isQuickOpen) {\n      this.isSurfaceOpen = false;\n\n      if (!skipRestoreFocus) {\n        this.maybeRestoreFocus();\n      }\n\n      this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n      this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n      this.adapter.notifyClose();\n      return;\n    }\n\n    this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n    requestAnimationFrame(function () {\n      _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.OPEN);\n\n      _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n\n      _this.closeAnimationEndTimerId = setTimeout(function () {\n        _this.closeAnimationEndTimerId = 0;\n\n        _this.adapter.removeClass(MDCMenuSurfaceFoundation.cssClasses.ANIMATING_CLOSED);\n\n        _this.adapter.notifyClose();\n      }, _constants__WEBPACK_IMPORTED_MODULE_1__.numbers.TRANSITION_CLOSE_DURATION);\n    });\n    this.isSurfaceOpen = false;\n\n    if (!skipRestoreFocus) {\n      this.maybeRestoreFocus();\n    }\n  };\n  /** Handle clicks and close if not within menu-surface element. */\n\n\n  MDCMenuSurfaceFoundation.prototype.handleBodyClick = function (evt) {\n    var el = evt.target;\n\n    if (this.adapter.isElementInContainer(el)) {\n      return;\n    }\n\n    this.close();\n  };\n  /** Handle keys that close the surface. */\n\n\n  MDCMenuSurfaceFoundation.prototype.handleKeydown = function (evt) {\n    var keyCode = evt.keyCode,\n        key = evt.key;\n    var isEscape = key === 'Escape' || keyCode === 27;\n\n    if (isEscape) {\n      this.close();\n    }\n  };\n\n  MDCMenuSurfaceFoundation.prototype.autoposition = function () {\n    var _a; // Compute measurements for autoposition methods reuse.\n\n\n    this.measurements = this.getAutoLayoutmeasurements();\n    var corner = this.getoriginCorner();\n    var maxMenuSurfaceHeight = this.getMenuSurfaceMaxHeight(corner);\n    var verticalAlignment = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM) ? 'bottom' : 'top';\n    var horizontalAlignment = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT) ? 'right' : 'left';\n    var horizontalOffset = this.getHorizontalOriginOffset(corner);\n    var verticalOffset = this.getVerticalOriginOffset(corner);\n    var _b = this.measurements,\n        anchorSize = _b.anchorSize,\n        surfaceSize = _b.surfaceSize;\n    var position = (_a = {}, _a[horizontalAlignment] = horizontalOffset, _a[verticalAlignment] = verticalOffset, _a); // Center align when anchor width is comparable or greater than menu\n    // surface, otherwise keep corner.\n\n    if (anchorSize.width / surfaceSize.width > _constants__WEBPACK_IMPORTED_MODULE_1__.numbers.ANCHOR_TO_MENU_SURFACE_WIDTH_RATIO) {\n      horizontalAlignment = 'center';\n    } // If the menu-surface has been hoisted to the body, it's no longer relative\n    // to the anchor element\n\n\n    if (this.isHoistedElement || this.isFixedPosition) {\n      this.adjustPositionForHoistedElement(position);\n    }\n\n    this.adapter.setTransformOrigin(horizontalAlignment + \" \" + verticalAlignment);\n    this.adapter.setPosition(position);\n    this.adapter.setMaxHeight(maxMenuSurfaceHeight ? maxMenuSurfaceHeight + 'px' : ''); // If it is opened from the top then add is-open-below class\n\n    if (!this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM)) {\n      this.adapter.addClass(MDCMenuSurfaceFoundation.cssClasses.IS_OPEN_BELOW);\n    }\n  };\n  /**\n   * @return Measurements used to position menu surface popup.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.getAutoLayoutmeasurements = function () {\n    var anchorRect = this.adapter.getAnchorDimensions();\n    var bodySize = this.adapter.getBodyDimensions();\n    var viewportSize = this.adapter.getWindowDimensions();\n    var windowScroll = this.adapter.getWindowScroll();\n\n    if (!anchorRect) {\n      // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n      anchorRect = {\n        top: this.position.y,\n        right: this.position.x,\n        bottom: this.position.y,\n        left: this.position.x,\n        width: 0,\n        height: 0\n      }; // tslint:enable:object-literal-sort-keys\n    }\n\n    return {\n      anchorSize: anchorRect,\n      bodySize: bodySize,\n      surfaceSize: this.dimensions,\n      viewportDistance: {\n        // tslint:disable:object-literal-sort-keys Positional properties are more readable when they're grouped together\n        top: anchorRect.top,\n        right: viewportSize.width - anchorRect.right,\n        bottom: viewportSize.height - anchorRect.bottom,\n        left: anchorRect.left // tslint:enable:object-literal-sort-keys\n\n      },\n      viewportSize: viewportSize,\n      windowScroll: windowScroll\n    };\n  };\n  /**\n   * Computes the corner of the anchor from which to animate and position the\n   * menu surface.\n   *\n   * Only LEFT or RIGHT bit is used to position the menu surface ignoring RTL\n   * context. E.g., menu surface will be positioned from right side on TOP_END.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.getoriginCorner = function () {\n    var corner = this.originCorner;\n    var _a = this.measurements,\n        viewportDistance = _a.viewportDistance,\n        anchorSize = _a.anchorSize,\n        surfaceSize = _a.surfaceSize;\n    var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE;\n    var isAnchoredToBottom = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    var availableTop;\n    var availableBottom;\n\n    if (isAnchoredToBottom) {\n      availableTop = viewportDistance.top - MARGIN_TO_EDGE + this.anchorMargin.bottom;\n      availableBottom = viewportDistance.bottom - MARGIN_TO_EDGE - this.anchorMargin.bottom;\n    } else {\n      availableTop = viewportDistance.top - MARGIN_TO_EDGE + this.anchorMargin.top;\n      availableBottom = viewportDistance.bottom - MARGIN_TO_EDGE + anchorSize.height - this.anchorMargin.top;\n    }\n\n    var isAvailableBottom = availableBottom - surfaceSize.height > 0;\n\n    if (!isAvailableBottom && availableTop > availableBottom + this.openBottomBias) {\n      // Attach bottom side of surface to the anchor.\n      corner = this.setBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    }\n\n    var isRtl = this.adapter.isRtl();\n    var isFlipRtl = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.FLIP_RTL);\n    var hasRightBit = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT) || this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT); // Whether surface attached to right side of anchor element.\n\n    var isAnchoredToRight = false; // Anchored to start\n\n    if (isRtl && isFlipRtl) {\n      isAnchoredToRight = !hasRightBit;\n    } else {\n      // Anchored to right\n      isAnchoredToRight = hasRightBit;\n    }\n\n    var availableLeft;\n    var availableRight;\n\n    if (isAnchoredToRight) {\n      availableLeft = viewportDistance.left + anchorSize.width + this.anchorMargin.right;\n      availableRight = viewportDistance.right - this.anchorMargin.right;\n    } else {\n      availableLeft = viewportDistance.left + this.anchorMargin.left;\n      availableRight = viewportDistance.right + anchorSize.width - this.anchorMargin.left;\n    }\n\n    var isAvailableLeft = availableLeft - surfaceSize.width > 0;\n    var isAvailableRight = availableRight - surfaceSize.width > 0;\n    var isOriginCornerAlignedToEnd = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.FLIP_RTL) && this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT);\n\n    if (isAvailableRight && isOriginCornerAlignedToEnd && isRtl || !isAvailableLeft && isOriginCornerAlignedToEnd) {\n      // Attach left side of surface to the anchor.\n      corner = this.unsetBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT);\n    } else if (isAvailableLeft && isAnchoredToRight && isRtl || isAvailableLeft && !isAnchoredToRight && hasRightBit || !isAvailableRight && availableLeft >= availableRight) {\n      // Attach right side of surface to the anchor.\n      corner = this.setBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT);\n    }\n\n    return corner;\n  };\n  /**\n   * @param corner Origin corner of the menu surface.\n   * @return Maximum height of the menu surface, based on available space. 0\n   *     indicates should not be set.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.getMenuSurfaceMaxHeight = function (corner) {\n    if (this.maxHeight > 0) {\n      return this.maxHeight;\n    }\n\n    var viewportDistance = this.measurements.viewportDistance;\n    var maxHeight = 0;\n    var isBottomAligned = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    var isBottomAnchored = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    var MARGIN_TO_EDGE = MDCMenuSurfaceFoundation.numbers.MARGIN_TO_EDGE; // When maximum height is not specified, it is handled from CSS.\n\n    if (isBottomAligned) {\n      maxHeight = viewportDistance.top + this.anchorMargin.top - MARGIN_TO_EDGE;\n\n      if (!isBottomAnchored) {\n        maxHeight += this.measurements.anchorSize.height;\n      }\n    } else {\n      maxHeight = viewportDistance.bottom - this.anchorMargin.bottom + this.measurements.anchorSize.height - MARGIN_TO_EDGE;\n\n      if (isBottomAnchored) {\n        maxHeight -= this.measurements.anchorSize.height;\n      }\n    }\n\n    return maxHeight;\n  };\n  /**\n   * @param corner Origin corner of the menu surface.\n   * @return Horizontal offset of menu surface origin corner from corresponding\n   *     anchor corner.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.getHorizontalOriginOffset = function (corner) {\n    var anchorSize = this.measurements.anchorSize; // isRightAligned corresponds to using the 'right' property on the surface.\n\n    var isRightAligned = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT);\n    var avoidHorizontalOverlap = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.RIGHT);\n\n    if (isRightAligned) {\n      var rightOffset = avoidHorizontalOverlap ? anchorSize.width - this.anchorMargin.left : this.anchorMargin.right; // For hoisted or fixed elements, adjust the offset by the difference\n      // between viewport width and body width so when we calculate the right\n      // value (`adjustPositionForHoistedElement`) based on the element\n      // position, the right property is correct.\n\n      if (this.isHoistedElement || this.isFixedPosition) {\n        return rightOffset - (this.measurements.viewportSize.width - this.measurements.bodySize.width);\n      }\n\n      return rightOffset;\n    }\n\n    return avoidHorizontalOverlap ? anchorSize.width - this.anchorMargin.right : this.anchorMargin.left;\n  };\n  /**\n   * @param corner Origin corner of the menu surface.\n   * @return Vertical offset of menu surface origin corner from corresponding\n   *     anchor corner.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.getVerticalOriginOffset = function (corner) {\n    var anchorSize = this.measurements.anchorSize;\n    var isBottomAligned = this.hasBit(corner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    var avoidVerticalOverlap = this.hasBit(this.anchorCorner, _constants__WEBPACK_IMPORTED_MODULE_1__.CornerBit.BOTTOM);\n    var y = 0;\n\n    if (isBottomAligned) {\n      y = avoidVerticalOverlap ? anchorSize.height - this.anchorMargin.top : -this.anchorMargin.bottom;\n    } else {\n      y = avoidVerticalOverlap ? anchorSize.height + this.anchorMargin.bottom : this.anchorMargin.top;\n    }\n\n    return y;\n  };\n  /**\n   * Calculates the offsets for positioning the menu-surface when the\n   * menu-surface has been hoisted to the body.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.adjustPositionForHoistedElement = function (position) {\n    var e_1, _a;\n\n    var _b = this.measurements,\n        windowScroll = _b.windowScroll,\n        viewportDistance = _b.viewportDistance,\n        surfaceSize = _b.surfaceSize,\n        viewportSize = _b.viewportSize;\n    var props = Object.keys(position);\n\n    try {\n      for (var props_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(props), props_1_1 = props_1.next(); !props_1_1.done; props_1_1 = props_1.next()) {\n        var prop = props_1_1.value;\n        var value = position[prop] || 0;\n\n        if (this.isHorizontallyCenteredOnViewport && (prop === 'left' || prop === 'right')) {\n          position[prop] = (viewportSize.width - surfaceSize.width) / 2;\n          continue;\n        } // Hoisted surfaces need to have the anchor elements location on the page\n        // added to the position properties for proper alignment on the body.\n\n\n        value += viewportDistance[prop]; // Surfaces that are absolutely positioned need to have additional\n        // calculations for scroll and bottom positioning.\n\n        if (!this.isFixedPosition) {\n          if (prop === 'top') {\n            value += windowScroll.y;\n          } else if (prop === 'bottom') {\n            value -= windowScroll.y;\n          } else if (prop === 'left') {\n            value += windowScroll.x;\n          } else {\n            // prop === 'right'\n            value -= windowScroll.x;\n          }\n        }\n\n        position[prop] = value;\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (props_1_1 && !props_1_1.done && (_a = props_1.return)) _a.call(props_1);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n  };\n  /**\n   * The last focused element when the menu surface was opened should regain\n   * focus, if the user is focused on or within the menu surface when it is\n   * closed.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.maybeRestoreFocus = function () {\n    var _this = this;\n\n    var isRootFocused = this.adapter.isFocused();\n    var childHasFocus = document.activeElement && this.adapter.isElementInContainer(document.activeElement);\n\n    if (isRootFocused || childHasFocus) {\n      // Wait before restoring focus when closing the menu surface. This is\n      // important because if a touch event triggered the menu close, and the\n      // subsequent mouse event occurs after focus is restored, then the\n      // restored focus would be lost.\n      setTimeout(function () {\n        _this.adapter.restoreFocus();\n      }, _constants__WEBPACK_IMPORTED_MODULE_1__.numbers.TOUCH_EVENT_WAIT_MS);\n    }\n  };\n\n  MDCMenuSurfaceFoundation.prototype.hasBit = function (corner, bit) {\n    return Boolean(corner & bit); // tslint:disable-line:no-bitwise\n  };\n\n  MDCMenuSurfaceFoundation.prototype.setBit = function (corner, bit) {\n    return corner | bit; // tslint:disable-line:no-bitwise\n  };\n\n  MDCMenuSurfaceFoundation.prototype.unsetBit = function (corner, bit) {\n    return corner ^ bit;\n  };\n  /**\n   * isFinite that doesn't force conversion to number type.\n   * Equivalent to Number.isFinite in ES2015, which is not supported in IE.\n   */\n\n\n  MDCMenuSurfaceFoundation.prototype.isFinite = function (num) {\n    return typeof num === 'number' && isFinite(num);\n  };\n\n  return MDCMenuSurfaceFoundation;\n}(_material_base_foundation__WEBPACK_IMPORTED_MODULE_2__.MDCFoundation);\n\n // tslint:disable-next-line:no-default-export Needed for backward compatibility with MDC Web v0.44.0 and earlier.\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MDCMenuSurfaceFoundation);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9mb3VuZGF0aW9uLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXFCQTs7QUFFQTtBQUdBOztBQVlBO0FBQ0E7O0FBd0ZBO0FBQUE7O0FBckNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTs7Ozs7Ozs7Ozs7OztBQWFBOztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7O0FBT0E7O0FBekZBO0FBQUE7QUFDQTtBQUNBO0FBRkE7O0FBQUE7QUFJQTtBQUFBO0FBQ0E7QUFDQTtBQUZBOztBQUFBO0FBSUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTs7QUFBQTtBQUlBO0FBQUE7QUFDQTtBQUNBO0FBRkE7O0FBQUE7QUFPQTtBQUhBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBeEJBO0FBMkJBO0FBN0JBOztBQUFBOztBQXdFQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFFQTs7O0FBR0E7OztBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTs7O0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7OztBQUlBOzs7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7Ozs7QUFLQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOzs7QUFDQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTtBQUNBOztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOzs7QUFDQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBRUE7QUFDQTs7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFFQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBRUE7OztBQUNBO0FBQ0E7QUFBQTtBQUVBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQUE7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRUE7QUFNQTs7QUFDQTtBQUVBO0FBQ0E7QUFHQTs7O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBRUE7QUFDQTs7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBU0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBTEE7QUFRQTtBQUNBO0FBYkE7QUFlQTtBQUVBOzs7Ozs7QUFNQTs7O0FBQ0E7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTtBQUVBO0FBRUE7O0FBRUE7O0FBQ0E7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUlBOztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBRUE7Ozs7QUFJQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBOzs7O0FBSUE7OztBQUNBO0FBQ0E7O0FBR0E7QUFDQTs7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFHQTs7QUFFQTtBQUNBOztBQUVBO0FBRUE7QUFFQTs7OztBQUlBOzs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUVBOzs7QUFHQTs7O0FBQ0E7OztBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFHQTs7O0FBR0E7QUFBQTtBQUNBOztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBR0E7OztBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7Ozs7Ozs7Ozs7OztBQUNBO0FBRUE7Ozs7QUFJQTs7O0FBQ0E7QUFBQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBRUE7OztBQUdBOzs7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTs7QUFFQTs7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kL2ZvdW5kYXRpb24udHM/Y2Q4MyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgSW5jLlxuICpcbiAqIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiAqIG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlIFwiU29mdHdhcmVcIiksIHRvIGRlYWxcbiAqIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmcgd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHNcbiAqIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiAqIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXQgcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpc1xuICogZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZSBmb2xsb3dpbmcgY29uZGl0aW9uczpcbiAqXG4gKiBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZCBpblxuICogYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4gKlxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cbmltcG9ydCB7IF9fYXNzaWduLCBfX2V4dGVuZHMsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBNRENGb3VuZGF0aW9uIH0gZnJvbSAnQG1hdGVyaWFsL2Jhc2UvZm91bmRhdGlvbic7XG5pbXBvcnQgeyBDb3JuZXIsIENvcm5lckJpdCwgY3NzQ2xhc3NlcywgbnVtYmVycywgc3RyaW5ncyB9IGZyb20gJy4vY29uc3RhbnRzJztcbnZhciBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgX19leHRlbmRzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24oYWRhcHRlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmRlZmF1bHRBZGFwdGVyKSwgYWRhcHRlcikpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmlzU3VyZmFjZU9wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNRdWlja09wZW4gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNIb2lzdGVkRWxlbWVudCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc0ZpeGVkUG9zaXRpb24gPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNIb3Jpem9udGFsbHlDZW50ZXJlZE9uVmlld3BvcnQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMubWF4SGVpZ2h0ID0gMDtcbiAgICAgICAgX3RoaXMub3BlbkJvdHRvbUJpYXMgPSAwO1xuICAgICAgICBfdGhpcy5vcGVuQW5pbWF0aW9uRW5kVGltZXJJZCA9IDA7XG4gICAgICAgIF90aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZCA9IDA7XG4gICAgICAgIF90aGlzLmFuaW1hdGlvblJlcXVlc3RJZCA9IDA7XG4gICAgICAgIF90aGlzLmFuY2hvckNvcm5lciA9IENvcm5lci5UT1BfU1RBUlQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZSB0byB3aGljaCBtZW51IHN1cmZhY2UgaXMgYXR0YWNoZWQgdG8gYW5jaG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiAgQW5jaG9yIGNvcm5lciAtLS0+Ky0tLS0tLS0tLS0rXG4gICAgICAgICAqICAgICAgICAgICAgICAgICAgICB8ICBBTkNIT1IgIHxcbiAgICAgICAgICogICAgICAgICAgICAgICAgICAgICstLS0tLS0tLS0tK1xuICAgICAgICAgKiAgT3JpZ2luIGNvcm5lciAtLS0+Ky0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCBNRU5VIFNVUkZBQ0UgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgfCAgICAgICAgICAgICAgfFxuICAgICAgICAgKiAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLS0tK1xuICAgICAgICAgKi9cbiAgICAgICAgX3RoaXMub3JpZ2luQ29ybmVyID0gQ29ybmVyLlRPUF9TVEFSVDtcbiAgICAgICAgX3RoaXMuYW5jaG9yTWFyZ2luID0geyB0b3A6IDAsIHJpZ2h0OiAwLCBib3R0b206IDAsIGxlZnQ6IDAgfTtcbiAgICAgICAgX3RoaXMucG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLCBcImNzc0NsYXNzZXNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBjc3NDbGFzc2VzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiwgXCJzdHJpbmdzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyaW5ncztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIFwibnVtYmVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bWJlcnM7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLCBcIkNvcm5lclwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIENvcm5lcjtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShNRENNZW51U3VyZmFjZUZvdW5kYXRpb24sIFwiZGVmYXVsdEFkYXB0ZXJcIiwge1xuICAgICAgICAvKipcbiAgICAgICAgICogQHNlZSB7QGxpbmsgTURDTWVudVN1cmZhY2VBZGFwdGVyfSBmb3IgdHlwaW5nIGluZm9ybWF0aW9uIG9uIHBhcmFtZXRlcnMgYW5kIHJldHVybiB0eXBlcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzIE1ldGhvZHMgc2hvdWxkIGJlIGluIHRoZSBzYW1lIG9yZGVyIGFzIHRoZSBhZGFwdGVyIGludGVyZmFjZS5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgICAgICByZW1vdmVDbGFzczogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIGhhc0NsYXNzOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBoYXNBbmNob3I6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzRWxlbWVudEluQ29udGFpbmVyOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBpc0ZvY3VzZWQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZhbHNlOyB9LFxuICAgICAgICAgICAgICAgIGlzUnRsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSxcbiAgICAgICAgICAgICAgICBnZXRJbm5lckRpbWVuc2lvbnM6IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7IGhlaWdodDogMCwgd2lkdGg6IDAgfSk7IH0sXG4gICAgICAgICAgICAgICAgZ2V0QW5jaG9yRGltZW5zaW9uczogZnVuY3Rpb24gKCkgeyByZXR1cm4gbnVsbDsgfSxcbiAgICAgICAgICAgICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldEJvZHlEaW1lbnNpb25zOiBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBoZWlnaHQ6IDAsIHdpZHRoOiAwIH0pOyB9LFxuICAgICAgICAgICAgICAgIGdldFdpbmRvd1Njcm9sbDogZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgeDogMCwgeTogMCB9KTsgfSxcbiAgICAgICAgICAgICAgICBzZXRQb3NpdGlvbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldE1heEhlaWdodDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNldFRyYW5zZm9ybU9yaWdpbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHNhdmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIHJlc3RvcmVGb2N1czogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3NlOiBmdW5jdGlvbiAoKSB7IHJldHVybiB1bmRlZmluZWQ7IH0sXG4gICAgICAgICAgICAgICAgbm90aWZ5T3BlbjogZnVuY3Rpb24gKCkgeyByZXR1cm4gdW5kZWZpbmVkOyB9LFxuICAgICAgICAgICAgICAgIG5vdGlmeUNsb3Npbmc6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVuZGVmaW5lZDsgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX2EgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3NlcywgUk9PVCA9IF9hLlJPT1QsIE9QRU4gPSBfYS5PUEVOO1xuICAgICAgICBpZiAoIXRoaXMuYWRhcHRlci5oYXNDbGFzcyhST09UKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFJPT1QgKyBcIiBjbGFzcyByZXF1aXJlZCBpbiByb290IGVsZW1lbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmFkYXB0ZXIuaGFzQ2xhc3MoT1BFTikpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdXJmYWNlT3BlbiA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWQpO1xuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jbG9zZUFuaW1hdGlvbkVuZFRpbWVySWQpO1xuICAgICAgICAvLyBDYW5jZWwgYW55IGN1cnJlbnRseSBydW5uaW5nIGFuaW1hdGlvbnMuXG4gICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHRoaXMuYW5pbWF0aW9uUmVxdWVzdElkKTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3JuZXIgRGVmYXVsdCBhbmNob3IgY29ybmVyIGFsaWdubWVudCBvZiB0b3AtbGVmdCBtZW51IHN1cmZhY2VcbiAgICAgKiAgICAgY29ybmVyLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QW5jaG9yQ29ybmVyID0gZnVuY3Rpb24gKGNvcm5lcikge1xuICAgICAgICB0aGlzLmFuY2hvckNvcm5lciA9IGNvcm5lcjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEZsaXAgbWVudSBjb3JuZXIgaG9yaXpvbnRhbGx5LlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZmxpcENvcm5lckhvcml6b250YWxseSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vcmlnaW5Db3JuZXIgPSB0aGlzLm9yaWdpbkNvcm5lciBeIENvcm5lckJpdC5SSUdIVDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBtYXJnaW4gU2V0IG9mIG1hcmdpbiB2YWx1ZXMgZnJvbSBhbmNob3IuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRBbmNob3JNYXJnaW4gPSBmdW5jdGlvbiAobWFyZ2luKSB7XG4gICAgICAgIHRoaXMuYW5jaG9yTWFyZ2luLnRvcCA9IG1hcmdpbi50b3AgfHwgMDtcbiAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4ucmlnaHQgPSBtYXJnaW4ucmlnaHQgfHwgMDtcbiAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4uYm90dG9tID0gbWFyZ2luLmJvdHRvbSB8fCAwO1xuICAgICAgICB0aGlzLmFuY2hvck1hcmdpbi5sZWZ0ID0gbWFyZ2luLmxlZnQgfHwgMDtcbiAgICB9O1xuICAgIC8qKiBVc2VkIHRvIGluZGljYXRlIGlmIHRoZSBtZW51LXN1cmZhY2UgaXMgaG9pc3RlZCB0byB0aGUgYm9keS4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldElzSG9pc3RlZCA9IGZ1bmN0aW9uIChpc0hvaXN0ZWQpIHtcbiAgICAgICAgdGhpcy5pc0hvaXN0ZWRFbGVtZW50ID0gaXNIb2lzdGVkO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVXNlZCB0byBzZXQgdGhlIG1lbnUtc3VyZmFjZSBjYWxjdWxhdGlvbnMgYmFzZWQgb24gYSBmaXhlZCBwb3NpdGlvbiBtZW51LlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Rml4ZWRQb3NpdGlvbiA9IGZ1bmN0aW9uIChpc0ZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5pc0ZpeGVkUG9zaXRpb24gPSBpc0ZpeGVkUG9zaXRpb247XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIFJldHVybnMgdHJ1ZSBpZiBtZW51IGlzIGluIGZpeGVkIChgcG9zaXRpb246IGZpeGVkYCkgcG9zaXRpb24uXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5pc0ZpeGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0ZpeGVkUG9zaXRpb247XG4gICAgfTtcbiAgICAvKiogU2V0cyB0aGUgbWVudS1zdXJmYWNlIHBvc2l0aW9uIG9uIHRoZSBwYWdlLiAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0QWJzb2x1dGVQb3NpdGlvbiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24ueCA9IHRoaXMuaXNGaW5pdGUoeCkgPyB4IDogMDtcbiAgICAgICAgdGhpcy5wb3NpdGlvbi55ID0gdGhpcy5pc0Zpbml0ZSh5KSA/IHkgOiAwO1xuICAgIH07XG4gICAgLyoqIFNldHMgd2hldGhlciBtZW51LXN1cmZhY2Ugc2hvdWxkIGJlIGhvcml6b250YWxseSBjZW50ZXJlZCB0byB2aWV3cG9ydC4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldElzSG9yaXpvbnRhbGx5Q2VudGVyZWRPblZpZXdwb3J0ID0gZnVuY3Rpb24gKGlzQ2VudGVyZWQpIHtcbiAgICAgICAgdGhpcy5pc0hvcml6b250YWxseUNlbnRlcmVkT25WaWV3cG9ydCA9IGlzQ2VudGVyZWQ7XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldFF1aWNrT3BlbiA9IGZ1bmN0aW9uIChxdWlja09wZW4pIHtcbiAgICAgICAgdGhpcy5pc1F1aWNrT3BlbiA9IHF1aWNrT3BlbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFNldHMgbWF4aW11bSBtZW51LXN1cmZhY2UgaGVpZ2h0IG9uIG9wZW4uXG4gICAgICogQHBhcmFtIG1heEhlaWdodCBUaGUgZGVzaXJlZCBtYXgtaGVpZ2h0LiBTZXQgdG8gMCAoZGVmYXVsdCkgdG9cbiAgICAgKiAgICAgYXV0b21hdGljYWxseSBjYWxjdWxhdGUgbWF4IGhlaWdodCBiYXNlZCBvbiBhdmFpbGFibGUgdmlld3BvcnQgc3BhY2UuXG4gICAgICovXG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS5zZXRNYXhIZWlnaHQgPSBmdW5jdGlvbiAobWF4SGVpZ2h0KSB7XG4gICAgICAgIHRoaXMubWF4SGVpZ2h0ID0gbWF4SGVpZ2h0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogU2V0IHRvIGEgcG9zaXRpdmUgaW50ZWdlciB0byBpbmZsdWVuY2UgdGhlIG1lbnUgdG8gcHJlZmVyZW50aWFsbHkgb3BlblxuICAgICAqIGJlbG93IHRoZSBhbmNob3IgaW5zdGVhZCBvZiBhYm92ZS5cbiAgICAgKiBAcGFyYW0gYmlhcyBBIHZhbHVlIG9mIGB4YCBzaW11bGF0ZXMgYW4gZXh0cmEgYHhgIHBpeGVscyBvZiBhdmFpbGFibGUgc3BhY2VcbiAgICAgKiAgICAgYmVsb3cgdGhlIG1lbnUgZHVyaW5nIHBvc2l0aW9uaW5nIGNhbGN1bGF0aW9ucy5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLnNldE9wZW5Cb3R0b21CaWFzID0gZnVuY3Rpb24gKGJpYXMpIHtcbiAgICAgICAgdGhpcy5vcGVuQm90dG9tQmlhcyA9IGJpYXM7XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmlzT3BlbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTdXJmYWNlT3BlbjtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIE9wZW4gdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLm9wZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmlzU3VyZmFjZU9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2F2ZUZvY3VzKCk7XG4gICAgICAgIGlmICh0aGlzLmlzUXVpY2tPcGVuKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3VyZmFjZU9wZW4gPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLk9QRU4pO1xuICAgICAgICAgICAgdGhpcy5kaW1lbnNpb25zID0gdGhpcy5hZGFwdGVyLmdldElubmVyRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgdGhpcy5hdXRvcG9zaXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuYWRhcHRlci5ub3RpZnlPcGVuKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuQU5JTUFUSU5HX09QRU4pO1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25SZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmRpbWVuc2lvbnMgPSBfdGhpcy5hZGFwdGVyLmdldElubmVyRGltZW5zaW9ucygpO1xuICAgICAgICAgICAgICAgIF90aGlzLmF1dG9wb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1BFTik7XG4gICAgICAgICAgICAgICAgX3RoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMub3BlbkFuaW1hdGlvbkVuZFRpbWVySWQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLkFOSU1BVElOR19PUEVOKTtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5ub3RpZnlPcGVuKCk7XG4gICAgICAgICAgICAgICAgfSwgbnVtYmVycy5UUkFOU0lUSU9OX09QRU5fRFVSQVRJT04pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmlzU3VyZmFjZU9wZW4gPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKHNraXBSZXN0b3JlRm9jdXMpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHNraXBSZXN0b3JlRm9jdXMgPT09IHZvaWQgMCkgeyBza2lwUmVzdG9yZUZvY3VzID0gZmFsc2U7IH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3VyZmFjZU9wZW4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5Q2xvc2luZygpO1xuICAgICAgICBpZiAodGhpcy5pc1F1aWNrT3Blbikge1xuICAgICAgICAgICAgdGhpcy5pc1N1cmZhY2VPcGVuID0gZmFsc2U7XG4gICAgICAgICAgICBpZiAoIXNraXBSZXN0b3JlRm9jdXMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1heWJlUmVzdG9yZUZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuT1BFTik7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIucmVtb3ZlQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuSVNfT1BFTl9CRUxPVyk7XG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIubm90aWZ5Q2xvc2UoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuYWRkQ2xhc3MoTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLmNzc0NsYXNzZXMuQU5JTUFUSU5HX0NMT1NFRCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy5hZGFwdGVyLnJlbW92ZUNsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLk9QRU4pO1xuICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5JU19PUEVOX0JFTE9XKTtcbiAgICAgICAgICAgIF90aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmNsb3NlQW5pbWF0aW9uRW5kVGltZXJJZCA9IDA7XG4gICAgICAgICAgICAgICAgX3RoaXMuYWRhcHRlci5yZW1vdmVDbGFzcyhNRENNZW51U3VyZmFjZUZvdW5kYXRpb24uY3NzQ2xhc3Nlcy5BTklNQVRJTkdfQ0xPU0VEKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGFwdGVyLm5vdGlmeUNsb3NlKCk7XG4gICAgICAgICAgICB9LCBudW1iZXJzLlRSQU5TSVRJT05fQ0xPU0VfRFVSQVRJT04pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5pc1N1cmZhY2VPcGVuID0gZmFsc2U7XG4gICAgICAgIGlmICghc2tpcFJlc3RvcmVGb2N1cykge1xuICAgICAgICAgICAgdGhpcy5tYXliZVJlc3RvcmVGb2N1cygpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKiogSGFuZGxlIGNsaWNrcyBhbmQgY2xvc2UgaWYgbm90IHdpdGhpbiBtZW51LXN1cmZhY2UgZWxlbWVudC4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUJvZHlDbGljayA9IGZ1bmN0aW9uIChldnQpIHtcbiAgICAgICAgdmFyIGVsID0gZXZ0LnRhcmdldDtcbiAgICAgICAgaWYgKHRoaXMuYWRhcHRlci5pc0VsZW1lbnRJbkNvbnRhaW5lcihlbCkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfTtcbiAgICAvKiogSGFuZGxlIGtleXMgdGhhdCBjbG9zZSB0aGUgc3VyZmFjZS4gKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhbmRsZUtleWRvd24gPSBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgICAgIHZhciBrZXlDb2RlID0gZXZ0LmtleUNvZGUsIGtleSA9IGV2dC5rZXk7XG4gICAgICAgIHZhciBpc0VzY2FwZSA9IGtleSA9PT0gJ0VzY2FwZScgfHwga2V5Q29kZSA9PT0gMjc7XG4gICAgICAgIGlmIChpc0VzY2FwZSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmF1dG9wb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvLyBDb21wdXRlIG1lYXN1cmVtZW50cyBmb3IgYXV0b3Bvc2l0aW9uIG1ldGhvZHMgcmV1c2UuXG4gICAgICAgIHRoaXMubWVhc3VyZW1lbnRzID0gdGhpcy5nZXRBdXRvTGF5b3V0bWVhc3VyZW1lbnRzKCk7XG4gICAgICAgIHZhciBjb3JuZXIgPSB0aGlzLmdldG9yaWdpbkNvcm5lcigpO1xuICAgICAgICB2YXIgbWF4TWVudVN1cmZhY2VIZWlnaHQgPSB0aGlzLmdldE1lbnVTdXJmYWNlTWF4SGVpZ2h0KGNvcm5lcik7XG4gICAgICAgIHZhciB2ZXJ0aWNhbEFsaWdubWVudCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSkgPyAnYm90dG9tJyA6ICd0b3AnO1xuICAgICAgICB2YXIgaG9yaXpvbnRhbEFsaWdubWVudCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKSA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIHZhciBob3Jpem9udGFsT2Zmc2V0ID0gdGhpcy5nZXRIb3Jpem9udGFsT3JpZ2luT2Zmc2V0KGNvcm5lcik7XG4gICAgICAgIHZhciB2ZXJ0aWNhbE9mZnNldCA9IHRoaXMuZ2V0VmVydGljYWxPcmlnaW5PZmZzZXQoY29ybmVyKTtcbiAgICAgICAgdmFyIF9iID0gdGhpcy5tZWFzdXJlbWVudHMsIGFuY2hvclNpemUgPSBfYi5hbmNob3JTaXplLCBzdXJmYWNlU2l6ZSA9IF9iLnN1cmZhY2VTaXplO1xuICAgICAgICB2YXIgcG9zaXRpb24gPSAoX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW2hvcml6b250YWxBbGlnbm1lbnRdID0gaG9yaXpvbnRhbE9mZnNldCxcbiAgICAgICAgICAgIF9hW3ZlcnRpY2FsQWxpZ25tZW50XSA9IHZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgX2EpO1xuICAgICAgICAvLyBDZW50ZXIgYWxpZ24gd2hlbiBhbmNob3Igd2lkdGggaXMgY29tcGFyYWJsZSBvciBncmVhdGVyIHRoYW4gbWVudVxuICAgICAgICAvLyBzdXJmYWNlLCBvdGhlcndpc2Uga2VlcCBjb3JuZXIuXG4gICAgICAgIGlmIChhbmNob3JTaXplLndpZHRoIC8gc3VyZmFjZVNpemUud2lkdGggPlxuICAgICAgICAgICAgbnVtYmVycy5BTkNIT1JfVE9fTUVOVV9TVVJGQUNFX1dJRFRIX1JBVElPKSB7XG4gICAgICAgICAgICBob3Jpem9udGFsQWxpZ25tZW50ID0gJ2NlbnRlcic7XG4gICAgICAgIH1cbiAgICAgICAgLy8gSWYgdGhlIG1lbnUtc3VyZmFjZSBoYXMgYmVlbiBob2lzdGVkIHRvIHRoZSBib2R5LCBpdCdzIG5vIGxvbmdlciByZWxhdGl2ZVxuICAgICAgICAvLyB0byB0aGUgYW5jaG9yIGVsZW1lbnRcbiAgICAgICAgaWYgKHRoaXMuaXNIb2lzdGVkRWxlbWVudCB8fCB0aGlzLmlzRml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgdGhpcy5hZGp1c3RQb3NpdGlvbkZvckhvaXN0ZWRFbGVtZW50KHBvc2l0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFkYXB0ZXIuc2V0VHJhbnNmb3JtT3JpZ2luKGhvcml6b250YWxBbGlnbm1lbnQgKyBcIiBcIiArIHZlcnRpY2FsQWxpZ25tZW50KTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldFBvc2l0aW9uKHBvc2l0aW9uKTtcbiAgICAgICAgdGhpcy5hZGFwdGVyLnNldE1heEhlaWdodChtYXhNZW51U3VyZmFjZUhlaWdodCA/IG1heE1lbnVTdXJmYWNlSGVpZ2h0ICsgJ3B4JyA6ICcnKTtcbiAgICAgICAgLy8gSWYgaXQgaXMgb3BlbmVkIGZyb20gdGhlIHRvcCB0aGVuIGFkZCBpcy1vcGVuLWJlbG93IGNsYXNzXG4gICAgICAgIGlmICghdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKSkge1xuICAgICAgICAgICAgdGhpcy5hZGFwdGVyLmFkZENsYXNzKE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5jc3NDbGFzc2VzLklTX09QRU5fQkVMT1cpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIE1lYXN1cmVtZW50cyB1c2VkIHRvIHBvc2l0aW9uIG1lbnUgc3VyZmFjZSBwb3B1cC5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmdldEF1dG9MYXlvdXRtZWFzdXJlbWVudHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBhbmNob3JSZWN0ID0gdGhpcy5hZGFwdGVyLmdldEFuY2hvckRpbWVuc2lvbnMoKTtcbiAgICAgICAgdmFyIGJvZHlTaXplID0gdGhpcy5hZGFwdGVyLmdldEJvZHlEaW1lbnNpb25zKCk7XG4gICAgICAgIHZhciB2aWV3cG9ydFNpemUgPSB0aGlzLmFkYXB0ZXIuZ2V0V2luZG93RGltZW5zaW9ucygpO1xuICAgICAgICB2YXIgd2luZG93U2Nyb2xsID0gdGhpcy5hZGFwdGVyLmdldFdpbmRvd1Njcm9sbCgpO1xuICAgICAgICBpZiAoIWFuY2hvclJlY3QpIHtcbiAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBQb3NpdGlvbmFsIHByb3BlcnRpZXMgYXJlIG1vcmUgcmVhZGFibGUgd2hlbiB0aGV5J3JlIGdyb3VwZWQgdG9nZXRoZXJcbiAgICAgICAgICAgIGFuY2hvclJlY3QgPSB7XG4gICAgICAgICAgICAgICAgdG9wOiB0aGlzLnBvc2l0aW9uLnksXG4gICAgICAgICAgICAgICAgcmlnaHQ6IHRoaXMucG9zaXRpb24ueCxcbiAgICAgICAgICAgICAgICBib3R0b206IHRoaXMucG9zaXRpb24ueSxcbiAgICAgICAgICAgICAgICBsZWZ0OiB0aGlzLnBvc2l0aW9uLngsXG4gICAgICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHRzbGludDplbmFibGU6b2JqZWN0LWxpdGVyYWwtc29ydC1rZXlzXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFuY2hvclNpemU6IGFuY2hvclJlY3QsXG4gICAgICAgICAgICBib2R5U2l6ZTogYm9keVNpemUsXG4gICAgICAgICAgICBzdXJmYWNlU2l6ZTogdGhpcy5kaW1lbnNpb25zLFxuICAgICAgICAgICAgdmlld3BvcnREaXN0YW5jZToge1xuICAgICAgICAgICAgICAgIC8vIHRzbGludDpkaXNhYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5cyBQb3NpdGlvbmFsIHByb3BlcnRpZXMgYXJlIG1vcmUgcmVhZGFibGUgd2hlbiB0aGV5J3JlIGdyb3VwZWQgdG9nZXRoZXJcbiAgICAgICAgICAgICAgICB0b3A6IGFuY2hvclJlY3QudG9wLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiB2aWV3cG9ydFNpemUud2lkdGggLSBhbmNob3JSZWN0LnJpZ2h0LFxuICAgICAgICAgICAgICAgIGJvdHRvbTogdmlld3BvcnRTaXplLmhlaWdodCAtIGFuY2hvclJlY3QuYm90dG9tLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGFuY2hvclJlY3QubGVmdCxcbiAgICAgICAgICAgICAgICAvLyB0c2xpbnQ6ZW5hYmxlOm9iamVjdC1saXRlcmFsLXNvcnQta2V5c1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHZpZXdwb3J0U2l6ZTogdmlld3BvcnRTaXplLFxuICAgICAgICAgICAgd2luZG93U2Nyb2xsOiB3aW5kb3dTY3JvbGwsXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgY29ybmVyIG9mIHRoZSBhbmNob3IgZnJvbSB3aGljaCB0byBhbmltYXRlIGFuZCBwb3NpdGlvbiB0aGVcbiAgICAgKiBtZW51IHN1cmZhY2UuXG4gICAgICpcbiAgICAgKiBPbmx5IExFRlQgb3IgUklHSFQgYml0IGlzIHVzZWQgdG8gcG9zaXRpb24gdGhlIG1lbnUgc3VyZmFjZSBpZ25vcmluZyBSVExcbiAgICAgKiBjb250ZXh0LiBFLmcuLCBtZW51IHN1cmZhY2Ugd2lsbCBiZSBwb3NpdGlvbmVkIGZyb20gcmlnaHQgc2lkZSBvbiBUT1BfRU5ELlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0b3JpZ2luQ29ybmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29ybmVyID0gdGhpcy5vcmlnaW5Db3JuZXI7XG4gICAgICAgIHZhciBfYSA9IHRoaXMubWVhc3VyZW1lbnRzLCB2aWV3cG9ydERpc3RhbmNlID0gX2Eudmlld3BvcnREaXN0YW5jZSwgYW5jaG9yU2l6ZSA9IF9hLmFuY2hvclNpemUsIHN1cmZhY2VTaXplID0gX2Euc3VyZmFjZVNpemU7XG4gICAgICAgIHZhciBNQVJHSU5fVE9fRURHRSA9IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5udW1iZXJzLk1BUkdJTl9UT19FREdFO1xuICAgICAgICB2YXIgaXNBbmNob3JlZFRvQm90dG9tID0gdGhpcy5oYXNCaXQodGhpcy5hbmNob3JDb3JuZXIsIENvcm5lckJpdC5CT1RUT00pO1xuICAgICAgICB2YXIgYXZhaWxhYmxlVG9wO1xuICAgICAgICB2YXIgYXZhaWxhYmxlQm90dG9tO1xuICAgICAgICBpZiAoaXNBbmNob3JlZFRvQm90dG9tKSB7XG4gICAgICAgICAgICBhdmFpbGFibGVUb3AgPVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UudG9wIC0gTUFSR0lOX1RPX0VER0UgKyB0aGlzLmFuY2hvck1hcmdpbi5ib3R0b207XG4gICAgICAgICAgICBhdmFpbGFibGVCb3R0b20gPVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UuYm90dG9tIC0gTUFSR0lOX1RPX0VER0UgLSB0aGlzLmFuY2hvck1hcmdpbi5ib3R0b207XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhdmFpbGFibGVUb3AgPVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UudG9wIC0gTUFSR0lOX1RPX0VER0UgKyB0aGlzLmFuY2hvck1hcmdpbi50b3A7XG4gICAgICAgICAgICBhdmFpbGFibGVCb3R0b20gPSB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSAtIE1BUkdJTl9UT19FREdFICtcbiAgICAgICAgICAgICAgICBhbmNob3JTaXplLmhlaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luLnRvcDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNBdmFpbGFibGVCb3R0b20gPSBhdmFpbGFibGVCb3R0b20gLSBzdXJmYWNlU2l6ZS5oZWlnaHQgPiAwO1xuICAgICAgICBpZiAoIWlzQXZhaWxhYmxlQm90dG9tICYmXG4gICAgICAgICAgICBhdmFpbGFibGVUb3AgPiBhdmFpbGFibGVCb3R0b20gKyB0aGlzLm9wZW5Cb3R0b21CaWFzKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2ggYm90dG9tIHNpZGUgb2Ygc3VyZmFjZSB0byB0aGUgYW5jaG9yLlxuICAgICAgICAgICAgY29ybmVyID0gdGhpcy5zZXRCaXQoY29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNSdGwgPSB0aGlzLmFkYXB0ZXIuaXNSdGwoKTtcbiAgICAgICAgdmFyIGlzRmxpcFJ0bCA9IHRoaXMuaGFzQml0KHRoaXMuYW5jaG9yQ29ybmVyLCBDb3JuZXJCaXQuRkxJUF9SVEwpO1xuICAgICAgICB2YXIgaGFzUmlnaHRCaXQgPSB0aGlzLmhhc0JpdCh0aGlzLmFuY2hvckNvcm5lciwgQ29ybmVyQml0LlJJR0hUKSB8fFxuICAgICAgICAgICAgdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICAvLyBXaGV0aGVyIHN1cmZhY2UgYXR0YWNoZWQgdG8gcmlnaHQgc2lkZSBvZiBhbmNob3IgZWxlbWVudC5cbiAgICAgICAgdmFyIGlzQW5jaG9yZWRUb1JpZ2h0ID0gZmFsc2U7XG4gICAgICAgIC8vIEFuY2hvcmVkIHRvIHN0YXJ0XG4gICAgICAgIGlmIChpc1J0bCAmJiBpc0ZsaXBSdGwpIHtcbiAgICAgICAgICAgIGlzQW5jaG9yZWRUb1JpZ2h0ID0gIWhhc1JpZ2h0Qml0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLy8gQW5jaG9yZWQgdG8gcmlnaHRcbiAgICAgICAgICAgIGlzQW5jaG9yZWRUb1JpZ2h0ID0gaGFzUmlnaHRCaXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGF2YWlsYWJsZUxlZnQ7XG4gICAgICAgIHZhciBhdmFpbGFibGVSaWdodDtcbiAgICAgICAgaWYgKGlzQW5jaG9yZWRUb1JpZ2h0KSB7XG4gICAgICAgICAgICBhdmFpbGFibGVMZWZ0ID1cbiAgICAgICAgICAgICAgICB2aWV3cG9ydERpc3RhbmNlLmxlZnQgKyBhbmNob3JTaXplLndpZHRoICsgdGhpcy5hbmNob3JNYXJnaW4ucmlnaHQ7XG4gICAgICAgICAgICBhdmFpbGFibGVSaWdodCA9IHZpZXdwb3J0RGlzdGFuY2UucmlnaHQgLSB0aGlzLmFuY2hvck1hcmdpbi5yaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF2YWlsYWJsZUxlZnQgPSB2aWV3cG9ydERpc3RhbmNlLmxlZnQgKyB0aGlzLmFuY2hvck1hcmdpbi5sZWZ0O1xuICAgICAgICAgICAgYXZhaWxhYmxlUmlnaHQgPVxuICAgICAgICAgICAgICAgIHZpZXdwb3J0RGlzdGFuY2UucmlnaHQgKyBhbmNob3JTaXplLndpZHRoIC0gdGhpcy5hbmNob3JNYXJnaW4ubGVmdDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaXNBdmFpbGFibGVMZWZ0ID0gYXZhaWxhYmxlTGVmdCAtIHN1cmZhY2VTaXplLndpZHRoID4gMDtcbiAgICAgICAgdmFyIGlzQXZhaWxhYmxlUmlnaHQgPSBhdmFpbGFibGVSaWdodCAtIHN1cmZhY2VTaXplLndpZHRoID4gMDtcbiAgICAgICAgdmFyIGlzT3JpZ2luQ29ybmVyQWxpZ25lZFRvRW5kID0gdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuRkxJUF9SVEwpICYmXG4gICAgICAgICAgICB0aGlzLmhhc0JpdChjb3JuZXIsIENvcm5lckJpdC5SSUdIVCk7XG4gICAgICAgIGlmIChpc0F2YWlsYWJsZVJpZ2h0ICYmIGlzT3JpZ2luQ29ybmVyQWxpZ25lZFRvRW5kICYmIGlzUnRsIHx8XG4gICAgICAgICAgICAhaXNBdmFpbGFibGVMZWZ0ICYmIGlzT3JpZ2luQ29ybmVyQWxpZ25lZFRvRW5kKSB7XG4gICAgICAgICAgICAvLyBBdHRhY2ggbGVmdCBzaWRlIG9mIHN1cmZhY2UgdG8gdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGNvcm5lciA9IHRoaXMudW5zZXRCaXQoY29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzQXZhaWxhYmxlTGVmdCAmJiBpc0FuY2hvcmVkVG9SaWdodCAmJiBpc1J0bCB8fFxuICAgICAgICAgICAgKGlzQXZhaWxhYmxlTGVmdCAmJiAhaXNBbmNob3JlZFRvUmlnaHQgJiYgaGFzUmlnaHRCaXQpIHx8XG4gICAgICAgICAgICAoIWlzQXZhaWxhYmxlUmlnaHQgJiYgYXZhaWxhYmxlTGVmdCA+PSBhdmFpbGFibGVSaWdodCkpIHtcbiAgICAgICAgICAgIC8vIEF0dGFjaCByaWdodCBzaWRlIG9mIHN1cmZhY2UgdG8gdGhlIGFuY2hvci5cbiAgICAgICAgICAgIGNvcm5lciA9IHRoaXMuc2V0Qml0KGNvcm5lciwgQ29ybmVyQml0LlJJR0hUKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29ybmVyO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQHBhcmFtIGNvcm5lciBPcmlnaW4gY29ybmVyIG9mIHRoZSBtZW51IHN1cmZhY2UuXG4gICAgICogQHJldHVybiBNYXhpbXVtIGhlaWdodCBvZiB0aGUgbWVudSBzdXJmYWNlLCBiYXNlZCBvbiBhdmFpbGFibGUgc3BhY2UuIDBcbiAgICAgKiAgICAgaW5kaWNhdGVzIHNob3VsZCBub3QgYmUgc2V0LlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0TWVudVN1cmZhY2VNYXhIZWlnaHQgPSBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgIGlmICh0aGlzLm1heEhlaWdodCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm1heEhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmlld3BvcnREaXN0YW5jZSA9IHRoaXMubWVhc3VyZW1lbnRzLnZpZXdwb3J0RGlzdGFuY2U7XG4gICAgICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuICAgICAgICB2YXIgaXNCb3R0b21BbGlnbmVkID0gdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICAgICAgdmFyIGlzQm90dG9tQW5jaG9yZWQgPSB0aGlzLmhhc0JpdCh0aGlzLmFuY2hvckNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIHZhciBNQVJHSU5fVE9fRURHRSA9IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5udW1iZXJzLk1BUkdJTl9UT19FREdFO1xuICAgICAgICAvLyBXaGVuIG1heGltdW0gaGVpZ2h0IGlzIG5vdCBzcGVjaWZpZWQsIGl0IGlzIGhhbmRsZWQgZnJvbSBDU1MuXG4gICAgICAgIGlmIChpc0JvdHRvbUFsaWduZWQpIHtcbiAgICAgICAgICAgIG1heEhlaWdodCA9IHZpZXdwb3J0RGlzdGFuY2UudG9wICsgdGhpcy5hbmNob3JNYXJnaW4udG9wIC0gTUFSR0lOX1RPX0VER0U7XG4gICAgICAgICAgICBpZiAoIWlzQm90dG9tQW5jaG9yZWQpIHtcbiAgICAgICAgICAgICAgICBtYXhIZWlnaHQgKz0gdGhpcy5tZWFzdXJlbWVudHMuYW5jaG9yU2l6ZS5oZWlnaHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSB2aWV3cG9ydERpc3RhbmNlLmJvdHRvbSAtIHRoaXMuYW5jaG9yTWFyZ2luLmJvdHRvbSArXG4gICAgICAgICAgICAgICAgdGhpcy5tZWFzdXJlbWVudHMuYW5jaG9yU2l6ZS5oZWlnaHQgLSBNQVJHSU5fVE9fRURHRTtcbiAgICAgICAgICAgIGlmIChpc0JvdHRvbUFuY2hvcmVkKSB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0IC09IHRoaXMubWVhc3VyZW1lbnRzLmFuY2hvclNpemUuaGVpZ2h0O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXhIZWlnaHQ7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29ybmVyIE9yaWdpbiBjb3JuZXIgb2YgdGhlIG1lbnUgc3VyZmFjZS5cbiAgICAgKiBAcmV0dXJuIEhvcml6b250YWwgb2Zmc2V0IG9mIG1lbnUgc3VyZmFjZSBvcmlnaW4gY29ybmVyIGZyb20gY29ycmVzcG9uZGluZ1xuICAgICAqICAgICBhbmNob3IgY29ybmVyLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0SG9yaXpvbnRhbE9yaWdpbk9mZnNldCA9IGZ1bmN0aW9uIChjb3JuZXIpIHtcbiAgICAgICAgdmFyIGFuY2hvclNpemUgPSB0aGlzLm1lYXN1cmVtZW50cy5hbmNob3JTaXplO1xuICAgICAgICAvLyBpc1JpZ2h0QWxpZ25lZCBjb3JyZXNwb25kcyB0byB1c2luZyB0aGUgJ3JpZ2h0JyBwcm9wZXJ0eSBvbiB0aGUgc3VyZmFjZS5cbiAgICAgICAgdmFyIGlzUmlnaHRBbGlnbmVkID0gdGhpcy5oYXNCaXQoY29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICB2YXIgYXZvaWRIb3Jpem9udGFsT3ZlcmxhcCA9IHRoaXMuaGFzQml0KHRoaXMuYW5jaG9yQ29ybmVyLCBDb3JuZXJCaXQuUklHSFQpO1xuICAgICAgICBpZiAoaXNSaWdodEFsaWduZWQpIHtcbiAgICAgICAgICAgIHZhciByaWdodE9mZnNldCA9IGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgP1xuICAgICAgICAgICAgICAgIGFuY2hvclNpemUud2lkdGggLSB0aGlzLmFuY2hvck1hcmdpbi5sZWZ0IDpcbiAgICAgICAgICAgICAgICB0aGlzLmFuY2hvck1hcmdpbi5yaWdodDtcbiAgICAgICAgICAgIC8vIEZvciBob2lzdGVkIG9yIGZpeGVkIGVsZW1lbnRzLCBhZGp1c3QgdGhlIG9mZnNldCBieSB0aGUgZGlmZmVyZW5jZVxuICAgICAgICAgICAgLy8gYmV0d2VlbiB2aWV3cG9ydCB3aWR0aCBhbmQgYm9keSB3aWR0aCBzbyB3aGVuIHdlIGNhbGN1bGF0ZSB0aGUgcmlnaHRcbiAgICAgICAgICAgIC8vIHZhbHVlIChgYWRqdXN0UG9zaXRpb25Gb3JIb2lzdGVkRWxlbWVudGApIGJhc2VkIG9uIHRoZSBlbGVtZW50XG4gICAgICAgICAgICAvLyBwb3NpdGlvbiwgdGhlIHJpZ2h0IHByb3BlcnR5IGlzIGNvcnJlY3QuXG4gICAgICAgICAgICBpZiAodGhpcy5pc0hvaXN0ZWRFbGVtZW50IHx8IHRoaXMuaXNGaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0T2Zmc2V0IC1cbiAgICAgICAgICAgICAgICAgICAgKHRoaXMubWVhc3VyZW1lbnRzLnZpZXdwb3J0U2l6ZS53aWR0aCAtXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lYXN1cmVtZW50cy5ib2R5U2l6ZS53aWR0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmlnaHRPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF2b2lkSG9yaXpvbnRhbE92ZXJsYXAgPyBhbmNob3JTaXplLndpZHRoIC0gdGhpcy5hbmNob3JNYXJnaW4ucmlnaHQgOlxuICAgICAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4ubGVmdDtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb3JuZXIgT3JpZ2luIGNvcm5lciBvZiB0aGUgbWVudSBzdXJmYWNlLlxuICAgICAqIEByZXR1cm4gVmVydGljYWwgb2Zmc2V0IG9mIG1lbnUgc3VyZmFjZSBvcmlnaW4gY29ybmVyIGZyb20gY29ycmVzcG9uZGluZ1xuICAgICAqICAgICBhbmNob3IgY29ybmVyLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuZ2V0VmVydGljYWxPcmlnaW5PZmZzZXQgPSBmdW5jdGlvbiAoY29ybmVyKSB7XG4gICAgICAgIHZhciBhbmNob3JTaXplID0gdGhpcy5tZWFzdXJlbWVudHMuYW5jaG9yU2l6ZTtcbiAgICAgICAgdmFyIGlzQm90dG9tQWxpZ25lZCA9IHRoaXMuaGFzQml0KGNvcm5lciwgQ29ybmVyQml0LkJPVFRPTSk7XG4gICAgICAgIHZhciBhdm9pZFZlcnRpY2FsT3ZlcmxhcCA9IHRoaXMuaGFzQml0KHRoaXMuYW5jaG9yQ29ybmVyLCBDb3JuZXJCaXQuQk9UVE9NKTtcbiAgICAgICAgdmFyIHkgPSAwO1xuICAgICAgICBpZiAoaXNCb3R0b21BbGlnbmVkKSB7XG4gICAgICAgICAgICB5ID0gYXZvaWRWZXJ0aWNhbE92ZXJsYXAgPyBhbmNob3JTaXplLmhlaWdodCAtIHRoaXMuYW5jaG9yTWFyZ2luLnRvcCA6XG4gICAgICAgICAgICAgICAgLXRoaXMuYW5jaG9yTWFyZ2luLmJvdHRvbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHkgPSBhdm9pZFZlcnRpY2FsT3ZlcmxhcCA/XG4gICAgICAgICAgICAgICAgKGFuY2hvclNpemUuaGVpZ2h0ICsgdGhpcy5hbmNob3JNYXJnaW4uYm90dG9tKSA6XG4gICAgICAgICAgICAgICAgdGhpcy5hbmNob3JNYXJnaW4udG9wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB5O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogQ2FsY3VsYXRlcyB0aGUgb2Zmc2V0cyBmb3IgcG9zaXRpb25pbmcgdGhlIG1lbnUtc3VyZmFjZSB3aGVuIHRoZVxuICAgICAqIG1lbnUtc3VyZmFjZSBoYXMgYmVlbiBob2lzdGVkIHRvIHRoZSBib2R5LlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuYWRqdXN0UG9zaXRpb25Gb3JIb2lzdGVkRWxlbWVudCA9IGZ1bmN0aW9uIChwb3NpdGlvbikge1xuICAgICAgICB2YXIgZV8xLCBfYTtcbiAgICAgICAgdmFyIF9iID0gdGhpcy5tZWFzdXJlbWVudHMsIHdpbmRvd1Njcm9sbCA9IF9iLndpbmRvd1Njcm9sbCwgdmlld3BvcnREaXN0YW5jZSA9IF9iLnZpZXdwb3J0RGlzdGFuY2UsIHN1cmZhY2VTaXplID0gX2Iuc3VyZmFjZVNpemUsIHZpZXdwb3J0U2l6ZSA9IF9iLnZpZXdwb3J0U2l6ZTtcbiAgICAgICAgdmFyIHByb3BzID0gT2JqZWN0LmtleXMocG9zaXRpb24pO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgcHJvcHNfMSA9IF9fdmFsdWVzKHByb3BzKSwgcHJvcHNfMV8xID0gcHJvcHNfMS5uZXh0KCk7ICFwcm9wc18xXzEuZG9uZTsgcHJvcHNfMV8xID0gcHJvcHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJvcCA9IHByb3BzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSBwb3NpdGlvbltwcm9wXSB8fCAwO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzSG9yaXpvbnRhbGx5Q2VudGVyZWRPblZpZXdwb3J0ICYmXG4gICAgICAgICAgICAgICAgICAgIChwcm9wID09PSAnbGVmdCcgfHwgcHJvcCA9PT0gJ3JpZ2h0JykpIHtcbiAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25bcHJvcF0gPSAodmlld3BvcnRTaXplLndpZHRoIC0gc3VyZmFjZVNpemUud2lkdGgpIC8gMjtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEhvaXN0ZWQgc3VyZmFjZXMgbmVlZCB0byBoYXZlIHRoZSBhbmNob3IgZWxlbWVudHMgbG9jYXRpb24gb24gdGhlIHBhZ2VcbiAgICAgICAgICAgICAgICAvLyBhZGRlZCB0byB0aGUgcG9zaXRpb24gcHJvcGVydGllcyBmb3IgcHJvcGVyIGFsaWdubWVudCBvbiB0aGUgYm9keS5cbiAgICAgICAgICAgICAgICB2YWx1ZSArPSB2aWV3cG9ydERpc3RhbmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgIC8vIFN1cmZhY2VzIHRoYXQgYXJlIGFic29sdXRlbHkgcG9zaXRpb25lZCBuZWVkIHRvIGhhdmUgYWRkaXRpb25hbFxuICAgICAgICAgICAgICAgIC8vIGNhbGN1bGF0aW9ucyBmb3Igc2Nyb2xsIGFuZCBib3R0b20gcG9zaXRpb25pbmcuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzRml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHdpbmRvd1Njcm9sbC55O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHByb3AgPT09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPSB3aW5kb3dTY3JvbGwueTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChwcm9wID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlICs9IHdpbmRvd1Njcm9sbC54O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBwcm9wID09PSAncmlnaHQnXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSAtPSB3aW5kb3dTY3JvbGwueDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwb3NpdGlvbltwcm9wXSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAocHJvcHNfMV8xICYmICFwcm9wc18xXzEuZG9uZSAmJiAoX2EgPSBwcm9wc18xLnJldHVybikpIF9hLmNhbGwocHJvcHNfMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qKlxuICAgICAqIFRoZSBsYXN0IGZvY3VzZWQgZWxlbWVudCB3aGVuIHRoZSBtZW51IHN1cmZhY2Ugd2FzIG9wZW5lZCBzaG91bGQgcmVnYWluXG4gICAgICogZm9jdXMsIGlmIHRoZSB1c2VyIGlzIGZvY3VzZWQgb24gb3Igd2l0aGluIHRoZSBtZW51IHN1cmZhY2Ugd2hlbiBpdCBpc1xuICAgICAqIGNsb3NlZC5cbiAgICAgKi9cbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLm1heWJlUmVzdG9yZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgaXNSb290Rm9jdXNlZCA9IHRoaXMuYWRhcHRlci5pc0ZvY3VzZWQoKTtcbiAgICAgICAgdmFyIGNoaWxkSGFzRm9jdXMgPSBkb2N1bWVudC5hY3RpdmVFbGVtZW50ICYmXG4gICAgICAgICAgICB0aGlzLmFkYXB0ZXIuaXNFbGVtZW50SW5Db250YWluZXIoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgICAgIGlmIChpc1Jvb3RGb2N1c2VkIHx8IGNoaWxkSGFzRm9jdXMpIHtcbiAgICAgICAgICAgIC8vIFdhaXQgYmVmb3JlIHJlc3RvcmluZyBmb2N1cyB3aGVuIGNsb3NpbmcgdGhlIG1lbnUgc3VyZmFjZS4gVGhpcyBpc1xuICAgICAgICAgICAgLy8gaW1wb3J0YW50IGJlY2F1c2UgaWYgYSB0b3VjaCBldmVudCB0cmlnZ2VyZWQgdGhlIG1lbnUgY2xvc2UsIGFuZCB0aGVcbiAgICAgICAgICAgIC8vIHN1YnNlcXVlbnQgbW91c2UgZXZlbnQgb2NjdXJzIGFmdGVyIGZvY3VzIGlzIHJlc3RvcmVkLCB0aGVuIHRoZVxuICAgICAgICAgICAgLy8gcmVzdG9yZWQgZm9jdXMgd291bGQgYmUgbG9zdC5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFkYXB0ZXIucmVzdG9yZUZvY3VzKCk7XG4gICAgICAgICAgICB9LCBudW1iZXJzLlRPVUNIX0VWRU5UX1dBSVRfTVMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBNRENNZW51U3VyZmFjZUZvdW5kYXRpb24ucHJvdG90eXBlLmhhc0JpdCA9IGZ1bmN0aW9uIChjb3JuZXIsIGJpdCkge1xuICAgICAgICByZXR1cm4gQm9vbGVhbihjb3JuZXIgJiBiaXQpOyAvLyB0c2xpbnQ6ZGlzYWJsZS1saW5lOm5vLWJpdHdpc2VcbiAgICB9O1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuc2V0Qml0ID0gZnVuY3Rpb24gKGNvcm5lciwgYml0KSB7XG4gICAgICAgIHJldHVybiBjb3JuZXIgfCBiaXQ7IC8vIHRzbGludDpkaXNhYmxlLWxpbmU6bm8tYml0d2lzZVxuICAgIH07XG4gICAgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uLnByb3RvdHlwZS51bnNldEJpdCA9IGZ1bmN0aW9uIChjb3JuZXIsIGJpdCkge1xuICAgICAgICByZXR1cm4gY29ybmVyIF4gYml0O1xuICAgIH07XG4gICAgLyoqXG4gICAgICogaXNGaW5pdGUgdGhhdCBkb2Vzbid0IGZvcmNlIGNvbnZlcnNpb24gdG8gbnVtYmVyIHR5cGUuXG4gICAgICogRXF1aXZhbGVudCB0byBOdW1iZXIuaXNGaW5pdGUgaW4gRVMyMDE1LCB3aGljaCBpcyBub3Qgc3VwcG9ydGVkIGluIElFLlxuICAgICAqL1xuICAgIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbi5wcm90b3R5cGUuaXNGaW5pdGUgPSBmdW5jdGlvbiAobnVtKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgbnVtID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZShudW0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbjtcbn0oTURDRm91bmRhdGlvbikpO1xuZXhwb3J0IHsgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uIH07XG4vLyB0c2xpbnQ6ZGlzYWJsZS1uZXh0LWxpbmU6bm8tZGVmYXVsdC1leHBvcnQgTmVlZGVkIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHdpdGggTURDIFdlYiB2MC40NC4wIGFuZCBlYXJsaWVyLlxuZXhwb3J0IGRlZmF1bHQgTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm91bmRhdGlvbi5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@material/menu-surface/foundation.js\n");

/***/ }),

/***/ "./node_modules/@material/mwc-menu/mwc-menu-surface-base.js":
/*!******************************************************************!*\
  !*** ./node_modules/@material/mwc-menu/mwc-menu-surface-base.js ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuSurfaceBase\": () => (/* binding */ MenuSurfaceBase)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @material/menu-surface/constants */ \"./node_modules/@material/menu-surface/constants.js\");\n/* harmony import */ var _material_menu_surface_foundation__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material/menu-surface/foundation */ \"./node_modules/@material/menu-surface/foundation.js\");\n/* harmony import */ var _material_mwc_base_base_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @material/mwc-base/base-element */ \"./node_modules/@material/mwc-base/base-element.js\");\n/* harmony import */ var _material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @material/mwc-base/observer */ \"./node_modules/@material/mwc-base/observer.js\");\n/* harmony import */ var _material_mwc_base_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material/mwc-base/utils */ \"./node_modules/@material/mwc-base/utils.js\");\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! lit/directives/class-map.js */ \"./node_modules/lit/directives/class-map.js\");\n/* harmony import */ var lit_directives_style_map_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! lit/directives/style-map.js */ \"./node_modules/lit/directives/style-map.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n\n\n\n\n\n\n\n\n\n // tslint:disable:no-bitwise\n// required for closure compiler\n\nconst stringToCorner = {\n  'TOP_LEFT': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.TOP_LEFT,\n  'TOP_RIGHT': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.TOP_RIGHT,\n  'BOTTOM_LEFT': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.BOTTOM_LEFT,\n  'BOTTOM_RIGHT': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.BOTTOM_RIGHT,\n  'TOP_START': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.TOP_START,\n  'TOP_END': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.TOP_END,\n  'BOTTOM_START': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.BOTTOM_START,\n  'BOTTOM_END': _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.BOTTOM_END\n};\n/**\n * @fires opened\n * @fires closed\n */\n\nclass MenuSurfaceBase extends _material_mwc_base_base_element__WEBPACK_IMPORTED_MODULE_0__.BaseElement {\n  constructor() {\n    super(...arguments);\n    this.mdcFoundationClass = _material_menu_surface_foundation__WEBPACK_IMPORTED_MODULE_8__[\"default\"];\n    this.absolute = false;\n    this.fullwidth = false;\n    this.fixed = false;\n    this.x = null;\n    this.y = null; // must be defined before open or else race condition in foundation occurs.\n\n    this.quick = false;\n    this.open = false;\n    this.stayOpenOnBodyClick = false;\n    this.bitwiseCorner = _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.Corner.TOP_START;\n    this.previousMenuCorner = null; // must be defined before observer of anchor corner for initialization\n\n    this.menuCorner = 'START';\n    this.corner = 'TOP_START';\n    this.styleTop = '';\n    this.styleLeft = '';\n    this.styleRight = '';\n    this.styleBottom = '';\n    this.styleMaxHeight = '';\n    this.styleTransformOrigin = '';\n    this.anchor = null;\n    this.previouslyFocused = null;\n    this.previousAnchor = null;\n\n    this.onBodyClickBound = () => undefined;\n  }\n\n  render() {\n    const classes = {\n      'mdc-menu-surface--fixed': this.fixed,\n      'mdc-menu-surface--fullwidth': this.fullwidth\n    };\n    const styles = {\n      'top': this.styleTop,\n      'left': this.styleLeft,\n      'right': this.styleRight,\n      'bottom': this.styleBottom,\n      'max-height': this.styleMaxHeight,\n      'transform-origin': this.styleTransformOrigin\n    };\n    return lit__WEBPACK_IMPORTED_MODULE_3__.html`\n      <div\n          class=\"mdc-menu-surface ${(0,lit_directives_class_map_js__WEBPACK_IMPORTED_MODULE_5__.classMap)(classes)}\"\n          style=\"${(0,lit_directives_style_map_js__WEBPACK_IMPORTED_MODULE_6__.styleMap)(styles)}\"\n          @keydown=${this.onKeydown}\n          @opened=${this.registerBodyClick}\n          @closed=${this.deregisterBodyClick}>\n        <slot></slot>\n      </div>`;\n  }\n\n  createAdapter() {\n    return Object.assign(Object.assign({}, (0,_material_mwc_base_base_element__WEBPACK_IMPORTED_MODULE_0__.addHasRemoveClass)(this.mdcRoot)), {\n      hasAnchor: () => {\n        return !!this.anchor;\n      },\n      notifyClose: () => {\n        const init = {\n          bubbles: true,\n          composed: true\n        };\n        const ev = new CustomEvent('closed', init);\n        this.open = false;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyClosing: () => {\n        const init = {\n          bubbles: true,\n          composed: true\n        };\n        const ev = new CustomEvent('closing', init);\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      notifyOpen: () => {\n        const init = {\n          bubbles: true,\n          composed: true\n        };\n        const ev = new CustomEvent('opened', init);\n        this.open = true;\n        this.mdcRoot.dispatchEvent(ev);\n      },\n      isElementInContainer: () => false,\n      isRtl: () => {\n        if (this.mdcRoot) {\n          return getComputedStyle(this.mdcRoot).direction === 'rtl';\n        }\n\n        return false;\n      },\n      setTransformOrigin: origin => {\n        const root = this.mdcRoot;\n\n        if (!root) {\n          return;\n        }\n\n        this.styleTransformOrigin = origin;\n      },\n      isFocused: () => {\n        return (0,_material_mwc_base_utils__WEBPACK_IMPORTED_MODULE_2__.doesElementContainFocus)(this);\n      },\n      saveFocus: () => {\n        const activeElementPath = (0,_material_mwc_base_utils__WEBPACK_IMPORTED_MODULE_2__.deepActiveElementPath)();\n        const pathLength = activeElementPath.length;\n\n        if (!pathLength) {\n          this.previouslyFocused = null;\n        }\n\n        this.previouslyFocused = activeElementPath[pathLength - 1];\n      },\n      restoreFocus: () => {\n        if (!this.previouslyFocused) {\n          return;\n        }\n\n        if ('focus' in this.previouslyFocused) {\n          this.previouslyFocused.focus();\n        }\n      },\n      getInnerDimensions: () => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return {\n            width: 0,\n            height: 0\n          };\n        }\n\n        return {\n          width: mdcRoot.offsetWidth,\n          height: mdcRoot.offsetHeight\n        };\n      },\n      getAnchorDimensions: () => {\n        const anchorElement = this.anchor;\n        return anchorElement ? anchorElement.getBoundingClientRect() : null;\n      },\n      getBodyDimensions: () => {\n        return {\n          width: document.body.clientWidth,\n          height: document.body.clientHeight\n        };\n      },\n      getWindowDimensions: () => {\n        return {\n          width: window.innerWidth,\n          height: window.innerHeight\n        };\n      },\n      getWindowScroll: () => {\n        return {\n          x: window.pageXOffset,\n          y: window.pageYOffset\n        };\n      },\n      setPosition: position => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        }\n\n        this.styleLeft = 'left' in position ? `${position.left}px` : '';\n        this.styleRight = 'right' in position ? `${position.right}px` : '';\n        this.styleTop = 'top' in position ? `${position.top}px` : '';\n        this.styleBottom = 'bottom' in position ? `${position.bottom}px` : '';\n      },\n      setMaxHeight: async height => {\n        const mdcRoot = this.mdcRoot;\n\n        if (!mdcRoot) {\n          return;\n        } // must set both for IE support as IE will not set a var\n\n\n        this.styleMaxHeight = height;\n        await this.updateComplete;\n        this.styleMaxHeight = `var(--mdc-menu-max-height, ${height})`;\n      }\n    });\n  }\n\n  onKeydown(evt) {\n    if (this.mdcFoundation) {\n      this.mdcFoundation.handleKeydown(evt);\n    }\n  }\n\n  onBodyClick(evt) {\n    if (this.stayOpenOnBodyClick) {\n      return;\n    }\n\n    const path = evt.composedPath();\n\n    if (path.indexOf(this) === -1) {\n      this.close();\n    }\n  }\n\n  registerBodyClick() {\n    this.onBodyClickBound = this.onBodyClick.bind(this); // capture otherwise listener closes menu after quick menu opens\n\n    document.body.addEventListener('click', this.onBodyClickBound, {\n      passive: true,\n      capture: true\n    });\n  }\n\n  deregisterBodyClick() {\n    document.body.removeEventListener('click', this.onBodyClickBound, {\n      capture: true\n    });\n  }\n\n  close() {\n    this.open = false;\n  }\n\n  show() {\n    this.open = true;\n  }\n\n}\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.query)('.mdc-menu-surface')], MenuSurfaceBase.prototype, \"mdcRoot\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.query)('slot')], MenuSurfaceBase.prototype, \"slotElement\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (isAbsolute) {\n  if (this.mdcFoundation && !this.fixed) {\n    this.mdcFoundation.setIsHoisted(isAbsolute);\n  }\n})], MenuSurfaceBase.prototype, \"absolute\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean\n})], MenuSurfaceBase.prototype, \"fullwidth\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (isFixed) {\n  if (this.mdcFoundation && !this.absolute) {\n    this.mdcFoundation.setFixedPosition(isFixed);\n  }\n})], MenuSurfaceBase.prototype, \"fixed\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Number\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation && this.y !== null && value !== null) {\n    this.mdcFoundation.setAbsolutePosition(value, this.y);\n    this.mdcFoundation.setAnchorMargin({\n      left: value,\n      top: this.y,\n      right: -value,\n      bottom: this.y\n    });\n  }\n})], MenuSurfaceBase.prototype, \"x\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Number\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation && this.x !== null && value !== null) {\n    this.mdcFoundation.setAbsolutePosition(this.x, value);\n    this.mdcFoundation.setAnchorMargin({\n      left: this.x,\n      top: value,\n      right: -this.x,\n      bottom: value\n    });\n  }\n})], MenuSurfaceBase.prototype, \"y\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation) {\n    this.mdcFoundation.setQuickOpen(value);\n  }\n})], MenuSurfaceBase.prototype, \"quick\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean,\n  reflect: true\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (isOpen, wasOpen) {\n  if (this.mdcFoundation) {\n    if (isOpen) {\n      this.mdcFoundation.open(); // wasOpen helps with first render (when it is `undefined`) perf\n    } else if (wasOpen !== undefined) {\n      this.mdcFoundation.close();\n    }\n  }\n})], MenuSurfaceBase.prototype, \"open\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: Boolean\n})], MenuSurfaceBase.prototype, \"stayOpenOnBodyClick\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)(), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation) {\n    if (value) {\n      this.mdcFoundation.setAnchorCorner(value);\n    } else {\n      this.mdcFoundation.setAnchorCorner(value);\n    }\n  }\n})], MenuSurfaceBase.prototype, \"bitwiseCorner\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: String\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation) {\n    const isValidValue = value === 'START' || value === 'END';\n    const isFirstTimeSet = this.previousMenuCorner === null;\n    const cornerChanged = !isFirstTimeSet && value !== this.previousMenuCorner;\n    const initiallySetToEnd = isFirstTimeSet && value === 'END';\n\n    if (isValidValue && (cornerChanged || initiallySetToEnd)) {\n      this.bitwiseCorner = this.bitwiseCorner ^ _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.CornerBit.RIGHT;\n      this.mdcFoundation.flipCornerHorizontally();\n      this.previousMenuCorner = value;\n    }\n  }\n})], MenuSurfaceBase.prototype, \"menuCorner\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.property)({\n  type: String\n}), (0,_material_mwc_base_observer__WEBPACK_IMPORTED_MODULE_1__.observer)(function (value) {\n  if (this.mdcFoundation) {\n    if (value) {\n      let newCorner = stringToCorner[value];\n\n      if (this.menuCorner === 'END') {\n        newCorner = newCorner ^ _material_menu_surface_constants__WEBPACK_IMPORTED_MODULE_7__.CornerBit.RIGHT;\n      }\n\n      this.bitwiseCorner = newCorner;\n    }\n  }\n})], MenuSurfaceBase.prototype, \"corner\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleTop\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleLeft\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleRight\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleBottom\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleMaxHeight\", void 0);\n\n(0,tslib__WEBPACK_IMPORTED_MODULE_9__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_4__.state)()], MenuSurfaceBase.prototype, \"styleTransformOrigin\", void 0);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LXN1cmZhY2UtYmFzZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUFBOzs7O0FBSUE7O0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFXQTs7O0FBR0E7O0FBQ0E7QUFBQTs7QUFHQTtBQVlBO0FBRUE7QUFRQTtBQVVBO0FBVUE7O0FBU0E7QUFhQTtBQUVBO0FBYUE7QUFDQTs7QUFtQkE7QUFlQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBRUE7QUFDQTs7QUFDQTtBQXVMQTs7QUFyTEE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFTQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBbEhBO0FBb0hBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUF4VEE7O0FBS0E7O0FBRUE7O0FBUUE7QUFOQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBR0E7QUFBQTtBQUFBOztBQVFBO0FBTkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQVdBO0FBUkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQVdBO0FBUkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQVVBO0FBTkE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQWNBO0FBWEE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTtBQUFBO0FBQUE7O0FBYUE7QUFUQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXNCQTtBQWhCQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFnQkE7QUFiQTtBQUFBO0FBRUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFHQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQTs7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovL2hvbWUtYXNzaXN0YW50LWZyb250ZW5kL213Yy1tZW51LXN1cmZhY2UtYmFzZS50cz8yMGZiIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cblxuLy8gU3R5bGUgcHJlZmVyZW5jZSBmb3IgbGVhZGluZyB1bmRlcnNjb3Jlcy5cbi8vIHRzbGludDpkaXNhYmxlOnN0cmlwLXByaXZhdGUtcHJvcGVydHktdW5kZXJzY29yZVxuXG5pbXBvcnQge01EQ01lbnVTdXJmYWNlQWRhcHRlcn0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9hZGFwdGVyJztcbmltcG9ydCB7Q29ybmVyIGFzIENvcm5lckVudW0sIENvcm5lckJpdH0gZnJvbSAnQG1hdGVyaWFsL21lbnUtc3VyZmFjZS9jb25zdGFudHMnO1xuaW1wb3J0IE1EQ01lbnVTdXJmYWNlRm91bmRhdGlvbiBmcm9tICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlL2ZvdW5kYXRpb24nO1xuaW1wb3J0IHthZGRIYXNSZW1vdmVDbGFzcywgQmFzZUVsZW1lbnR9IGZyb20gJ0BtYXRlcmlhbC9td2MtYmFzZS9iYXNlLWVsZW1lbnQnO1xuaW1wb3J0IHtvYnNlcnZlcn0gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL29ic2VydmVyJztcbmltcG9ydCB7ZGVlcEFjdGl2ZUVsZW1lbnRQYXRoLCBkb2VzRWxlbWVudENvbnRhaW5Gb2N1c30gZnJvbSAnQG1hdGVyaWFsL213Yy1iYXNlL3V0aWxzJztcbmltcG9ydCB7aHRtbH0gZnJvbSAnbGl0JztcbmltcG9ydCB7cHJvcGVydHksIHF1ZXJ5LCBzdGF0ZX0gZnJvbSAnbGl0L2RlY29yYXRvcnMuanMnO1xuaW1wb3J0IHtjbGFzc01hcH0gZnJvbSAnbGl0L2RpcmVjdGl2ZXMvY2xhc3MtbWFwLmpzJztcbmltcG9ydCB7c3R5bGVNYXB9IGZyb20gJ2xpdC9kaXJlY3RpdmVzL3N0eWxlLW1hcC5qcyc7XG5cbmV4cG9ydCB0eXBlIENvcm5lciA9IGtleW9mIHR5cGVvZiBDb3JuZXJFbnVtO1xuZXhwb3J0IHR5cGUgQW5jaG9yYWJsZUVsZW1lbnQgPSBIVE1MRWxlbWVudCZ7YW5jaG9yOiBFbGVtZW50IHwgbnVsbH07XG5leHBvcnQgdHlwZSBNZW51Q29ybmVyID0gJ1NUQVJUJ3wnRU5EJztcblxuLy8gdHNsaW50OmRpc2FibGU6bm8tYml0d2lzZVxuXG4vLyByZXF1aXJlZCBmb3IgY2xvc3VyZSBjb21waWxlclxuY29uc3Qgc3RyaW5nVG9Db3JuZXIgPSB7XG4gICdUT1BfTEVGVCc6IENvcm5lckVudW0uVE9QX0xFRlQsXG4gICdUT1BfUklHSFQnOiBDb3JuZXJFbnVtLlRPUF9SSUdIVCxcbiAgJ0JPVFRPTV9MRUZUJzogQ29ybmVyRW51bS5CT1RUT01fTEVGVCxcbiAgJ0JPVFRPTV9SSUdIVCc6IENvcm5lckVudW0uQk9UVE9NX1JJR0hULFxuICAnVE9QX1NUQVJUJzogQ29ybmVyRW51bS5UT1BfU1RBUlQsXG4gICdUT1BfRU5EJzogQ29ybmVyRW51bS5UT1BfRU5ELFxuICAnQk9UVE9NX1NUQVJUJzogQ29ybmVyRW51bS5CT1RUT01fU1RBUlQsXG4gICdCT1RUT01fRU5EJzogQ29ybmVyRW51bS5CT1RUT01fRU5ELFxufTtcblxuLyoqXG4gKiBAZmlyZXMgb3BlbmVkXG4gKiBAZmlyZXMgY2xvc2VkXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNZW51U3VyZmFjZUJhc2UgZXh0ZW5kcyBCYXNlRWxlbWVudCB7XG4gIHByb3RlY3RlZCBtZGNGb3VuZGF0aW9uITogTURDTWVudVN1cmZhY2VGb3VuZGF0aW9uO1xuXG4gIHByb3RlY3RlZCByZWFkb25seSBtZGNGb3VuZGF0aW9uQ2xhc3MgPSBNRENNZW51U3VyZmFjZUZvdW5kYXRpb247XG5cbiAgQHF1ZXJ5KCcubWRjLW1lbnUtc3VyZmFjZScpIG1kY1Jvb3QhOiBIVE1MRGl2RWxlbWVudDtcblxuICBAcXVlcnkoJ3Nsb3QnKSBzbG90RWxlbWVudCE6IEhUTUxTbG90RWxlbWVudHxudWxsO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pXG4gIEBvYnNlcnZlcihmdW5jdGlvbih0aGlzOiBNZW51U3VyZmFjZUJhc2UsIGlzQWJzb2x1dGU6IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uICYmICF0aGlzLmZpeGVkKSB7XG4gICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0SXNIb2lzdGVkKGlzQWJzb2x1dGUpO1xuICAgIH1cbiAgfSlcbiAgYWJzb2x1dGUgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KSBmdWxsd2lkdGggPSBmYWxzZTtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBAb2JzZXJ2ZXIoZnVuY3Rpb24odGhpczogTWVudVN1cmZhY2VCYXNlLCBpc0ZpeGVkOiBib29sZWFuKSB7XG4gICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiAhdGhpcy5hYnNvbHV0ZSkge1xuICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEZpeGVkUG9zaXRpb24oaXNGaXhlZCk7XG4gICAgfVxuICB9KVxuICBmaXhlZCA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgQG9ic2VydmVyKGZ1bmN0aW9uKHRoaXM6IE1lbnVTdXJmYWNlQmFzZSwgdmFsdWU6IG51bWJlcnxudWxsKSB7XG4gICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiB0aGlzLnkgIT09IG51bGwgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRBYnNvbHV0ZVBvc2l0aW9uKHZhbHVlLCB0aGlzLnkpO1xuICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEFuY2hvck1hcmdpbihcbiAgICAgICAgICB7bGVmdDogdmFsdWUsIHRvcDogdGhpcy55LCByaWdodDogLXZhbHVlLCBib3R0b206IHRoaXMueX0pO1xuICAgIH1cbiAgfSlcbiAgeDogbnVtYmVyfG51bGwgPSBudWxsO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogTnVtYmVyfSlcbiAgQG9ic2VydmVyKGZ1bmN0aW9uKHRoaXM6IE1lbnVTdXJmYWNlQmFzZSwgdmFsdWU6IG51bWJlcnxudWxsKSB7XG4gICAgaWYgKHRoaXMubWRjRm91bmRhdGlvbiAmJiB0aGlzLnggIT09IG51bGwgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRBYnNvbHV0ZVBvc2l0aW9uKHRoaXMueCwgdmFsdWUpO1xuICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLnNldEFuY2hvck1hcmdpbihcbiAgICAgICAgICB7bGVmdDogdGhpcy54LCB0b3A6IHZhbHVlLCByaWdodDogLXRoaXMueCwgYm90dG9tOiB2YWx1ZX0pO1xuICAgIH1cbiAgfSlcbiAgeTogbnVtYmVyfG51bGwgPSBudWxsO1xuXG4gIC8vIG11c3QgYmUgZGVmaW5lZCBiZWZvcmUgb3BlbiBvciBlbHNlIHJhY2UgY29uZGl0aW9uIGluIGZvdW5kYXRpb24gb2NjdXJzLlxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW59KVxuICBAb2JzZXJ2ZXIoZnVuY3Rpb24odGhpczogTWVudVN1cmZhY2VCYXNlLCB2YWx1ZTogYm9vbGVhbikge1xuICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRRdWlja09wZW4odmFsdWUpO1xuICAgIH1cbiAgfSlcbiAgcXVpY2sgPSBmYWxzZTtcblxuICBAcHJvcGVydHkoe3R5cGU6IEJvb2xlYW4sIHJlZmxlY3Q6IHRydWV9KVxuICBAb2JzZXJ2ZXIoZnVuY3Rpb24odGhpczogTWVudVN1cmZhY2VCYXNlLCBpc09wZW46IGJvb2xlYW4sIHdhc09wZW46IGJvb2xlYW4pIHtcbiAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICBpZiAoaXNPcGVuKSB7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5vcGVuKCk7XG4gICAgICAgIC8vIHdhc09wZW4gaGVscHMgd2l0aCBmaXJzdCByZW5kZXIgKHdoZW4gaXQgaXMgYHVuZGVmaW5lZGApIHBlcmZcbiAgICAgIH0gZWxzZSBpZiAod2FzT3BlbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5jbG9zZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcbiAgb3BlbiA9IGZhbHNlO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogQm9vbGVhbn0pIHN0YXlPcGVuT25Cb2R5Q2xpY2s6IGJvb2xlYW4gPSBmYWxzZTtcblxuICBAc3RhdGUoKVxuICBAb2JzZXJ2ZXIoZnVuY3Rpb24odGhpczogTWVudVN1cmZhY2VCYXNlLCB2YWx1ZTogQ29ybmVyRW51bSkge1xuICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uc2V0QW5jaG9yQ29ybmVyKHZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubWRjRm91bmRhdGlvbi5zZXRBbmNob3JDb3JuZXIodmFsdWUpO1xuICAgICAgfVxuICAgIH1cbiAgfSlcblxuICBwcm90ZWN0ZWQgYml0d2lzZUNvcm5lcjogQ29ybmVyRW51bSA9IENvcm5lckVudW0uVE9QX1NUQVJUO1xuICBwcm90ZWN0ZWQgcHJldmlvdXNNZW51Q29ybmVyOiBNZW51Q29ybmVyfG51bGwgPSBudWxsO1xuXG4gIC8vIG11c3QgYmUgZGVmaW5lZCBiZWZvcmUgb2JzZXJ2ZXIgb2YgYW5jaG9yIGNvcm5lciBmb3IgaW5pdGlhbGl6YXRpb25cbiAgQHByb3BlcnR5KHt0eXBlOiBTdHJpbmd9KVxuICBAb2JzZXJ2ZXIoZnVuY3Rpb24odGhpczogTWVudVN1cmZhY2VCYXNlLCB2YWx1ZTogTWVudUNvcm5lcikge1xuICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgIGNvbnN0IGlzVmFsaWRWYWx1ZSA9IHZhbHVlID09PSAnU1RBUlQnIHx8IHZhbHVlID09PSAnRU5EJztcbiAgICAgIGNvbnN0IGlzRmlyc3RUaW1lU2V0ID0gdGhpcy5wcmV2aW91c01lbnVDb3JuZXIgPT09IG51bGw7XG4gICAgICBjb25zdCBjb3JuZXJDaGFuZ2VkID1cbiAgICAgICAgICAhaXNGaXJzdFRpbWVTZXQgJiYgdmFsdWUgIT09IHRoaXMucHJldmlvdXNNZW51Q29ybmVyO1xuICAgICAgY29uc3QgaW5pdGlhbGx5U2V0VG9FbmQgPSBpc0ZpcnN0VGltZVNldCAmJiB2YWx1ZSA9PT0gJ0VORCc7XG5cbiAgICAgIGlmIChpc1ZhbGlkVmFsdWUgJiYgKGNvcm5lckNoYW5nZWQgfHwgaW5pdGlhbGx5U2V0VG9FbmQpKSB7XG4gICAgICAgIHRoaXMuYml0d2lzZUNvcm5lciA9IHRoaXMuYml0d2lzZUNvcm5lciBeIENvcm5lckJpdC5SSUdIVDtcbiAgICAgICAgdGhpcy5tZGNGb3VuZGF0aW9uLmZsaXBDb3JuZXJIb3Jpem9udGFsbHkoKTtcbiAgICAgICAgdGhpcy5wcmV2aW91c01lbnVDb3JuZXIgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIG1lbnVDb3JuZXI6IE1lbnVDb3JuZXIgPSAnU1RBUlQnO1xuXG4gIEBwcm9wZXJ0eSh7dHlwZTogU3RyaW5nfSlcbiAgQG9ic2VydmVyKGZ1bmN0aW9uKHRoaXM6IE1lbnVTdXJmYWNlQmFzZSwgdmFsdWU6IENvcm5lcikge1xuICAgIGlmICh0aGlzLm1kY0ZvdW5kYXRpb24pIHtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBsZXQgbmV3Q29ybmVyID0gc3RyaW5nVG9Db3JuZXJbdmFsdWVdO1xuICAgICAgICBpZiAodGhpcy5tZW51Q29ybmVyID09PSAnRU5EJykge1xuICAgICAgICAgIG5ld0Nvcm5lciA9IG5ld0Nvcm5lciBeIENvcm5lckJpdC5SSUdIVDtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYml0d2lzZUNvcm5lciA9IG5ld0Nvcm5lcjtcbiAgICAgIH1cbiAgICB9XG4gIH0pXG4gIGNvcm5lcjogQ29ybmVyID0gJ1RPUF9TVEFSVCc7XG5cbiAgQHN0YXRlKCkgcHJvdGVjdGVkIHN0eWxlVG9wID0gJyc7XG4gIEBzdGF0ZSgpIHByb3RlY3RlZCBzdHlsZUxlZnQgPSAnJztcbiAgQHN0YXRlKCkgcHJvdGVjdGVkIHN0eWxlUmlnaHQgPSAnJztcbiAgQHN0YXRlKCkgcHJvdGVjdGVkIHN0eWxlQm90dG9tID0gJyc7XG4gIEBzdGF0ZSgpIHByb3RlY3RlZCBzdHlsZU1heEhlaWdodCA9ICcnO1xuICBAc3RhdGUoKSBwcm90ZWN0ZWQgc3R5bGVUcmFuc2Zvcm1PcmlnaW4gPSAnJztcblxuICBhbmNob3I6IEhUTUxFbGVtZW50fG51bGwgPSBudWxsO1xuXG4gIHByb3RlY3RlZCBwcmV2aW91c2x5Rm9jdXNlZDogSFRNTEVsZW1lbnR8RWxlbWVudHxudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIHByZXZpb3VzQW5jaG9yOiBIVE1MRWxlbWVudHxudWxsID0gbnVsbDtcbiAgcHJvdGVjdGVkIG9uQm9keUNsaWNrQm91bmQ6IChldnQ6IE1vdXNlRXZlbnQpID0+IHZvaWQgPSAoKSA9PiB1bmRlZmluZWQ7XG5cbiAgb3ZlcnJpZGUgcmVuZGVyKCkge1xuICAgIGNvbnN0IGNsYXNzZXMgPSB7XG4gICAgICAnbWRjLW1lbnUtc3VyZmFjZS0tZml4ZWQnOiB0aGlzLmZpeGVkLFxuICAgICAgJ21kYy1tZW51LXN1cmZhY2UtLWZ1bGx3aWR0aCc6IHRoaXMuZnVsbHdpZHRoLFxuICAgIH07XG5cbiAgICBjb25zdCBzdHlsZXMgPSB7XG4gICAgICAndG9wJzogdGhpcy5zdHlsZVRvcCxcbiAgICAgICdsZWZ0JzogdGhpcy5zdHlsZUxlZnQsXG4gICAgICAncmlnaHQnOiB0aGlzLnN0eWxlUmlnaHQsXG4gICAgICAnYm90dG9tJzogdGhpcy5zdHlsZUJvdHRvbSxcbiAgICAgICdtYXgtaGVpZ2h0JzogdGhpcy5zdHlsZU1heEhlaWdodCxcbiAgICAgICd0cmFuc2Zvcm0tb3JpZ2luJzogdGhpcy5zdHlsZVRyYW5zZm9ybU9yaWdpbixcbiAgICB9O1xuXG4gICAgcmV0dXJuIGh0bWxgXG4gICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJtZGMtbWVudS1zdXJmYWNlICR7Y2xhc3NNYXAoY2xhc3Nlcyl9XCJcbiAgICAgICAgICBzdHlsZT1cIiR7c3R5bGVNYXAoc3R5bGVzKX1cIlxuICAgICAgICAgIEBrZXlkb3duPSR7dGhpcy5vbktleWRvd259XG4gICAgICAgICAgQG9wZW5lZD0ke3RoaXMucmVnaXN0ZXJCb2R5Q2xpY2t9XG4gICAgICAgICAgQGNsb3NlZD0ke3RoaXMuZGVyZWdpc3RlckJvZHlDbGlja30+XG4gICAgICAgIDxzbG90Pjwvc2xvdD5cbiAgICAgIDwvZGl2PmA7XG4gIH1cblxuICBjcmVhdGVBZGFwdGVyKCk6IE1EQ01lbnVTdXJmYWNlQWRhcHRlciB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLmFkZEhhc1JlbW92ZUNsYXNzKHRoaXMubWRjUm9vdCksXG4gICAgICBoYXNBbmNob3I6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5hbmNob3I7XG4gICAgICB9LFxuICAgICAgbm90aWZ5Q2xvc2U6ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdDogQ3VzdG9tRXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlfTtcbiAgICAgICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Nsb3NlZCcsIGluaXQpO1xuICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5tZGNSb290LmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgfSxcbiAgICAgIG5vdGlmeUNsb3Npbmc6ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdDogQ3VzdG9tRXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlfTtcbiAgICAgICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Nsb3NpbmcnLCBpbml0KTtcbiAgICAgICAgdGhpcy5tZGNSb290LmRpc3BhdGNoRXZlbnQoZXYpO1xuICAgICAgfSxcbiAgICAgIG5vdGlmeU9wZW46ICgpID0+IHtcbiAgICAgICAgY29uc3QgaW5pdDogQ3VzdG9tRXZlbnRJbml0ID0ge2J1YmJsZXM6IHRydWUsIGNvbXBvc2VkOiB0cnVlfTtcbiAgICAgICAgY29uc3QgZXYgPSBuZXcgQ3VzdG9tRXZlbnQoJ29wZW5lZCcsIGluaXQpO1xuICAgICAgICB0aGlzLm9wZW4gPSB0cnVlO1xuICAgICAgICB0aGlzLm1kY1Jvb3QuZGlzcGF0Y2hFdmVudChldik7XG4gICAgICB9LFxuICAgICAgaXNFbGVtZW50SW5Db250YWluZXI6ICgpID0+IGZhbHNlLFxuICAgICAgaXNSdGw6ICgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMubWRjUm9vdCkge1xuICAgICAgICAgIHJldHVybiBnZXRDb21wdXRlZFN0eWxlKHRoaXMubWRjUm9vdCkuZGlyZWN0aW9uID09PSAncnRsJztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBzZXRUcmFuc2Zvcm1PcmlnaW46IChvcmlnaW4pID0+IHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IHRoaXMubWRjUm9vdDtcbiAgICAgICAgaWYgKCFyb290KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zdHlsZVRyYW5zZm9ybU9yaWdpbiA9IG9yaWdpbjtcbiAgICAgIH0sXG4gICAgICBpc0ZvY3VzZWQ6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGRvZXNFbGVtZW50Q29udGFpbkZvY3VzKHRoaXMpO1xuICAgICAgfSxcbiAgICAgIHNhdmVGb2N1czogKCkgPT4ge1xuICAgICAgICBjb25zdCBhY3RpdmVFbGVtZW50UGF0aCA9IGRlZXBBY3RpdmVFbGVtZW50UGF0aCgpO1xuICAgICAgICBjb25zdCBwYXRoTGVuZ3RoID0gYWN0aXZlRWxlbWVudFBhdGgubGVuZ3RoO1xuXG4gICAgICAgIGlmICghcGF0aExlbmd0aCkge1xuICAgICAgICAgIHRoaXMucHJldmlvdXNseUZvY3VzZWQgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5wcmV2aW91c2x5Rm9jdXNlZCA9IGFjdGl2ZUVsZW1lbnRQYXRoW3BhdGhMZW5ndGggLSAxXTtcbiAgICAgIH0sXG4gICAgICByZXN0b3JlRm9jdXM6ICgpID0+IHtcbiAgICAgICAgaWYgKCF0aGlzLnByZXZpb3VzbHlGb2N1c2VkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCdmb2N1cycgaW4gdGhpcy5wcmV2aW91c2x5Rm9jdXNlZCkge1xuICAgICAgICAgIHRoaXMucHJldmlvdXNseUZvY3VzZWQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGdldElubmVyRGltZW5zaW9uczogKCkgPT4ge1xuICAgICAgICBjb25zdCBtZGNSb290ID0gdGhpcy5tZGNSb290O1xuXG4gICAgICAgIGlmICghbWRjUm9vdCkge1xuICAgICAgICAgIHJldHVybiB7d2lkdGg6IDAsIGhlaWdodDogMH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge3dpZHRoOiBtZGNSb290Lm9mZnNldFdpZHRoLCBoZWlnaHQ6IG1kY1Jvb3Qub2Zmc2V0SGVpZ2h0fTtcbiAgICAgIH0sXG4gICAgICBnZXRBbmNob3JEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGFuY2hvckVsZW1lbnQgPSB0aGlzLmFuY2hvcjtcblxuICAgICAgICByZXR1cm4gYW5jaG9yRWxlbWVudCA/IGFuY2hvckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsO1xuICAgICAgfSxcbiAgICAgIGdldEJvZHlEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBnZXRXaW5kb3dEaW1lbnNpb25zOiAoKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgICAgIGhlaWdodDogd2luZG93LmlubmVySGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIGdldFdpbmRvd1Njcm9sbDogKCkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHg6IHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICB5OiB3aW5kb3cucGFnZVlPZmZzZXQsXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgc2V0UG9zaXRpb246IChwb3NpdGlvbikgPT4ge1xuICAgICAgICBjb25zdCBtZGNSb290ID0gdGhpcy5tZGNSb290O1xuXG4gICAgICAgIGlmICghbWRjUm9vdCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3R5bGVMZWZ0ID0gJ2xlZnQnIGluIHBvc2l0aW9uID8gYCR7cG9zaXRpb24ubGVmdH1weGAgOiAnJztcbiAgICAgICAgdGhpcy5zdHlsZVJpZ2h0ID0gJ3JpZ2h0JyBpbiBwb3NpdGlvbiA/IGAke3Bvc2l0aW9uLnJpZ2h0fXB4YCA6ICcnO1xuICAgICAgICB0aGlzLnN0eWxlVG9wID0gJ3RvcCcgaW4gcG9zaXRpb24gPyBgJHtwb3NpdGlvbi50b3B9cHhgIDogJyc7XG4gICAgICAgIHRoaXMuc3R5bGVCb3R0b20gPSAnYm90dG9tJyBpbiBwb3NpdGlvbiA/IGAke3Bvc2l0aW9uLmJvdHRvbX1weGAgOiAnJztcbiAgICAgIH0sXG4gICAgICBzZXRNYXhIZWlnaHQ6IGFzeW5jIChoZWlnaHQpID0+IHtcbiAgICAgICAgY29uc3QgbWRjUm9vdCA9IHRoaXMubWRjUm9vdDtcblxuICAgICAgICBpZiAoIW1kY1Jvb3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBtdXN0IHNldCBib3RoIGZvciBJRSBzdXBwb3J0IGFzIElFIHdpbGwgbm90IHNldCBhIHZhclxuICAgICAgICB0aGlzLnN0eWxlTWF4SGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBhd2FpdCB0aGlzLnVwZGF0ZUNvbXBsZXRlO1xuICAgICAgICB0aGlzLnN0eWxlTWF4SGVpZ2h0ID0gYHZhcigtLW1kYy1tZW51LW1heC1oZWlnaHQsICR7aGVpZ2h0fSlgO1xuICAgICAgfSxcbiAgICB9O1xuICB9XG5cbiAgcHJvdGVjdGVkIG9uS2V5ZG93bihldnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICBpZiAodGhpcy5tZGNGb3VuZGF0aW9uKSB7XG4gICAgICB0aGlzLm1kY0ZvdW5kYXRpb24uaGFuZGxlS2V5ZG93bihldnQpO1xuICAgIH1cbiAgfVxuXG4gIHByb3RlY3RlZCBvbkJvZHlDbGljayhldnQ6IE1vdXNlRXZlbnQpIHtcbiAgICBpZiAodGhpcy5zdGF5T3Blbk9uQm9keUNsaWNrKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhdGggPSBldnQuY29tcG9zZWRQYXRoKCk7XG4gICAgaWYgKHBhdGguaW5kZXhPZih0aGlzKSA9PT0gLTEpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBwcm90ZWN0ZWQgcmVnaXN0ZXJCb2R5Q2xpY2soKSB7XG4gICAgdGhpcy5vbkJvZHlDbGlja0JvdW5kID0gdGhpcy5vbkJvZHlDbGljay5iaW5kKHRoaXMpO1xuICAgIC8vIGNhcHR1cmUgb3RoZXJ3aXNlIGxpc3RlbmVyIGNsb3NlcyBtZW51IGFmdGVyIHF1aWNrIG1lbnUgb3BlbnNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXG4gICAgICAgICdjbGljaycsIHRoaXMub25Cb2R5Q2xpY2tCb3VuZCwge3Bhc3NpdmU6IHRydWUsIGNhcHR1cmU6IHRydWV9KTtcbiAgfVxuXG4gIHByb3RlY3RlZCBkZXJlZ2lzdGVyQm9keUNsaWNrKCkge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcbiAgICAgICAgJ2NsaWNrJywgdGhpcy5vbkJvZHlDbGlja0JvdW5kLCB7Y2FwdHVyZTogdHJ1ZX0pO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5vcGVuID0gZmFsc2U7XG4gIH1cblxuICBzaG93KCkge1xuICAgIHRoaXMub3BlbiA9IHRydWU7XG4gIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/@material/mwc-menu/mwc-menu-surface-base.js\n");

/***/ }),

/***/ "./node_modules/@material/mwc-menu/mwc-menu-surface.css.js":
/*!*****************************************************************!*\
  !*** ./node_modules/@material/mwc-menu/mwc-menu-surface.css.js ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"styles\": () => (/* binding */ styles)\n/* harmony export */ });\n/* harmony import */ var lit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit */ \"./node_modules/lit/index.js\");\n/**\n * @license\n * Copyright 2021 Google LLC\n * SPDX-LIcense-Identifier: Apache-2.0\n */\n\nconst styles = lit__WEBPACK_IMPORTED_MODULE_0__.css`.mdc-menu-surface{display:none;position:absolute;box-sizing:border-box;max-width:calc(100vw - 32px);max-width:var(--mdc-menu-max-width, calc(100vw - 32px));max-height:calc(100vh - 32px);max-height:var(--mdc-menu-max-height, calc(100vh - 32px));margin:0;padding:0;transform:scale(1);transform-origin:top left;opacity:0;overflow:auto;will-change:transform,opacity;z-index:8;transition:opacity .03s linear,transform .12s cubic-bezier(0, 0, 0.2, 1),height 250ms cubic-bezier(0, 0, 0.2, 1);box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2),0px 8px 10px 1px rgba(0, 0, 0, 0.14),0px 3px 14px 2px rgba(0,0,0,.12);background-color:#fff;background-color:var(--mdc-theme-surface, #fff);color:#000;color:var(--mdc-theme-on-surface, #000);border-radius:4px;border-radius:var(--mdc-shape-medium, 4px);transform-origin-left:top left;transform-origin-right:top right}.mdc-menu-surface:focus{outline:none}.mdc-menu-surface--animating-open{display:inline-block;transform:scale(0.8);opacity:0}.mdc-menu-surface--open{display:inline-block;transform:scale(1);opacity:1}.mdc-menu-surface--animating-closed{display:inline-block;opacity:0;transition:opacity .075s linear}[dir=rtl] .mdc-menu-surface,.mdc-menu-surface[dir=rtl]{transform-origin-left:top right;transform-origin-right:top left}.mdc-menu-surface--anchor{position:relative;overflow:visible}.mdc-menu-surface--fixed{position:fixed}.mdc-menu-surface--fullwidth{width:100%}:host(:not([open])){display:none}.mdc-menu-surface{z-index:8;z-index:var(--mdc-menu-z-index, 8);min-width:112px;min-width:var(--mdc-menu-min-width, 112px)}`;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LXN1cmZhY2UuY3NzLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUE7Ozs7QUFJQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC9td2MtbWVudS1zdXJmYWNlLmNzcy50cz8xYjllIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqIFNQRFgtTEljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4gKi9cbmltcG9ydCB7Y3NzfSBmcm9tICdsaXQnO1xuZXhwb3J0IGNvbnN0IHN0eWxlcyA9IGNzc2AubWRjLW1lbnUtc3VyZmFjZXtkaXNwbGF5Om5vbmU7cG9zaXRpb246YWJzb2x1dGU7Ym94LXNpemluZzpib3JkZXItYm94O21heC13aWR0aDpjYWxjKDEwMHZ3IC0gMzJweCk7bWF4LXdpZHRoOnZhcigtLW1kYy1tZW51LW1heC13aWR0aCwgY2FsYygxMDB2dyAtIDMycHgpKTttYXgtaGVpZ2h0OmNhbGMoMTAwdmggLSAzMnB4KTttYXgtaGVpZ2h0OnZhcigtLW1kYy1tZW51LW1heC1oZWlnaHQsIGNhbGMoMTAwdmggLSAzMnB4KSk7bWFyZ2luOjA7cGFkZGluZzowO3RyYW5zZm9ybTpzY2FsZSgxKTt0cmFuc2Zvcm0tb3JpZ2luOnRvcCBsZWZ0O29wYWNpdHk6MDtvdmVyZmxvdzphdXRvO3dpbGwtY2hhbmdlOnRyYW5zZm9ybSxvcGFjaXR5O3otaW5kZXg6ODt0cmFuc2l0aW9uOm9wYWNpdHkgLjAzcyBsaW5lYXIsdHJhbnNmb3JtIC4xMnMgY3ViaWMtYmV6aWVyKDAsIDAsIDAuMiwgMSksaGVpZ2h0IDI1MG1zIGN1YmljLWJlemllcigwLCAwLCAwLjIsIDEpO2JveC1zaGFkb3c6MHB4IDVweCA1cHggLTNweCByZ2JhKDAsIDAsIDAsIDAuMiksMHB4IDhweCAxMHB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMTQpLDBweCAzcHggMTRweCAycHggcmdiYSgwLDAsMCwuMTIpO2JhY2tncm91bmQtY29sb3I6I2ZmZjtiYWNrZ3JvdW5kLWNvbG9yOnZhcigtLW1kYy10aGVtZS1zdXJmYWNlLCAjZmZmKTtjb2xvcjojMDAwO2NvbG9yOnZhcigtLW1kYy10aGVtZS1vbi1zdXJmYWNlLCAjMDAwKTtib3JkZXItcmFkaXVzOjRweDtib3JkZXItcmFkaXVzOnZhcigtLW1kYy1zaGFwZS1tZWRpdW0sIDRweCk7dHJhbnNmb3JtLW9yaWdpbi1sZWZ0OnRvcCBsZWZ0O3RyYW5zZm9ybS1vcmlnaW4tcmlnaHQ6dG9wIHJpZ2h0fS5tZGMtbWVudS1zdXJmYWNlOmZvY3Vze291dGxpbmU6bm9uZX0ubWRjLW1lbnUtc3VyZmFjZS0tYW5pbWF0aW5nLW9wZW57ZGlzcGxheTppbmxpbmUtYmxvY2s7dHJhbnNmb3JtOnNjYWxlKDAuOCk7b3BhY2l0eTowfS5tZGMtbWVudS1zdXJmYWNlLS1vcGVue2Rpc3BsYXk6aW5saW5lLWJsb2NrO3RyYW5zZm9ybTpzY2FsZSgxKTtvcGFjaXR5OjF9Lm1kYy1tZW51LXN1cmZhY2UtLWFuaW1hdGluZy1jbG9zZWR7ZGlzcGxheTppbmxpbmUtYmxvY2s7b3BhY2l0eTowO3RyYW5zaXRpb246b3BhY2l0eSAuMDc1cyBsaW5lYXJ9W2Rpcj1ydGxdIC5tZGMtbWVudS1zdXJmYWNlLC5tZGMtbWVudS1zdXJmYWNlW2Rpcj1ydGxde3RyYW5zZm9ybS1vcmlnaW4tbGVmdDp0b3AgcmlnaHQ7dHJhbnNmb3JtLW9yaWdpbi1yaWdodDp0b3AgbGVmdH0ubWRjLW1lbnUtc3VyZmFjZS0tYW5jaG9ye3Bvc2l0aW9uOnJlbGF0aXZlO292ZXJmbG93OnZpc2libGV9Lm1kYy1tZW51LXN1cmZhY2UtLWZpeGVke3Bvc2l0aW9uOmZpeGVkfS5tZGMtbWVudS1zdXJmYWNlLS1mdWxsd2lkdGh7d2lkdGg6MTAwJX06aG9zdCg6bm90KFtvcGVuXSkpe2Rpc3BsYXk6bm9uZX0ubWRjLW1lbnUtc3VyZmFjZXt6LWluZGV4Ojg7ei1pbmRleDp2YXIoLS1tZGMtbWVudS16LWluZGV4LCA4KTttaW4td2lkdGg6MTEycHg7bWluLXdpZHRoOnZhcigtLW1kYy1tZW51LW1pbi13aWR0aCwgMTEycHgpfWA7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@material/mwc-menu/mwc-menu-surface.css.js\n");

/***/ }),

/***/ "./node_modules/@material/mwc-menu/mwc-menu-surface.js":
/*!*************************************************************!*\
  !*** ./node_modules/@material/mwc-menu/mwc-menu-surface.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"MenuSurface\": () => (/* binding */ MenuSurface)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ \"./node_modules/tslib/tslib.es6.js\");\n/* harmony import */ var lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! lit/decorators.js */ \"./node_modules/lit/decorators.js\");\n/* harmony import */ var _mwc_menu_surface_base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./mwc-menu-surface-base */ \"./node_modules/@material/mwc-menu/mwc-menu-surface-base.js\");\n/* harmony import */ var _mwc_menu_surface_css__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./mwc-menu-surface.css */ \"./node_modules/@material/mwc-menu/mwc-menu-surface.css.js\");\n/**\n * @license\n * Copyright 2020 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\n // Style preference for leading underscores.\n// tslint:disable:strip-private-property-underscore\n\n\n\n\nlet MenuSurface = class MenuSurface extends _mwc_menu_surface_base__WEBPACK_IMPORTED_MODULE_1__.MenuSurfaceBase {};\nMenuSurface.styles = [_mwc_menu_surface_css__WEBPACK_IMPORTED_MODULE_2__.styles];\nMenuSurface = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__decorate)([(0,lit_decorators_js__WEBPACK_IMPORTED_MODULE_0__.customElement)('mwc-menu-surface')], MenuSurface);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvQG1hdGVyaWFsL213Yy1tZW51L213Yy1tZW51LXN1cmZhY2UuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQTs7OztBQUlBO0FBRUE7QUFDQTs7QUFHQTtBQUVBO0FBQ0E7QUFZQTtBQUNBO0FBREEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ob21lLWFzc2lzdGFudC1mcm9udGVuZC9td2MtbWVudS1zdXJmYWNlLnRzP2NiNDEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICogU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiAqL1xuXG4vLyBTdHlsZSBwcmVmZXJlbmNlIGZvciBsZWFkaW5nIHVuZGVyc2NvcmVzLlxuLy8gdHNsaW50OmRpc2FibGU6c3RyaXAtcHJpdmF0ZS1wcm9wZXJ0eS11bmRlcnNjb3JlXG5cblxuaW1wb3J0IHtjdXN0b21FbGVtZW50fSBmcm9tICdsaXQvZGVjb3JhdG9ycy5qcyc7XG5cbmltcG9ydCB7TWVudVN1cmZhY2VCYXNlfSBmcm9tICcuL213Yy1tZW51LXN1cmZhY2UtYmFzZSc7XG5pbXBvcnQge3N0eWxlc30gZnJvbSAnLi9td2MtbWVudS1zdXJmYWNlLmNzcyc7XG5cbmV4cG9ydCB7TURDTWVudURpc3RhbmNlfSBmcm9tICdAbWF0ZXJpYWwvbWVudS1zdXJmYWNlL3R5cGVzJztcbmV4cG9ydCB7Q29ybmVyLCBNZW51Q29ybmVyfSBmcm9tICcuL213Yy1tZW51LXN1cmZhY2UtYmFzZSc7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgaW50ZXJmYWNlIEhUTUxFbGVtZW50VGFnTmFtZU1hcCB7XG4gICAgJ213Yy1tZW51LXN1cmZhY2UnOiBNZW51U3VyZmFjZTtcbiAgfVxufVxuXG5AY3VzdG9tRWxlbWVudCgnbXdjLW1lbnUtc3VyZmFjZScpXG5leHBvcnQgY2xhc3MgTWVudVN1cmZhY2UgZXh0ZW5kcyBNZW51U3VyZmFjZUJhc2Uge1xuICBzdGF0aWMgb3ZlcnJpZGUgc3R5bGVzID0gW3N0eWxlc107XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/@material/mwc-menu/mwc-menu-surface.js\n");

/***/ })

}]);